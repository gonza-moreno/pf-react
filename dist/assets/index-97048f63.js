function sS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var bn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ks={},aS={get exports(){return ks},set exports(t){ks=t}},ll={},P={},lS={get exports(){return P},set exports(t){P=t}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=Symbol.for("react.element"),uS=Symbol.for("react.portal"),cS=Symbol.for("react.fragment"),hS=Symbol.for("react.strict_mode"),dS=Symbol.for("react.profiler"),fS=Symbol.for("react.provider"),pS=Symbol.for("react.context"),mS=Symbol.for("react.forward_ref"),gS=Symbol.for("react.suspense"),yS=Symbol.for("react.memo"),wS=Symbol.for("react.lazy"),lp=Symbol.iterator;function vS(t){return t===null||typeof t!="object"?null:(t=lp&&t[lp]||t["@@iterator"],typeof t=="function"?t:null)}var kg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tg=Object.assign,bg={};function Di(t,e,n){this.props=t,this.context=e,this.refs=bg,this.updater=n||kg}Di.prototype.isReactComponent={};Di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ig(){}Ig.prototype=Di.prototype;function Oh(t,e,n){this.props=t,this.context=e,this.refs=bg,this.updater=n||kg}var Mh=Oh.prototype=new Ig;Mh.constructor=Oh;Tg(Mh,Di.prototype);Mh.isPureReactComponent=!0;var up=Array.isArray,Ng=Object.prototype.hasOwnProperty,Fh={current:null},Ag={key:!0,ref:!0,__self:!0,__source:!0};function _g(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ng.call(e,r)&&!Ag.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),h=0;h<a;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ro,type:t,key:s,ref:o,props:i,_owner:Fh.current}}function ES(t,e){return{$$typeof:ro,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ro}function SS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cp=/\/+/g;function pu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SS(""+t.key):e.toString(36)}function ta(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ro:case uS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+pu(o,0):r,up(i)?(n="",t!=null&&(n=t.replace(cp,"$&/")+"/"),ta(i,e,n,"",function(h){return h})):i!=null&&(Bh(i)&&(i=ES(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",up(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+pu(s,a);o+=ta(s,e,n,c,i)}else if(c=vS(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+pu(s,a++),o+=ta(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Do(t,e,n){if(t==null)return t;var r=[],i=0;return ta(t,r,"","",function(s){return e.call(n,s,i++)}),r}function CS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},na={transition:null},xS={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:na,ReactCurrentOwner:Fh};J.Children={map:Do,forEach:function(t,e,n){Do(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Do(t,function(){e++}),e},toArray:function(t){return Do(t,function(e){return e})||[]},only:function(t){if(!Bh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=Di;J.Fragment=cS;J.Profiler=dS;J.PureComponent=Oh;J.StrictMode=hS;J.Suspense=gS;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xS;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tg({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Fh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Ng.call(e,c)&&!Ag.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var h=0;h<c;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:ro,type:t.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(t){return t={$$typeof:pS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fS,_context:t},t.Consumer=t};J.createElement=_g;J.createFactory=function(t){var e=_g.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:mS,render:t}};J.isValidElement=Bh;J.lazy=function(t){return{$$typeof:wS,_payload:{_status:-1,_result:t},_init:CS}};J.memo=function(t,e){return{$$typeof:yS,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=na.transition;na.transition={};try{t()}finally{na.transition=e}};J.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};J.useCallback=function(t,e){return st.current.useCallback(t,e)};J.useContext=function(t){return st.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return st.current.useDeferredValue(t)};J.useEffect=function(t,e){return st.current.useEffect(t,e)};J.useId=function(){return st.current.useId()};J.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return st.current.useMemo(t,e)};J.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};J.useRef=function(t){return st.current.useRef(t)};J.useState=function(t){return st.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return st.current.useTransition()};J.version="18.2.0";(function(t){t.exports=J})(lS);const ra=oS(P),sc=sS({__proto__:null,default:ra},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS=P,TS=Symbol.for("react.element"),bS=Symbol.for("react.fragment"),IS=Object.prototype.hasOwnProperty,NS=kS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AS={key:!0,ref:!0,__self:!0,__source:!0};function Dg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)IS.call(e,r)&&!AS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:TS,type:t,key:s,ref:o,props:i,_owner:NS.current}}ll.Fragment=bS;ll.jsx=Dg;ll.jsxs=Dg;(function(t){t.exports=ll})(aS);const ul=ks.Fragment,k=ks.jsx,M=ks.jsxs;var oc={},ac={},_S={get exports(){return ac},set exports(t){ac=t}},xt={},lc={},DS={get exports(){return lc},set exports(t){lc=t}},Pg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,z){var Q=$.length;$.push(z);e:for(;0<Q;){var se=Q-1>>>1,we=$[se];if(0<i(we,z))$[se]=z,$[Q]=we,Q=se;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var z=$[0],Q=$.pop();if(Q!==z){$[0]=Q;e:for(var se=0,we=$.length,Rr=we>>>1;se<Rr;){var Ot=2*(se+1)-1,rr=$[Ot],bt=Ot+1,Or=$[bt];if(0>i(rr,Q))bt<we&&0>i(Or,rr)?($[se]=Or,$[bt]=Q,se=bt):($[se]=rr,$[Ot]=Q,se=Ot);else if(bt<we&&0>i(Or,Q))$[se]=Or,$[bt]=Q,se=bt;else break e}}return z}function i($,z){var Q=$.sortIndex-z.sortIndex;return Q!==0?Q:$.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],h=[],f=1,p=null,g=3,E=!1,C=!1,S=!1,D=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var z=n(h);z!==null;){if(z.callback===null)r(h);else if(z.startTime<=$)r(h),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(h)}}function T($){if(S=!1,v($),!C)if(n(c)!==null)C=!0,Tt(_);else{var z=n(h);z!==null&&Vi(T,z.startTime-$)}}function _($,z){C=!1,S&&(S=!1,w(F),F=-1),E=!0;var Q=g;try{for(v(z),p=n(c);p!==null&&(!(p.expirationTime>z)||$&&!at());){var se=p.callback;if(typeof se=="function"){p.callback=null,g=p.priorityLevel;var we=se(p.expirationTime<=z);z=t.unstable_now(),typeof we=="function"?p.callback=we:p===n(c)&&r(c),v(z)}else r(c);p=n(c)}if(p!==null)var Rr=!0;else{var Ot=n(h);Ot!==null&&Vi(T,Ot.startTime-z),Rr=!1}return Rr}finally{p=null,g=Q,E=!1}}var N=!1,R=null,F=-1,he=5,G=-1;function at(){return!(t.unstable_now()-G<he)}function sn(){if(R!==null){var $=t.unstable_now();G=$;var z=!0;try{z=R(!0,$)}finally{z?qt():(N=!1,R=null)}}else N=!1}var qt;if(typeof y=="function")qt=function(){y(sn)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,on=lt.port2;lt.port1.onmessage=sn,qt=function(){on.postMessage(null)}}else qt=function(){D(sn,0)};function Tt($){R=$,N||(N=!0,qt())}function Vi($,z){F=D(function(){$(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){C||E||(C=!0,Tt(_))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var Q=g;g=z;try{return $()}finally{g=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=g;g=$;try{return z()}finally{g=Q}},t.unstable_scheduleCallback=function($,z,Q){var se=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,$){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=Q+we,$={id:f++,callback:z,priorityLevel:$,startTime:Q,expirationTime:we,sortIndex:-1},Q>se?($.sortIndex=Q,e(h,$),n(c)===null&&$===n(h)&&(S?(w(F),F=-1):S=!0,Vi(T,Q-se))):($.sortIndex=we,e(c,$),C||E||(C=!0,Tt(_))),$},t.unstable_shouldYield=at,t.unstable_wrapCallback=function($){var z=g;return function(){var Q=g;g=z;try{return $.apply(this,arguments)}finally{g=Q}}}})(Pg);(function(t){t.exports=Pg})(DS);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g=P,St=lc;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lg=new Set,Ts={};function Nr(t,e){mi(t,e),mi(t+"Capture",e)}function mi(t,e){for(Ts[t]=e,t=0;t<e.length;t++)Lg.add(e[t])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=Object.prototype.hasOwnProperty,PS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hp={},dp={};function $S(t){return uc.call(dp,t)?!0:uc.call(hp,t)?!1:PS.test(t)?dp[t]=!0:(hp[t]=!0,!1)}function LS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RS(t,e,n,r){if(e===null||typeof e>"u"||LS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ot(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var jh=/[\-:]([a-z])/g;function Uh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jh,Uh);Ue[e]=new ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jh,Uh);Ue[e]=new ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jh,Uh);Ue[e]=new ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new ot(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vh(t,e,n,r){var i=Ue.hasOwnProperty(e)?Ue[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RS(e,n,i,r)&&(n=null),r||i===null?$S(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kn=$g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Po=Symbol.for("react.element"),Wr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),zh=Symbol.for("react.strict_mode"),cc=Symbol.for("react.profiler"),Rg=Symbol.for("react.provider"),Og=Symbol.for("react.context"),Hh=Symbol.for("react.forward_ref"),hc=Symbol.for("react.suspense"),dc=Symbol.for("react.suspense_list"),Kh=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),Mg=Symbol.for("react.offscreen"),fp=Symbol.iterator;function Wi(t){return t===null||typeof t!="object"?null:(t=fp&&t[fp]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,mu;function ns(t){if(mu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mu=e&&e[1]||""}return`
`+mu+t}var gu=!1;function yu(t,e){if(!t||gu)return"";gu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{gu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ns(t):""}function OS(t){switch(t.tag){case 5:return ns(t.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return t=yu(t.type,!1),t;case 11:return t=yu(t.type.render,!1),t;case 1:return t=yu(t.type,!0),t;default:return""}}function fc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qr:return"Fragment";case Wr:return"Portal";case cc:return"Profiler";case zh:return"StrictMode";case hc:return"Suspense";case dc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Og:return(t.displayName||"Context")+".Consumer";case Rg:return(t._context.displayName||"Context")+".Provider";case Hh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kh:return e=t.displayName||null,e!==null?e:fc(t.type)||"Memo";case Nn:e=t._payload,t=t._init;try{return fc(t(e))}catch{}}return null}function MS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fc(e);case 8:return e===zh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FS(t){var e=Fg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $o(t){t._valueTracker||(t._valueTracker=FS(t))}function Bg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pc(t,e){var n=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jg(t,e){e=e.checked,e!=null&&Vh(t,"checked",e,!1)}function mc(t,e){jg(t,e);var n=Wn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gc(t,e.type,n):e.hasOwnProperty("defaultValue")&&gc(t,e.type,Wn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gc(t,e,n){(e!=="number"||wa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rs=Array.isArray;function oi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(rs(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wn(n)}}function Ug(t,e){var n=Wn(e.value),r=Wn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lo,zg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lo=Lo||document.createElement("div"),Lo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BS=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(t){BS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cs[e]=cs[t]})});function Hg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cs.hasOwnProperty(t)&&cs[t]?(""+e).trim():e+"px"}function Kg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Hg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jS=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vc(t,e){if(e){if(jS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Ec(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=null;function qh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cc=null,ai=null,li=null;function wp(t){if(t=oo(t)){if(typeof Cc!="function")throw Error(I(280));var e=t.stateNode;e&&(e=pl(e),Cc(t.stateNode,t.type,e))}}function qg(t){ai?li?li.push(t):li=[t]:ai=t}function Wg(){if(ai){var t=ai,e=li;if(li=ai=null,wp(t),e)for(t=0;t<e.length;t++)wp(e[t])}}function Qg(t,e){return t(e)}function Gg(){}var wu=!1;function Yg(t,e,n){if(wu)return t(e,n);wu=!0;try{return Qg(t,e,n)}finally{wu=!1,(ai!==null||li!==null)&&(Gg(),Wg())}}function Is(t,e){var n=t.stateNode;if(n===null)return null;var r=pl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var xc=!1;if(gn)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){xc=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{xc=!1}function US(t,e,n,r,i,s,o,a,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var hs=!1,va=null,Ea=!1,kc=null,VS={onError:function(t){hs=!0,va=t}};function zS(t,e,n,r,i,s,o,a,c){hs=!1,va=null,US.apply(VS,arguments)}function HS(t,e,n,r,i,s,o,a,c){if(zS.apply(this,arguments),hs){if(hs){var h=va;hs=!1,va=null}else throw Error(I(198));Ea||(Ea=!0,kc=h)}}function Ar(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vp(t){if(Ar(t)!==t)throw Error(I(188))}function KS(t){var e=t.alternate;if(!e){if(e=Ar(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return vp(i),t;if(s===r)return vp(i),e;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function Jg(t){return t=KS(t),t!==null?Zg(t):null}function Zg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zg(t);if(e!==null)return e;t=t.sibling}return null}var ey=St.unstable_scheduleCallback,Ep=St.unstable_cancelCallback,qS=St.unstable_shouldYield,WS=St.unstable_requestPaint,Se=St.unstable_now,QS=St.unstable_getCurrentPriorityLevel,Wh=St.unstable_ImmediatePriority,ty=St.unstable_UserBlockingPriority,Sa=St.unstable_NormalPriority,GS=St.unstable_LowPriority,ny=St.unstable_IdlePriority,cl=null,Zt=null;function YS(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(cl,t,void 0,(t.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:ZS,XS=Math.log,JS=Math.LN2;function ZS(t){return t>>>=0,t===0?32:31-(XS(t)/JS|0)|0}var Ro=64,Oo=4194304;function is(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ca(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=is(a):(s&=o,s!==0&&(r=is(s)))}else o=n&~i,o!==0?r=is(o):s!==0&&(r=is(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vt(e),i=1<<n,r|=t[n],e&=~i;return r}function eC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Vt(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=eC(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Tc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ry(){var t=Ro;return Ro<<=1,!(Ro&4194240)&&(Ro=64),t}function vu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function io(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vt(e),t[e]=n}function nC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Qh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ie=0;function iy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sy,Gh,oy,ay,ly,bc=!1,Mo=[],Rn=null,On=null,Mn=null,Ns=new Map,As=new Map,_n=[],rC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sp(t,e){switch(t){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Ns.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(e.pointerId)}}function Gi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=oo(e),e!==null&&Gh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function iC(t,e,n,r,i){switch(e){case"focusin":return Rn=Gi(Rn,t,e,n,r,i),!0;case"dragenter":return On=Gi(On,t,e,n,r,i),!0;case"mouseover":return Mn=Gi(Mn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ns.set(s,Gi(Ns.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,As.set(s,Gi(As.get(s)||null,t,e,n,r,i)),!0}return!1}function uy(t){var e=cr(t.target);if(e!==null){var n=Ar(e);if(n!==null){if(e=n.tag,e===13){if(e=Xg(n),e!==null){t.blockedOn=e,ly(t.priority,function(){oy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ia(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ic(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sc=r,n.target.dispatchEvent(r),Sc=null}else return e=oo(n),e!==null&&Gh(e),t.blockedOn=n,!1;e.shift()}return!0}function Cp(t,e,n){ia(t)&&n.delete(e)}function sC(){bc=!1,Rn!==null&&ia(Rn)&&(Rn=null),On!==null&&ia(On)&&(On=null),Mn!==null&&ia(Mn)&&(Mn=null),Ns.forEach(Cp),As.forEach(Cp)}function Yi(t,e){t.blockedOn===e&&(t.blockedOn=null,bc||(bc=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,sC)))}function _s(t){function e(i){return Yi(i,t)}if(0<Mo.length){Yi(Mo[0],t);for(var n=1;n<Mo.length;n++){var r=Mo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Rn!==null&&Yi(Rn,t),On!==null&&Yi(On,t),Mn!==null&&Yi(Mn,t),Ns.forEach(e),As.forEach(e),n=0;n<_n.length;n++)r=_n[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)uy(n),n.blockedOn===null&&_n.shift()}var ui=kn.ReactCurrentBatchConfig,xa=!0;function oC(t,e,n,r){var i=ie,s=ui.transition;ui.transition=null;try{ie=1,Yh(t,e,n,r)}finally{ie=i,ui.transition=s}}function aC(t,e,n,r){var i=ie,s=ui.transition;ui.transition=null;try{ie=4,Yh(t,e,n,r)}finally{ie=i,ui.transition=s}}function Yh(t,e,n,r){if(xa){var i=Ic(t,e,n,r);if(i===null)Au(t,e,r,ka,n),Sp(t,r);else if(iC(i,t,e,n,r))r.stopPropagation();else if(Sp(t,r),e&4&&-1<rC.indexOf(t)){for(;i!==null;){var s=oo(i);if(s!==null&&sy(s),s=Ic(t,e,n,r),s===null&&Au(t,e,r,ka,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Au(t,e,r,null,n)}}var ka=null;function Ic(t,e,n,r){if(ka=null,t=qh(r),t=cr(t),t!==null)if(e=Ar(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ka=t,null}function cy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QS()){case Wh:return 1;case ty:return 4;case Sa:case GS:return 16;case ny:return 536870912;default:return 16}default:return 16}}var Pn=null,Xh=null,sa=null;function hy(){if(sa)return sa;var t,e=Xh,n=e.length,r,i="value"in Pn?Pn.value:Pn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return sa=i.slice(t,1<r?1-r:void 0)}function oa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fo(){return!0}function xp(){return!1}function kt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fo:xp,this.isPropagationStopped=xp,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),e}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jh=kt(Pi),so=ye({},Pi,{view:0,detail:0}),lC=kt(so),Eu,Su,Xi,hl=ye({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xi&&(Xi&&t.type==="mousemove"?(Eu=t.screenX-Xi.screenX,Su=t.screenY-Xi.screenY):Su=Eu=0,Xi=t),Eu)},movementY:function(t){return"movementY"in t?t.movementY:Su}}),kp=kt(hl),uC=ye({},hl,{dataTransfer:0}),cC=kt(uC),hC=ye({},so,{relatedTarget:0}),Cu=kt(hC),dC=ye({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),fC=kt(dC),pC=ye({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mC=kt(pC),gC=ye({},Pi,{data:0}),Tp=kt(gC),yC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vC[t])?!!e[t]:!1}function Zh(){return EC}var SC=ye({},so,{key:function(t){if(t.key){var e=yC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zh,charCode:function(t){return t.type==="keypress"?oa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CC=kt(SC),xC=ye({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bp=kt(xC),kC=ye({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zh}),TC=kt(kC),bC=ye({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),IC=kt(bC),NC=ye({},hl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AC=kt(NC),_C=[9,13,27,32],ed=gn&&"CompositionEvent"in window,ds=null;gn&&"documentMode"in document&&(ds=document.documentMode);var DC=gn&&"TextEvent"in window&&!ds,dy=gn&&(!ed||ds&&8<ds&&11>=ds),Ip=String.fromCharCode(32),Np=!1;function fy(t,e){switch(t){case"keyup":return _C.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function py(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gr=!1;function PC(t,e){switch(t){case"compositionend":return py(e);case"keypress":return e.which!==32?null:(Np=!0,Ip);case"textInput":return t=e.data,t===Ip&&Np?null:t;default:return null}}function $C(t,e){if(Gr)return t==="compositionend"||!ed&&fy(t,e)?(t=hy(),sa=Xh=Pn=null,Gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dy&&e.locale!=="ko"?null:e.data;default:return null}}var LC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LC[t.type]:e==="textarea"}function my(t,e,n,r){qg(r),e=Ta(e,"onChange"),0<e.length&&(n=new Jh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fs=null,Ds=null;function RC(t){by(t,0)}function dl(t){var e=Jr(t);if(Bg(e))return t}function OC(t,e){if(t==="change")return e}var gy=!1;if(gn){var xu;if(gn){var ku="oninput"in document;if(!ku){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),ku=typeof _p.oninput=="function"}xu=ku}else xu=!1;gy=xu&&(!document.documentMode||9<document.documentMode)}function Dp(){fs&&(fs.detachEvent("onpropertychange",yy),Ds=fs=null)}function yy(t){if(t.propertyName==="value"&&dl(Ds)){var e=[];my(e,Ds,t,qh(t)),Yg(RC,e)}}function MC(t,e,n){t==="focusin"?(Dp(),fs=e,Ds=n,fs.attachEvent("onpropertychange",yy)):t==="focusout"&&Dp()}function FC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dl(Ds)}function BC(t,e){if(t==="click")return dl(e)}function jC(t,e){if(t==="input"||t==="change")return dl(e)}function UC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kt=typeof Object.is=="function"?Object.is:UC;function Ps(t,e){if(Kt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!uc.call(e,i)||!Kt(t[i],e[i]))return!1}return!0}function Pp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,e){var n=Pp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pp(n)}}function wy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vy(){for(var t=window,e=wa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wa(t.document)}return e}function td(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VC(t){var e=vy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wy(n.ownerDocument.documentElement,n)){if(r!==null&&td(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=$p(n,s);var o=$p(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zC=gn&&"documentMode"in document&&11>=document.documentMode,Yr=null,Nc=null,ps=null,Ac=!1;function Lp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ac||Yr==null||Yr!==wa(r)||(r=Yr,"selectionStart"in r&&td(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ps&&Ps(ps,r)||(ps=r,r=Ta(Nc,"onSelect"),0<r.length&&(e=new Jh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yr)))}function Bo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xr={animationend:Bo("Animation","AnimationEnd"),animationiteration:Bo("Animation","AnimationIteration"),animationstart:Bo("Animation","AnimationStart"),transitionend:Bo("Transition","TransitionEnd")},Tu={},Ey={};gn&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function fl(t){if(Tu[t])return Tu[t];if(!Xr[t])return t;var e=Xr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ey)return Tu[t]=e[n];return t}var Sy=fl("animationend"),Cy=fl("animationiteration"),xy=fl("animationstart"),ky=fl("transitionend"),Ty=new Map,Rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(t,e){Ty.set(t,e),Nr(e,[t])}for(var bu=0;bu<Rp.length;bu++){var Iu=Rp[bu],HC=Iu.toLowerCase(),KC=Iu[0].toUpperCase()+Iu.slice(1);Jn(HC,"on"+KC)}Jn(Sy,"onAnimationEnd");Jn(Cy,"onAnimationIteration");Jn(xy,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(ky,"onTransitionEnd");mi("onMouseEnter",["mouseout","mouseover"]);mi("onMouseLeave",["mouseout","mouseover"]);mi("onPointerEnter",["pointerout","pointerover"]);mi("onPointerLeave",["pointerout","pointerover"]);Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function Op(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HS(r,e,void 0,t),t.currentTarget=null}function by(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,h=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Op(i,a,h),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,h=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Op(i,a,h),s=c}}}if(Ea)throw t=kc,Ea=!1,kc=null,t}function ue(t,e){var n=e[Lc];n===void 0&&(n=e[Lc]=new Set);var r=t+"__bubble";n.has(r)||(Iy(e,t,2,!1),n.add(r))}function Nu(t,e,n){var r=0;e&&(r|=4),Iy(n,t,r,e)}var jo="_reactListening"+Math.random().toString(36).slice(2);function $s(t){if(!t[jo]){t[jo]=!0,Lg.forEach(function(n){n!=="selectionchange"&&(qC.has(n)||Nu(n,!1,t),Nu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jo]||(e[jo]=!0,Nu("selectionchange",!1,e))}}function Iy(t,e,n,r){switch(cy(e)){case 1:var i=oC;break;case 4:i=aC;break;default:i=Yh}n=i.bind(null,e,n,t),i=void 0,!xc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Au(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=cr(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Yg(function(){var h=s,f=qh(n),p=[];e:{var g=Ty.get(t);if(g!==void 0){var E=Jh,C=t;switch(t){case"keypress":if(oa(n)===0)break e;case"keydown":case"keyup":E=CC;break;case"focusin":C="focus",E=Cu;break;case"focusout":C="blur",E=Cu;break;case"beforeblur":case"afterblur":E=Cu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=kp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=cC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=TC;break;case Sy:case Cy:case xy:E=fC;break;case ky:E=IC;break;case"scroll":E=lC;break;case"wheel":E=AC;break;case"copy":case"cut":case"paste":E=mC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=bp}var S=(e&4)!==0,D=!S&&t==="scroll",w=S?g!==null?g+"Capture":null:g;S=[];for(var y=h,v;y!==null;){v=y;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,w!==null&&(T=Is(y,w),T!=null&&S.push(Ls(y,T,v)))),D)break;y=y.return}0<S.length&&(g=new E(g,C,null,n,f),p.push({event:g,listeners:S}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",g&&n!==Sc&&(C=n.relatedTarget||n.fromElement)&&(cr(C)||C[yn]))break e;if((E||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,E?(C=n.relatedTarget||n.toElement,E=h,C=C?cr(C):null,C!==null&&(D=Ar(C),C!==D||C.tag!==5&&C.tag!==6)&&(C=null)):(E=null,C=h),E!==C)){if(S=kp,T="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=bp,T="onPointerLeave",w="onPointerEnter",y="pointer"),D=E==null?g:Jr(E),v=C==null?g:Jr(C),g=new S(T,y+"leave",E,n,f),g.target=D,g.relatedTarget=v,T=null,cr(f)===h&&(S=new S(w,y+"enter",C,n,f),S.target=v,S.relatedTarget=D,T=S),D=T,E&&C)t:{for(S=E,w=C,y=0,v=S;v;v=Hr(v))y++;for(v=0,T=w;T;T=Hr(T))v++;for(;0<y-v;)S=Hr(S),y--;for(;0<v-y;)w=Hr(w),v--;for(;y--;){if(S===w||w!==null&&S===w.alternate)break t;S=Hr(S),w=Hr(w)}S=null}else S=null;E!==null&&Mp(p,g,E,S,!1),C!==null&&D!==null&&Mp(p,D,C,S,!0)}}e:{if(g=h?Jr(h):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var _=OC;else if(Ap(g))if(gy)_=jC;else{_=FC;var N=MC}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(_=BC);if(_&&(_=_(t,h))){my(p,_,n,f);break e}N&&N(t,g,h),t==="focusout"&&(N=g._wrapperState)&&N.controlled&&g.type==="number"&&gc(g,"number",g.value)}switch(N=h?Jr(h):window,t){case"focusin":(Ap(N)||N.contentEditable==="true")&&(Yr=N,Nc=h,ps=null);break;case"focusout":ps=Nc=Yr=null;break;case"mousedown":Ac=!0;break;case"contextmenu":case"mouseup":case"dragend":Ac=!1,Lp(p,n,f);break;case"selectionchange":if(zC)break;case"keydown":case"keyup":Lp(p,n,f)}var R;if(ed)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Gr?fy(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(dy&&n.locale!=="ko"&&(Gr||F!=="onCompositionStart"?F==="onCompositionEnd"&&Gr&&(R=hy()):(Pn=f,Xh="value"in Pn?Pn.value:Pn.textContent,Gr=!0)),N=Ta(h,F),0<N.length&&(F=new Tp(F,t,null,n,f),p.push({event:F,listeners:N}),R?F.data=R:(R=py(n),R!==null&&(F.data=R)))),(R=DC?PC(t,n):$C(t,n))&&(h=Ta(h,"onBeforeInput"),0<h.length&&(f=new Tp("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=R))}by(p,e)})}function Ls(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ta(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Is(t,n),s!=null&&r.unshift(Ls(t,s,i)),s=Is(t,e),s!=null&&r.push(Ls(t,s,i))),t=t.return}return r}function Hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,h=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&h!==null&&(a=h,i?(c=Is(n,s),c!=null&&o.unshift(Ls(n,c,a))):i||(c=Is(n,s),c!=null&&o.push(Ls(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var WC=/\r\n?/g,QC=/\u0000|\uFFFD/g;function Fp(t){return(typeof t=="string"?t:""+t).replace(WC,`
`).replace(QC,"")}function Uo(t,e,n){if(e=Fp(e),Fp(t)!==e&&n)throw Error(I(425))}function ba(){}var _c=null,Dc=null;function Pc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $c=typeof setTimeout=="function"?setTimeout:void 0,GC=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,YC=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(t){return Bp.resolve(null).then(t).catch(XC)}:$c;function XC(t){setTimeout(function(){throw t})}function _u(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_s(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_s(e)}function Fn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $i=Math.random().toString(36).slice(2),Xt="__reactFiber$"+$i,Rs="__reactProps$"+$i,yn="__reactContainer$"+$i,Lc="__reactEvents$"+$i,JC="__reactListeners$"+$i,ZC="__reactHandles$"+$i;function cr(t){var e=t[Xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yn]||n[Xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jp(t);t!==null;){if(n=t[Xt])return n;t=jp(t)}return e}t=n,n=t.parentNode}return null}function oo(t){return t=t[Xt]||t[yn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function pl(t){return t[Rs]||null}var Rc=[],Zr=-1;function Zn(t){return{current:t}}function ce(t){0>Zr||(t.current=Rc[Zr],Rc[Zr]=null,Zr--)}function ae(t,e){Zr++,Rc[Zr]=t.current,t.current=e}var Qn={},Ze=Zn(Qn),dt=Zn(!1),Er=Qn;function gi(t,e){var n=t.type.contextTypes;if(!n)return Qn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ft(t){return t=t.childContextTypes,t!=null}function Ia(){ce(dt),ce(Ze)}function Up(t,e,n){if(Ze.current!==Qn)throw Error(I(168));ae(Ze,e),ae(dt,n)}function Ny(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(I(108,MS(t)||"Unknown",i));return ye({},n,r)}function Na(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qn,Er=Ze.current,ae(Ze,t),ae(dt,dt.current),!0}function Vp(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=Ny(t,e,Er),r.__reactInternalMemoizedMergedChildContext=t,ce(dt),ce(Ze),ae(Ze,t)):ce(dt),ae(dt,n)}var un=null,ml=!1,Du=!1;function Ay(t){un===null?un=[t]:un.push(t)}function ex(t){ml=!0,Ay(t)}function er(){if(!Du&&un!==null){Du=!0;var t=0,e=ie;try{var n=un;for(ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}un=null,ml=!1}catch(i){throw un!==null&&(un=un.slice(t+1)),ey(Wh,er),i}finally{ie=e,Du=!1}}return null}var ei=[],ti=0,Aa=null,_a=0,Nt=[],At=0,Sr=null,cn=1,hn="";function or(t,e){ei[ti++]=_a,ei[ti++]=Aa,Aa=t,_a=e}function _y(t,e,n){Nt[At++]=cn,Nt[At++]=hn,Nt[At++]=Sr,Sr=t;var r=cn;t=hn;var i=32-Vt(r)-1;r&=~(1<<i),n+=1;var s=32-Vt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,cn=1<<32-Vt(e)+i|n<<i|r,hn=s+t}else cn=1<<s|n<<i|r,hn=t}function nd(t){t.return!==null&&(or(t,1),_y(t,1,0))}function rd(t){for(;t===Aa;)Aa=ei[--ti],ei[ti]=null,_a=ei[--ti],ei[ti]=null;for(;t===Sr;)Sr=Nt[--At],Nt[At]=null,hn=Nt[--At],Nt[At]=null,cn=Nt[--At],Nt[At]=null}var Et=null,vt=null,de=!1,jt=null;function Dy(t,e){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Et=t,vt=Fn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Et=t,vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Sr!==null?{id:cn,overflow:hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Et=t,vt=null,!0):!1;default:return!1}}function Oc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mc(t){if(de){var e=vt;if(e){var n=e;if(!zp(t,e)){if(Oc(t))throw Error(I(418));e=Fn(n.nextSibling);var r=Et;e&&zp(t,e)?Dy(r,n):(t.flags=t.flags&-4097|2,de=!1,Et=t)}}else{if(Oc(t))throw Error(I(418));t.flags=t.flags&-4097|2,de=!1,Et=t}}}function Hp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Et=t}function Vo(t){if(t!==Et)return!1;if(!de)return Hp(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pc(t.type,t.memoizedProps)),e&&(e=vt)){if(Oc(t))throw Py(),Error(I(418));for(;e;)Dy(t,e),e=Fn(e.nextSibling)}if(Hp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vt=Fn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vt=null}}else vt=Et?Fn(t.stateNode.nextSibling):null;return!0}function Py(){for(var t=vt;t;)t=Fn(t.nextSibling)}function yi(){vt=Et=null,de=!1}function id(t){jt===null?jt=[t]:jt.push(t)}var tx=kn.ReactCurrentBatchConfig;function Ft(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Da=Zn(null),Pa=null,ni=null,sd=null;function od(){sd=ni=Pa=null}function ad(t){var e=Da.current;ce(Da),t._currentValue=e}function Fc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ci(t,e){Pa=t,sd=ni=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ht=!0),t.firstContext=null)}function Lt(t){var e=t._currentValue;if(sd!==t)if(t={context:t,memoizedValue:e,next:null},ni===null){if(Pa===null)throw Error(I(308));ni=t,Pa.dependencies={lanes:0,firstContext:t}}else ni=ni.next=t;return e}var hr=null;function ld(t){hr===null?hr=[t]:hr.push(t)}function $y(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ld(e)):(n.next=i.next,i.next=n),e.interleaved=n,wn(t,r)}function wn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var An=!1;function ud(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ly(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wn(t,n)}return i=r.interleaved,i===null?(e.next=e,ld(r)):(e.next=i.next,i.next=e),r.interleaved=e,wn(t,n)}function aa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qh(t,n)}}function Kp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $a(t,e,n,r){var i=t.updateQueue;An=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=h:a.next=h,f.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,f=h=c=null,a=s;do{var g=a.lane,E=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:E,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,S=a;switch(g=e,E=n,S.tag){case 1:if(C=S.payload,typeof C=="function"){p=C.call(E,p,g);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=S.payload,g=typeof C=="function"?C.call(E,p,g):C,g==null)break e;p=ye({},p,g);break e;case 2:An=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else E={eventTime:E,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(h=f=E,c=p):f=f.next=E,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);xr|=o,t.lanes=o,t.memoizedState=p}}function qp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var Ry=new $g.Component().refs;function Bc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gl={isMounted:function(t){return(t=t._reactInternals)?Ar(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=it(),i=Un(t),s=fn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bn(t,s,i),e!==null&&(zt(e,t,i,r),aa(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=it(),i=Un(t),s=fn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bn(t,s,i),e!==null&&(zt(e,t,i,r),aa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=it(),r=Un(t),i=fn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bn(t,i,r),e!==null&&(zt(e,t,r,n),aa(e,t,r))}};function Wp(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ps(n,r)||!Ps(i,s):!0}function Oy(t,e,n){var r=!1,i=Qn,s=e.contextType;return typeof s=="object"&&s!==null?s=Lt(s):(i=ft(e)?Er:Ze.current,r=e.contextTypes,s=(r=r!=null)?gi(t,i):Qn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Qp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gl.enqueueReplaceState(e,e.state,null)}function jc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Ry,ud(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Lt(s):(s=ft(e)?Er:Ze.current,i.context=gi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gl.enqueueReplaceState(i,i.state,null),$a(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ji(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Ry&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function zo(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gp(t){var e=t._init;return e(t._payload)}function My(t){function e(w,y){if(t){var v=w.deletions;v===null?(w.deletions=[y],w.flags|=16):v.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=Vn(w,y),w.index=0,w.sibling=null,w}function s(w,y,v){return w.index=v,t?(v=w.alternate,v!==null?(v=v.index,v<y?(w.flags|=2,y):v):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,v,T){return y===null||y.tag!==6?(y=Fu(v,w.mode,T),y.return=w,y):(y=i(y,v),y.return=w,y)}function c(w,y,v,T){var _=v.type;return _===Qr?f(w,y,v.props.children,T,v.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Nn&&Gp(_)===y.type)?(T=i(y,v.props),T.ref=Ji(w,y,v),T.return=w,T):(T=fa(v.type,v.key,v.props,null,w.mode,T),T.ref=Ji(w,y,v),T.return=w,T)}function h(w,y,v,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Bu(v,w.mode,T),y.return=w,y):(y=i(y,v.children||[]),y.return=w,y)}function f(w,y,v,T,_){return y===null||y.tag!==7?(y=yr(v,w.mode,T,_),y.return=w,y):(y=i(y,v),y.return=w,y)}function p(w,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Fu(""+y,w.mode,v),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Po:return v=fa(y.type,y.key,y.props,null,w.mode,v),v.ref=Ji(w,null,y),v.return=w,v;case Wr:return y=Bu(y,w.mode,v),y.return=w,y;case Nn:var T=y._init;return p(w,T(y._payload),v)}if(rs(y)||Wi(y))return y=yr(y,w.mode,v,null),y.return=w,y;zo(w,y)}return null}function g(w,y,v,T){var _=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:a(w,y,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Po:return v.key===_?c(w,y,v,T):null;case Wr:return v.key===_?h(w,y,v,T):null;case Nn:return _=v._init,g(w,y,_(v._payload),T)}if(rs(v)||Wi(v))return _!==null?null:f(w,y,v,T,null);zo(w,v)}return null}function E(w,y,v,T,_){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(v)||null,a(y,w,""+T,_);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Po:return w=w.get(T.key===null?v:T.key)||null,c(y,w,T,_);case Wr:return w=w.get(T.key===null?v:T.key)||null,h(y,w,T,_);case Nn:var N=T._init;return E(w,y,v,N(T._payload),_)}if(rs(T)||Wi(T))return w=w.get(v)||null,f(y,w,T,_,null);zo(y,T)}return null}function C(w,y,v,T){for(var _=null,N=null,R=y,F=y=0,he=null;R!==null&&F<v.length;F++){R.index>F?(he=R,R=null):he=R.sibling;var G=g(w,R,v[F],T);if(G===null){R===null&&(R=he);break}t&&R&&G.alternate===null&&e(w,R),y=s(G,y,F),N===null?_=G:N.sibling=G,N=G,R=he}if(F===v.length)return n(w,R),de&&or(w,F),_;if(R===null){for(;F<v.length;F++)R=p(w,v[F],T),R!==null&&(y=s(R,y,F),N===null?_=R:N.sibling=R,N=R);return de&&or(w,F),_}for(R=r(w,R);F<v.length;F++)he=E(R,w,F,v[F],T),he!==null&&(t&&he.alternate!==null&&R.delete(he.key===null?F:he.key),y=s(he,y,F),N===null?_=he:N.sibling=he,N=he);return t&&R.forEach(function(at){return e(w,at)}),de&&or(w,F),_}function S(w,y,v,T){var _=Wi(v);if(typeof _!="function")throw Error(I(150));if(v=_.call(v),v==null)throw Error(I(151));for(var N=_=null,R=y,F=y=0,he=null,G=v.next();R!==null&&!G.done;F++,G=v.next()){R.index>F?(he=R,R=null):he=R.sibling;var at=g(w,R,G.value,T);if(at===null){R===null&&(R=he);break}t&&R&&at.alternate===null&&e(w,R),y=s(at,y,F),N===null?_=at:N.sibling=at,N=at,R=he}if(G.done)return n(w,R),de&&or(w,F),_;if(R===null){for(;!G.done;F++,G=v.next())G=p(w,G.value,T),G!==null&&(y=s(G,y,F),N===null?_=G:N.sibling=G,N=G);return de&&or(w,F),_}for(R=r(w,R);!G.done;F++,G=v.next())G=E(R,w,F,G.value,T),G!==null&&(t&&G.alternate!==null&&R.delete(G.key===null?F:G.key),y=s(G,y,F),N===null?_=G:N.sibling=G,N=G);return t&&R.forEach(function(sn){return e(w,sn)}),de&&or(w,F),_}function D(w,y,v,T){if(typeof v=="object"&&v!==null&&v.type===Qr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Po:e:{for(var _=v.key,N=y;N!==null;){if(N.key===_){if(_=v.type,_===Qr){if(N.tag===7){n(w,N.sibling),y=i(N,v.props.children),y.return=w,w=y;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Nn&&Gp(_)===N.type){n(w,N.sibling),y=i(N,v.props),y.ref=Ji(w,N,v),y.return=w,w=y;break e}n(w,N);break}else e(w,N);N=N.sibling}v.type===Qr?(y=yr(v.props.children,w.mode,T,v.key),y.return=w,w=y):(T=fa(v.type,v.key,v.props,null,w.mode,T),T.ref=Ji(w,y,v),T.return=w,w=T)}return o(w);case Wr:e:{for(N=v.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(w,y.sibling),y=i(y,v.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=Bu(v,w.mode,T),y.return=w,w=y}return o(w);case Nn:return N=v._init,D(w,y,N(v._payload),T)}if(rs(v))return C(w,y,v,T);if(Wi(v))return S(w,y,v,T);zo(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,v),y.return=w,w=y):(n(w,y),y=Fu(v,w.mode,T),y.return=w,w=y),o(w)):n(w,y)}return D}var wi=My(!0),Fy=My(!1),ao={},en=Zn(ao),Os=Zn(ao),Ms=Zn(ao);function dr(t){if(t===ao)throw Error(I(174));return t}function cd(t,e){switch(ae(Ms,e),ae(Os,t),ae(en,ao),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wc(e,t)}ce(en),ae(en,e)}function vi(){ce(en),ce(Os),ce(Ms)}function By(t){dr(Ms.current);var e=dr(en.current),n=wc(e,t.type);e!==n&&(ae(Os,t),ae(en,n))}function hd(t){Os.current===t&&(ce(en),ce(Os))}var me=Zn(0);function La(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pu=[];function dd(){for(var t=0;t<Pu.length;t++)Pu[t]._workInProgressVersionPrimary=null;Pu.length=0}var la=kn.ReactCurrentDispatcher,$u=kn.ReactCurrentBatchConfig,Cr=0,ge=null,Te=null,$e=null,Ra=!1,ms=!1,Fs=0,nx=0;function He(){throw Error(I(321))}function fd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kt(t[n],e[n]))return!1;return!0}function pd(t,e,n,r,i,s){if(Cr=s,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,la.current=t===null||t.memoizedState===null?ox:ax,t=n(r,i),ms){s=0;do{if(ms=!1,Fs=0,25<=s)throw Error(I(301));s+=1,$e=Te=null,e.updateQueue=null,la.current=lx,t=n(r,i)}while(ms)}if(la.current=Oa,e=Te!==null&&Te.next!==null,Cr=0,$e=Te=ge=null,Ra=!1,e)throw Error(I(300));return t}function md(){var t=Fs!==0;return Fs=0,t}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ge.memoizedState=$e=t:$e=$e.next=t,$e}function Rt(){if(Te===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=$e===null?ge.memoizedState:$e.next;if(e!==null)$e=e,Te=t;else{if(t===null)throw Error(I(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},$e===null?ge.memoizedState=$e=t:$e=$e.next=t}return $e}function Bs(t,e){return typeof e=="function"?e(t):e}function Lu(t){var e=Rt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=Te,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,h=s;do{var f=h.lane;if((Cr&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,ge.lanes|=f,xr|=f}h=h.next}while(h!==null&&h!==s);c===null?o=r:c.next=a,Kt(r,e.memoizedState)||(ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ge.lanes|=s,xr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ru(t){var e=Rt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Kt(s,e.memoizedState)||(ht=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function jy(){}function Uy(t,e){var n=ge,r=Rt(),i=e(),s=!Kt(r.memoizedState,i);if(s&&(r.memoizedState=i,ht=!0),r=r.queue,gd(Hy.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,js(9,zy.bind(null,n,r,i,e),void 0,null),Le===null)throw Error(I(349));Cr&30||Vy(n,e,i)}return i}function Vy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zy(t,e,n,r){e.value=n,e.getSnapshot=r,Ky(e)&&qy(t)}function Hy(t,e,n){return n(function(){Ky(e)&&qy(t)})}function Ky(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kt(t,n)}catch{return!0}}function qy(t){var e=wn(t,1);e!==null&&zt(e,t,1,-1)}function Yp(t){var e=Yt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},e.queue=t,t=t.dispatch=sx.bind(null,ge,t),[e.memoizedState,t]}function js(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Wy(){return Rt().memoizedState}function ua(t,e,n,r){var i=Yt();ge.flags|=t,i.memoizedState=js(1|e,n,void 0,r===void 0?null:r)}function yl(t,e,n,r){var i=Rt();r=r===void 0?null:r;var s=void 0;if(Te!==null){var o=Te.memoizedState;if(s=o.destroy,r!==null&&fd(r,o.deps)){i.memoizedState=js(e,n,s,r);return}}ge.flags|=t,i.memoizedState=js(1|e,n,s,r)}function Xp(t,e){return ua(8390656,8,t,e)}function gd(t,e){return yl(2048,8,t,e)}function Qy(t,e){return yl(4,2,t,e)}function Gy(t,e){return yl(4,4,t,e)}function Yy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xy(t,e,n){return n=n!=null?n.concat([t]):null,yl(4,4,Yy.bind(null,e,t),n)}function yd(){}function Jy(t,e){var n=Rt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zy(t,e){var n=Rt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ew(t,e,n){return Cr&21?(Kt(n,e)||(n=ry(),ge.lanes|=n,xr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ht=!0),t.memoizedState=n)}function rx(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var r=$u.transition;$u.transition={};try{t(!1),e()}finally{ie=n,$u.transition=r}}function tw(){return Rt().memoizedState}function ix(t,e,n){var r=Un(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nw(t))rw(e,n);else if(n=$y(t,e,n,r),n!==null){var i=it();zt(n,t,r,i),iw(n,e,r)}}function sx(t,e,n){var r=Un(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nw(t))rw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Kt(a,o)){var c=e.interleaved;c===null?(i.next=i,ld(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=$y(t,e,i,r),n!==null&&(i=it(),zt(n,t,r,i),iw(n,e,r))}}function nw(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function rw(t,e){ms=Ra=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qh(t,n)}}var Oa={readContext:Lt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},ox={readContext:Lt,useCallback:function(t,e){return Yt().memoizedState=[t,e===void 0?null:e],t},useContext:Lt,useEffect:Xp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ua(4194308,4,Yy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ua(4194308,4,t,e)},useInsertionEffect:function(t,e){return ua(4,2,t,e)},useMemo:function(t,e){var n=Yt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ix.bind(null,ge,t),[r.memoizedState,t]},useRef:function(t){var e=Yt();return t={current:t},e.memoizedState=t},useState:Yp,useDebugValue:yd,useDeferredValue:function(t){return Yt().memoizedState=t},useTransition:function(){var t=Yp(!1),e=t[0];return t=rx.bind(null,t[1]),Yt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ge,i=Yt();if(de){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),Le===null)throw Error(I(349));Cr&30||Vy(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Xp(Hy.bind(null,r,s,t),[t]),r.flags|=2048,js(9,zy.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Yt(),e=Le.identifierPrefix;if(de){var n=hn,r=cn;n=(r&~(1<<32-Vt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ax={readContext:Lt,useCallback:Jy,useContext:Lt,useEffect:gd,useImperativeHandle:Xy,useInsertionEffect:Qy,useLayoutEffect:Gy,useMemo:Zy,useReducer:Lu,useRef:Wy,useState:function(){return Lu(Bs)},useDebugValue:yd,useDeferredValue:function(t){var e=Rt();return ew(e,Te.memoizedState,t)},useTransition:function(){var t=Lu(Bs)[0],e=Rt().memoizedState;return[t,e]},useMutableSource:jy,useSyncExternalStore:Uy,useId:tw,unstable_isNewReconciler:!1},lx={readContext:Lt,useCallback:Jy,useContext:Lt,useEffect:gd,useImperativeHandle:Xy,useInsertionEffect:Qy,useLayoutEffect:Gy,useMemo:Zy,useReducer:Ru,useRef:Wy,useState:function(){return Ru(Bs)},useDebugValue:yd,useDeferredValue:function(t){var e=Rt();return Te===null?e.memoizedState=t:ew(e,Te.memoizedState,t)},useTransition:function(){var t=Ru(Bs)[0],e=Rt().memoizedState;return[t,e]},useMutableSource:jy,useSyncExternalStore:Uy,useId:tw,unstable_isNewReconciler:!1};function Ei(t,e){try{var n="",r=e;do n+=OS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ou(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Uc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ux=typeof WeakMap=="function"?WeakMap:Map;function sw(t,e,n){n=fn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fa||(Fa=!0,Xc=r),Uc(t,e)},n}function ow(t,e,n){n=fn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Uc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Uc(t,e),typeof r!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Jp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ux;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xx.bind(null,t,e,n),e.then(t,t))}function Zp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function em(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fn(-1,1),e.tag=2,Bn(n,e,1))),n.lanes|=1),t)}var cx=kn.ReactCurrentOwner,ht=!1;function nt(t,e,n,r){e.child=t===null?Fy(e,null,n,r):wi(e,t.child,n,r)}function tm(t,e,n,r,i){n=n.render;var s=e.ref;return ci(e,i),r=pd(t,e,n,r,s,i),n=md(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vn(t,e,i)):(de&&n&&nd(e),e.flags|=1,nt(t,e,r,i),e.child)}function nm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Td(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,aw(t,e,s,r,i)):(t=fa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ps,n(o,r)&&t.ref===e.ref)return vn(t,e,i)}return e.flags|=1,t=Vn(s,r),t.ref=e.ref,t.return=e,e.child=t}function aw(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ps(s,r)&&t.ref===e.ref)if(ht=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ht=!0);else return e.lanes=t.lanes,vn(t,e,i)}return Vc(t,e,n,r,i)}function lw(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(ii,wt),wt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(ii,wt),wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ae(ii,wt),wt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ae(ii,wt),wt|=r;return nt(t,e,i,n),e.child}function uw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vc(t,e,n,r,i){var s=ft(n)?Er:Ze.current;return s=gi(e,s),ci(e,i),n=pd(t,e,n,r,s,i),r=md(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vn(t,e,i)):(de&&r&&nd(e),e.flags|=1,nt(t,e,n,i),e.child)}function rm(t,e,n,r,i){if(ft(n)){var s=!0;Na(e)}else s=!1;if(ci(e,i),e.stateNode===null)ca(t,e),Oy(e,n,r),jc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Lt(h):(h=ft(n)?Er:Ze.current,h=gi(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==h)&&Qp(e,o,r,h),An=!1;var g=e.memoizedState;o.state=g,$a(e,r,o,i),c=e.memoizedState,a!==r||g!==c||dt.current||An?(typeof f=="function"&&(Bc(e,n,f,r),c=e.memoizedState),(a=An||Wp(e,n,a,r,g,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ly(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:Ft(e.type,a),o.props=h,p=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Lt(c):(c=ft(n)?Er:Ze.current,c=gi(e,c));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==c)&&Qp(e,o,r,c),An=!1,g=e.memoizedState,o.state=g,$a(e,r,o,i);var C=e.memoizedState;a!==p||g!==C||dt.current||An?(typeof E=="function"&&(Bc(e,n,E,r),C=e.memoizedState),(h=An||Wp(e,n,h,r,g,C,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return zc(t,e,n,r,s,i)}function zc(t,e,n,r,i,s){uw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Vp(e,n,!1),vn(t,e,s);r=e.stateNode,cx.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wi(e,t.child,null,s),e.child=wi(e,null,a,s)):nt(t,e,a,s),e.memoizedState=r.state,i&&Vp(e,n,!0),e.child}function cw(t){var e=t.stateNode;e.pendingContext?Up(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Up(t,e.context,!1),cd(t,e.containerInfo)}function im(t,e,n,r,i){return yi(),id(i),e.flags|=256,nt(t,e,n,r),e.child}var Hc={dehydrated:null,treeContext:null,retryLane:0};function Kc(t){return{baseLanes:t,cachePool:null,transitions:null}}function hw(t,e,n){var r=e.pendingProps,i=me.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ae(me,i&1),t===null)return Mc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=El(o,r,0,null),t=yr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Kc(n),e.memoizedState=Hc,t):wd(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hx(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Vn(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Vn(a,s):(s=yr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Kc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Hc,r}return s=t.child,t=s.sibling,r=Vn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wd(t,e){return e=El({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ho(t,e,n,r){return r!==null&&id(r),wi(e,t.child,null,n),t=wd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hx(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ou(Error(I(422))),Ho(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=El({mode:"visible",children:r.children},i,0,null),s=yr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wi(e,t.child,null,o),e.child.memoizedState=Kc(o),e.memoizedState=Hc,s);if(!(e.mode&1))return Ho(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(I(419)),r=Ou(s,r,void 0),Ho(t,e,o,r)}if(a=(o&t.childLanes)!==0,ht||a){if(r=Le,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wn(t,i),zt(r,t,i,-1))}return kd(),r=Ou(Error(I(421))),Ho(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kx.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vt=Fn(i.nextSibling),Et=e,de=!0,jt=null,t!==null&&(Nt[At++]=cn,Nt[At++]=hn,Nt[At++]=Sr,cn=t.id,hn=t.overflow,Sr=e),e=wd(e,r.children),e.flags|=4096,e)}function sm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fc(t.return,e,n)}function Mu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nt(t,e,r.children,n),r=me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sm(t,n,e);else if(t.tag===19)sm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ae(me,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&La(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&La(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mu(e,!0,n,null,s);break;case"together":Mu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ca(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=Vn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dx(t,e,n){switch(e.tag){case 3:cw(e),yi();break;case 5:By(e);break;case 1:ft(e.type)&&Na(e);break;case 4:cd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ae(Da,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ae(me,me.current&1),e.flags|=128,null):n&e.child.childLanes?hw(t,e,n):(ae(me,me.current&1),t=vn(t,e,n),t!==null?t.sibling:null);ae(me,me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(me,me.current),r)break;return null;case 22:case 23:return e.lanes=0,lw(t,e,n)}return vn(t,e,n)}var fw,qc,pw,mw;fw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qc=function(){};pw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,dr(en.current);var s=null;switch(n){case"input":i=pc(t,i),r=pc(t,r),s=[];break;case"select":i=ye({},i,{value:void 0}),r=ye({},r,{value:void 0}),s=[];break;case"textarea":i=yc(t,i),r=yc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ba)}vc(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ts.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==a&&(c!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ts.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&ue("scroll",t),s||a===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};mw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zi(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fx(t,e,n){var r=e.pendingProps;switch(rd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return ft(e.type)&&Ia(),Ke(e),null;case 3:return r=e.stateNode,vi(),ce(dt),ce(Ze),dd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jt!==null&&(eh(jt),jt=null))),qc(t,e),Ke(e),null;case 5:hd(e);var i=dr(Ms.current);if(n=e.type,t!==null&&e.stateNode!=null)pw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return Ke(e),null}if(t=dr(en.current),Vo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xt]=e,r[Rs]=s,t=(e.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(i=0;i<ss.length;i++)ue(ss[i],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":pp(r,s),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ue("invalid",r);break;case"textarea":gp(r,s),ue("invalid",r)}vc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Uo(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Uo(r.textContent,a,t),i=["children",""+a]):Ts.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":$o(r),mp(r,s,!0);break;case"textarea":$o(r),yp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ba)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xt]=e,t[Rs]=r,fw(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ec(n,r),n){case"dialog":ue("cancel",t),ue("close",t),i=r;break;case"iframe":case"object":case"embed":ue("load",t),i=r;break;case"video":case"audio":for(i=0;i<ss.length;i++)ue(ss[i],t);i=r;break;case"source":ue("error",t),i=r;break;case"img":case"image":case"link":ue("error",t),ue("load",t),i=r;break;case"details":ue("toggle",t),i=r;break;case"input":pp(t,r),i=pc(t,r),ue("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ye({},r,{value:void 0}),ue("invalid",t);break;case"textarea":gp(t,r),i=yc(t,r),ue("invalid",t);break;default:i=r}vc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?Kg(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zg(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&bs(t,c):typeof c=="number"&&bs(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ts.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ue("scroll",t):c!=null&&Vh(t,s,c,o))}switch(n){case"input":$o(t),mp(t,r,!1);break;case"textarea":$o(t),yp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?oi(t,!!r.multiple,s,!1):r.defaultValue!=null&&oi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ba)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ke(e),null;case 6:if(t&&e.stateNode!=null)mw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=dr(Ms.current),dr(en.current),Vo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xt]=e,(s=r.nodeValue!==n)&&(t=Et,t!==null))switch(t.tag){case 3:Uo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xt]=e,e.stateNode=r}return Ke(e),null;case 13:if(ce(me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&vt!==null&&e.mode&1&&!(e.flags&128))Py(),yi(),e.flags|=98560,s=!1;else if(s=Vo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(I(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[Xt]=e}else yi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ke(e),s=!1}else jt!==null&&(eh(jt),jt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||me.current&1?Ie===0&&(Ie=3):kd())),e.updateQueue!==null&&(e.flags|=4),Ke(e),null);case 4:return vi(),qc(t,e),t===null&&$s(e.stateNode.containerInfo),Ke(e),null;case 10:return ad(e.type._context),Ke(e),null;case 17:return ft(e.type)&&Ia(),Ke(e),null;case 19:if(ce(me),s=e.memoizedState,s===null)return Ke(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Zi(s,!1);else{if(Ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=La(t),o!==null){for(e.flags|=128,Zi(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(me,me.current&1|2),e.child}t=t.sibling}s.tail!==null&&Se()>Si&&(e.flags|=128,r=!0,Zi(s,!1),e.lanes=4194304)}else{if(!r)if(t=La(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!de)return Ke(e),null}else 2*Se()-s.renderingStartTime>Si&&n!==1073741824&&(e.flags|=128,r=!0,Zi(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Se(),e.sibling=null,n=me.current,ae(me,r?n&1|2:n&1),e):(Ke(e),null);case 22:case 23:return xd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wt&1073741824&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function px(t,e){switch(rd(e),e.tag){case 1:return ft(e.type)&&Ia(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vi(),ce(dt),ce(Ze),dd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hd(e),null;case 13:if(ce(me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));yi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(me),null;case 4:return vi(),null;case 10:return ad(e.type._context),null;case 22:case 23:return xd(),null;case 24:return null;default:return null}}var Ko=!1,Qe=!1,mx=typeof WeakSet=="function"?WeakSet:Set,L=null;function ri(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(t,e,r)}else n.current=null}function Wc(t,e,n){try{n()}catch(r){ve(t,e,r)}}var om=!1;function gx(t,e){if(_c=xa,t=vy(),td(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,h=0,f=0,p=t,g=null;t:for(;;){for(var E;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(E=p.firstChild)!==null;)g=p,p=E;for(;;){if(p===t)break t;if(g===n&&++h===i&&(a=o),g===s&&++f===r&&(c=o),(E=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=E}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dc={focusedElem:t,selectionRange:n},xa=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var S=C.memoizedProps,D=C.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?S:Ft(e.type,S),D);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(T){ve(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return C=om,om=!1,C}function gs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wc(e,n,s)}i=i.next}while(i!==r)}}function wl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gw(t){var e=t.alternate;e!==null&&(t.alternate=null,gw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xt],delete e[Rs],delete e[Lc],delete e[JC],delete e[ZC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yw(t){return t.tag===5||t.tag===3||t.tag===4}function am(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ba));else if(r!==4&&(t=t.child,t!==null))for(Gc(t,e,n),t=t.sibling;t!==null;)Gc(t,e,n),t=t.sibling}function Yc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yc(t,e,n),t=t.sibling;t!==null;)Yc(t,e,n),t=t.sibling}var Me=null,Bt=!1;function In(t,e,n){for(n=n.child;n!==null;)ww(t,e,n),n=n.sibling}function ww(t,e,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(cl,n)}catch{}switch(n.tag){case 5:Qe||ri(n,e);case 6:var r=Me,i=Bt;Me=null,In(t,e,n),Me=r,Bt=i,Me!==null&&(Bt?(t=Me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(Bt?(t=Me,n=n.stateNode,t.nodeType===8?_u(t.parentNode,n):t.nodeType===1&&_u(t,n),_s(t)):_u(Me,n.stateNode));break;case 4:r=Me,i=Bt,Me=n.stateNode.containerInfo,Bt=!0,In(t,e,n),Me=r,Bt=i;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wc(n,e,o),i=i.next}while(i!==r)}In(t,e,n);break;case 1:if(!Qe&&(ri(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ve(n,e,a)}In(t,e,n);break;case 21:In(t,e,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,In(t,e,n),Qe=r):In(t,e,n);break;default:In(t,e,n)}}function lm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mx),e.forEach(function(r){var i=Tx.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Me=a.stateNode,Bt=!1;break e;case 3:Me=a.stateNode.containerInfo,Bt=!0;break e;case 4:Me=a.stateNode.containerInfo,Bt=!0;break e}a=a.return}if(Me===null)throw Error(I(160));ww(s,o,i),Me=null,Bt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){ve(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vw(e,t),e=e.sibling}function vw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mt(e,t),Gt(t),r&4){try{gs(3,t,t.return),wl(3,t)}catch(S){ve(t,t.return,S)}try{gs(5,t,t.return)}catch(S){ve(t,t.return,S)}}break;case 1:Mt(e,t),Gt(t),r&512&&n!==null&&ri(n,n.return);break;case 5:if(Mt(e,t),Gt(t),r&512&&n!==null&&ri(n,n.return),t.flags&32){var i=t.stateNode;try{bs(i,"")}catch(S){ve(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jg(i,s),Ec(a,o);var h=Ec(a,s);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?Kg(i,p):f==="dangerouslySetInnerHTML"?zg(i,p):f==="children"?bs(i,p):Vh(i,f,p,h)}switch(a){case"input":mc(i,s);break;case"textarea":Ug(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var E=s.value;E!=null?oi(i,!!s.multiple,E,!1):g!==!!s.multiple&&(s.defaultValue!=null?oi(i,!!s.multiple,s.defaultValue,!0):oi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rs]=s}catch(S){ve(t,t.return,S)}}break;case 6:if(Mt(e,t),Gt(t),r&4){if(t.stateNode===null)throw Error(I(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){ve(t,t.return,S)}}break;case 3:if(Mt(e,t),Gt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_s(e.containerInfo)}catch(S){ve(t,t.return,S)}break;case 4:Mt(e,t),Gt(t);break;case 13:Mt(e,t),Gt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sd=Se())),r&4&&lm(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Qe=(h=Qe)||f,Mt(e,t),Qe=h):Mt(e,t),Gt(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(L=t,f=t.child;f!==null;){for(p=L=f;L!==null;){switch(g=L,E=g.child,g.tag){case 0:case 11:case 14:case 15:gs(4,g,g.return);break;case 1:ri(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(S){ve(r,n,S)}}break;case 5:ri(g,g.return);break;case 22:if(g.memoizedState!==null){cm(p);continue}}E!==null?(E.return=g,L=E):cm(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Hg("display",o))}catch(S){ve(t,t.return,S)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(S){ve(t,t.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Mt(e,t),Gt(t),r&4&&lm(t);break;case 21:break;default:Mt(e,t),Gt(t)}}function Gt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yw(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bs(i,""),r.flags&=-33);var s=am(t);Yc(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=am(t);Gc(t,a,o);break;default:throw Error(I(161))}}catch(c){ve(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yx(t,e,n){L=t,Ew(t)}function Ew(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ko;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Qe;a=Ko;var h=Qe;if(Ko=o,(Qe=c)&&!h)for(L=i;L!==null;)o=L,c=o.child,o.tag===22&&o.memoizedState!==null?hm(i):c!==null?(c.return=o,L=c):hm(i);for(;s!==null;)L=s,Ew(s),s=s.sibling;L=i,Ko=a,Qe=h}um(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):um(t)}}function um(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qe||wl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ft(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qp(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&_s(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Qe||e.flags&512&&Qc(e)}catch(g){ve(e,e.return,g)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function cm(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function hm(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wl(4,e)}catch(c){ve(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ve(e,i,c)}}var s=e.return;try{Qc(e)}catch(c){ve(e,s,c)}break;case 5:var o=e.return;try{Qc(e)}catch(c){ve(e,o,c)}}}catch(c){ve(e,e.return,c)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var wx=Math.ceil,Ma=kn.ReactCurrentDispatcher,vd=kn.ReactCurrentOwner,Pt=kn.ReactCurrentBatchConfig,te=0,Le=null,ke=null,Be=0,wt=0,ii=Zn(0),Ie=0,Us=null,xr=0,vl=0,Ed=0,ys=null,ct=null,Sd=0,Si=1/0,ln=null,Fa=!1,Xc=null,jn=null,qo=!1,$n=null,Ba=0,ws=0,Jc=null,ha=-1,da=0;function it(){return te&6?Se():ha!==-1?ha:ha=Se()}function Un(t){return t.mode&1?te&2&&Be!==0?Be&-Be:tx.transition!==null?(da===0&&(da=ry()),da):(t=ie,t!==0||(t=window.event,t=t===void 0?16:cy(t.type)),t):1}function zt(t,e,n,r){if(50<ws)throw ws=0,Jc=null,Error(I(185));io(t,n,r),(!(te&2)||t!==Le)&&(t===Le&&(!(te&2)&&(vl|=n),Ie===4&&Dn(t,Be)),pt(t,r),n===1&&te===0&&!(e.mode&1)&&(Si=Se()+500,ml&&er()))}function pt(t,e){var n=t.callbackNode;tC(t,e);var r=Ca(t,t===Le?Be:0);if(r===0)n!==null&&Ep(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ep(n),e===1)t.tag===0?ex(dm.bind(null,t)):Ay(dm.bind(null,t)),YC(function(){!(te&6)&&er()}),n=null;else{switch(iy(r)){case 1:n=Wh;break;case 4:n=ty;break;case 16:n=Sa;break;case 536870912:n=ny;break;default:n=Sa}n=Nw(n,Sw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Sw(t,e){if(ha=-1,da=0,te&6)throw Error(I(327));var n=t.callbackNode;if(hi()&&t.callbackNode!==n)return null;var r=Ca(t,t===Le?Be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ja(t,r);else{e=r;var i=te;te|=2;var s=xw();(Le!==t||Be!==e)&&(ln=null,Si=Se()+500,gr(t,e));do try{Sx();break}catch(a){Cw(t,a)}while(1);od(),Ma.current=s,te=i,ke!==null?e=0:(Le=null,Be=0,e=Ie)}if(e!==0){if(e===2&&(i=Tc(t),i!==0&&(r=i,e=Zc(t,i))),e===1)throw n=Us,gr(t,0),Dn(t,r),pt(t,Se()),n;if(e===6)Dn(t,r);else{if(i=t.current.alternate,!(r&30)&&!vx(i)&&(e=ja(t,r),e===2&&(s=Tc(t),s!==0&&(r=s,e=Zc(t,s))),e===1))throw n=Us,gr(t,0),Dn(t,r),pt(t,Se()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:ar(t,ct,ln);break;case 3:if(Dn(t,r),(r&130023424)===r&&(e=Sd+500-Se(),10<e)){if(Ca(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){it(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$c(ar.bind(null,t,ct,ln),e);break}ar(t,ct,ln);break;case 4:if(Dn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Vt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wx(r/1960))-r,10<r){t.timeoutHandle=$c(ar.bind(null,t,ct,ln),r);break}ar(t,ct,ln);break;case 5:ar(t,ct,ln);break;default:throw Error(I(329))}}}return pt(t,Se()),t.callbackNode===n?Sw.bind(null,t):null}function Zc(t,e){var n=ys;return t.current.memoizedState.isDehydrated&&(gr(t,e).flags|=256),t=ja(t,e),t!==2&&(e=ct,ct=n,e!==null&&eh(e)),t}function eh(t){ct===null?ct=t:ct.push.apply(ct,t)}function vx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Kt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dn(t,e){for(e&=~Ed,e&=~vl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vt(e),r=1<<n;t[n]=-1,e&=~r}}function dm(t){if(te&6)throw Error(I(327));hi();var e=Ca(t,0);if(!(e&1))return pt(t,Se()),null;var n=ja(t,e);if(t.tag!==0&&n===2){var r=Tc(t);r!==0&&(e=r,n=Zc(t,r))}if(n===1)throw n=Us,gr(t,0),Dn(t,e),pt(t,Se()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ar(t,ct,ln),pt(t,Se()),null}function Cd(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(Si=Se()+500,ml&&er())}}function kr(t){$n!==null&&$n.tag===0&&!(te&6)&&hi();var e=te;te|=1;var n=Pt.transition,r=ie;try{if(Pt.transition=null,ie=1,t)return t()}finally{ie=r,Pt.transition=n,te=e,!(te&6)&&er()}}function xd(){wt=ii.current,ce(ii)}function gr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GC(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(rd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ia();break;case 3:vi(),ce(dt),ce(Ze),dd();break;case 5:hd(r);break;case 4:vi();break;case 13:ce(me);break;case 19:ce(me);break;case 10:ad(r.type._context);break;case 22:case 23:xd()}n=n.return}if(Le=t,ke=t=Vn(t.current,null),Be=wt=e,Ie=0,Us=null,Ed=vl=xr=0,ct=ys=null,hr!==null){for(e=0;e<hr.length;e++)if(n=hr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hr=null}return t}function Cw(t,e){do{var n=ke;try{if(od(),la.current=Oa,Ra){for(var r=ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ra=!1}if(Cr=0,$e=Te=ge=null,ms=!1,Fs=0,vd.current=null,n===null||n.return===null){Ie=1,Us=e,ke=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=Be,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var E=Zp(o);if(E!==null){E.flags&=-257,em(E,o,a,s,e),E.mode&1&&Jp(s,h,e),e=E,c=h;var C=e.updateQueue;if(C===null){var S=new Set;S.add(c),e.updateQueue=S}else C.add(c);break e}else{if(!(e&1)){Jp(s,h,e),kd();break e}c=Error(I(426))}}else if(de&&a.mode&1){var D=Zp(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),em(D,o,a,s,e),id(Ei(c,a));break e}}s=c=Ei(c,a),Ie!==4&&(Ie=2),ys===null?ys=[s]:ys.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=sw(s,c,e);Kp(s,w);break e;case 1:a=c;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(jn===null||!jn.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=ow(s,a,e);Kp(s,T);break e}}s=s.return}while(s!==null)}Tw(n)}catch(_){e=_,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(1)}function xw(){var t=Ma.current;return Ma.current=Oa,t===null?Oa:t}function kd(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Le===null||!(xr&268435455)&&!(vl&268435455)||Dn(Le,Be)}function ja(t,e){var n=te;te|=2;var r=xw();(Le!==t||Be!==e)&&(ln=null,gr(t,e));do try{Ex();break}catch(i){Cw(t,i)}while(1);if(od(),te=n,Ma.current=r,ke!==null)throw Error(I(261));return Le=null,Be=0,Ie}function Ex(){for(;ke!==null;)kw(ke)}function Sx(){for(;ke!==null&&!qS();)kw(ke)}function kw(t){var e=Iw(t.alternate,t,wt);t.memoizedProps=t.pendingProps,e===null?Tw(t):ke=e,vd.current=null}function Tw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=px(n,e),n!==null){n.flags&=32767,ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ie=6,ke=null;return}}else if(n=fx(n,e,wt),n!==null){ke=n;return}if(e=e.sibling,e!==null){ke=e;return}ke=e=t}while(e!==null);Ie===0&&(Ie=5)}function ar(t,e,n){var r=ie,i=Pt.transition;try{Pt.transition=null,ie=1,Cx(t,e,n,r)}finally{Pt.transition=i,ie=r}return null}function Cx(t,e,n,r){do hi();while($n!==null);if(te&6)throw Error(I(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(nC(t,s),t===Le&&(ke=Le=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qo||(qo=!0,Nw(Sa,function(){return hi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pt.transition,Pt.transition=null;var o=ie;ie=1;var a=te;te|=4,vd.current=null,gx(t,n),vw(n,t),VC(Dc),xa=!!_c,Dc=_c=null,t.current=n,yx(n),WS(),te=a,ie=o,Pt.transition=s}else t.current=n;if(qo&&(qo=!1,$n=t,Ba=i),s=t.pendingLanes,s===0&&(jn=null),YS(n.stateNode),pt(t,Se()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fa)throw Fa=!1,t=Xc,Xc=null,t;return Ba&1&&t.tag!==0&&hi(),s=t.pendingLanes,s&1?t===Jc?ws++:(ws=0,Jc=t):ws=0,er(),null}function hi(){if($n!==null){var t=iy(Ba),e=Pt.transition,n=ie;try{if(Pt.transition=null,ie=16>t?16:t,$n===null)var r=!1;else{if(t=$n,$n=null,Ba=0,te&6)throw Error(I(331));var i=te;for(te|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var h=a[c];for(L=h;L!==null;){var f=L;switch(f.tag){case 0:case 11:case 15:gs(8,f,s)}var p=f.child;if(p!==null)p.return=f,L=p;else for(;L!==null;){f=L;var g=f.sibling,E=f.return;if(gw(f),f===h){L=null;break}if(g!==null){g.return=E,L=g;break}L=E}}}var C=s.alternate;if(C!==null){var S=C.child;if(S!==null){C.child=null;do{var D=S.sibling;S.sibling=null,S=D}while(S!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:gs(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,L=w;break e}L=s.return}}var y=t.current;for(L=y;L!==null;){o=L;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,L=v;else e:for(o=y;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wl(9,a)}}catch(_){ve(a,a.return,_)}if(a===o){L=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,L=T;break e}L=a.return}}if(te=i,er(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(cl,t)}catch{}r=!0}return r}finally{ie=n,Pt.transition=e}}return!1}function fm(t,e,n){e=Ei(n,e),e=sw(t,e,1),t=Bn(t,e,1),e=it(),t!==null&&(io(t,1,e),pt(t,e))}function ve(t,e,n){if(t.tag===3)fm(t,t,n);else for(;e!==null;){if(e.tag===3){fm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jn===null||!jn.has(r))){t=Ei(n,t),t=ow(e,t,1),e=Bn(e,t,1),t=it(),e!==null&&(io(e,1,t),pt(e,t));break}}e=e.return}}function xx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=it(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(Be&n)===n&&(Ie===4||Ie===3&&(Be&130023424)===Be&&500>Se()-Sd?gr(t,0):Ed|=n),pt(t,e)}function bw(t,e){e===0&&(t.mode&1?(e=Oo,Oo<<=1,!(Oo&130023424)&&(Oo=4194304)):e=1);var n=it();t=wn(t,e),t!==null&&(io(t,e,n),pt(t,n))}function kx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bw(t,n)}function Tx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),bw(t,n)}var Iw;Iw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dt.current)ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ht=!1,dx(t,e,n);ht=!!(t.flags&131072)}else ht=!1,de&&e.flags&1048576&&_y(e,_a,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ca(t,e),t=e.pendingProps;var i=gi(e,Ze.current);ci(e,n),i=pd(null,e,r,t,i,n);var s=md();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ft(r)?(s=!0,Na(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ud(e),i.updater=gl,e.stateNode=i,i._reactInternals=e,jc(e,r,t,n),e=zc(null,e,r,!0,s,n)):(e.tag=0,de&&s&&nd(e),nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ca(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ix(r),t=Ft(r,t),i){case 0:e=Vc(null,e,r,t,n);break e;case 1:e=rm(null,e,r,t,n);break e;case 11:e=tm(null,e,r,t,n);break e;case 14:e=nm(null,e,r,Ft(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),Vc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),rm(t,e,r,i,n);case 3:e:{if(cw(e),t===null)throw Error(I(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ly(t,e),$a(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ei(Error(I(423)),e),e=im(t,e,r,n,i);break e}else if(r!==i){i=Ei(Error(I(424)),e),e=im(t,e,r,n,i);break e}else for(vt=Fn(e.stateNode.containerInfo.firstChild),Et=e,de=!0,jt=null,n=Fy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yi(),r===i){e=vn(t,e,n);break e}nt(t,e,r,n)}e=e.child}return e;case 5:return By(e),t===null&&Mc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Pc(r,i)?o=null:s!==null&&Pc(r,s)&&(e.flags|=32),uw(t,e),nt(t,e,o,n),e.child;case 6:return t===null&&Mc(e),null;case 13:return hw(t,e,n);case 4:return cd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wi(e,null,r,n):nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),tm(t,e,r,i,n);case 7:return nt(t,e,e.pendingProps,n),e.child;case 8:return nt(t,e,e.pendingProps.children,n),e.child;case 12:return nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ae(Da,r._currentValue),r._currentValue=o,s!==null)if(Kt(s.value,o)){if(s.children===i.children&&!dt.current){e=vn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=fn(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Fc(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ci(e,n),i=Lt(i),r=r(i),e.flags|=1,nt(t,e,r,n),e.child;case 14:return r=e.type,i=Ft(r,e.pendingProps),i=Ft(r.type,i),nm(t,e,r,i,n);case 15:return aw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ft(r,i),ca(t,e),e.tag=1,ft(r)?(t=!0,Na(e)):t=!1,ci(e,n),Oy(e,r,i),jc(e,r,i,n),zc(null,e,r,!0,t,n);case 19:return dw(t,e,n);case 22:return lw(t,e,n)}throw Error(I(156,e.tag))};function Nw(t,e){return ey(t,e)}function bx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,e,n,r){return new bx(t,e,n,r)}function Td(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ix(t){if(typeof t=="function")return Td(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hh)return 11;if(t===Kh)return 14}return 2}function Vn(t,e){var n=t.alternate;return n===null?(n=Dt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fa(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Td(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qr:return yr(n.children,i,s,e);case zh:o=8,i|=8;break;case cc:return t=Dt(12,n,e,i|2),t.elementType=cc,t.lanes=s,t;case hc:return t=Dt(13,n,e,i),t.elementType=hc,t.lanes=s,t;case dc:return t=Dt(19,n,e,i),t.elementType=dc,t.lanes=s,t;case Mg:return El(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rg:o=10;break e;case Og:o=9;break e;case Hh:o=11;break e;case Kh:o=14;break e;case Nn:o=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=Dt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function yr(t,e,n,r){return t=Dt(7,t,r,e),t.lanes=n,t}function El(t,e,n,r){return t=Dt(22,t,r,e),t.elementType=Mg,t.lanes=n,t.stateNode={isHidden:!1},t}function Fu(t,e,n){return t=Dt(6,t,null,e),t.lanes=n,t}function Bu(t,e,n){return e=Dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Nx(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vu(0),this.expirationTimes=vu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bd(t,e,n,r,i,s,o,a,c){return t=new Nx(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Dt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ud(s),t}function Ax(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Aw(t){if(!t)return Qn;t=t._reactInternals;e:{if(Ar(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(ft(n))return Ny(t,n,e)}return e}function _w(t,e,n,r,i,s,o,a,c){return t=bd(n,r,!0,t,i,s,o,a,c),t.context=Aw(null),n=t.current,r=it(),i=Un(n),s=fn(r,i),s.callback=e??null,Bn(n,s,i),t.current.lanes=i,io(t,i,r),pt(t,r),t}function Sl(t,e,n,r){var i=e.current,s=it(),o=Un(i);return n=Aw(n),e.context===null?e.context=n:e.pendingContext=n,e=fn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bn(i,e,o),t!==null&&(zt(t,i,o,s),aa(t,i,o)),o}function Ua(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Id(t,e){pm(t,e),(t=t.alternate)&&pm(t,e)}function _x(){return null}var Dw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nd(t){this._internalRoot=t}Cl.prototype.render=Nd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Sl(t,e,null,null)};Cl.prototype.unmount=Nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kr(function(){Sl(null,t,null,null)}),e[yn]=null}};function Cl(t){this._internalRoot=t}Cl.prototype.unstable_scheduleHydration=function(t){if(t){var e=ay();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_n.length&&e!==0&&e<_n[n].priority;n++);_n.splice(n,0,t),n===0&&uy(t)}};function Ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mm(){}function Dx(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Ua(o);s.call(h)}}var o=_w(e,r,t,0,null,!1,!1,"",mm);return t._reactRootContainer=o,t[yn]=o.current,$s(t.nodeType===8?t.parentNode:t),kr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=Ua(c);a.call(h)}}var c=bd(t,0,!1,null,null,!1,!1,"",mm);return t._reactRootContainer=c,t[yn]=c.current,$s(t.nodeType===8?t.parentNode:t),kr(function(){Sl(e,c,n,r)}),c}function kl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Ua(o);a.call(c)}}Sl(e,o,t,i)}else o=Dx(n,e,t,i,r);return Ua(o)}sy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=is(e.pendingLanes);n!==0&&(Qh(e,n|1),pt(e,Se()),!(te&6)&&(Si=Se()+500,er()))}break;case 13:kr(function(){var r=wn(t,1);if(r!==null){var i=it();zt(r,t,1,i)}}),Id(t,1)}};Gh=function(t){if(t.tag===13){var e=wn(t,134217728);if(e!==null){var n=it();zt(e,t,134217728,n)}Id(t,134217728)}};oy=function(t){if(t.tag===13){var e=Un(t),n=wn(t,e);if(n!==null){var r=it();zt(n,t,e,r)}Id(t,e)}};ay=function(){return ie};ly=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};Cc=function(t,e,n){switch(e){case"input":if(mc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pl(r);if(!i)throw Error(I(90));Bg(r),mc(r,i)}}}break;case"textarea":Ug(t,n);break;case"select":e=n.value,e!=null&&oi(t,!!n.multiple,e,!1)}};Qg=Cd;Gg=kr;var Px={usingClientEntryPoint:!1,Events:[oo,Jr,pl,qg,Wg,Cd]},es={findFiberByHostInstance:cr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$x={bundleType:es.bundleType,version:es.version,rendererPackageName:es.rendererPackageName,rendererConfig:es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jg(t),t===null?null:t.stateNode},findFiberByHostInstance:es.findFiberByHostInstance||_x,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{cl=Wo.inject($x),Zt=Wo}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Px;xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ad(e))throw Error(I(200));return Ax(t,e,null,n)};xt.createRoot=function(t,e){if(!Ad(t))throw Error(I(299));var n=!1,r="",i=Dw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bd(t,1,!1,null,null,n,!1,r,i),t[yn]=e.current,$s(t.nodeType===8?t.parentNode:t),new Nd(e)};xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=Jg(e),t=t===null?null:t.stateNode,t};xt.flushSync=function(t){return kr(t)};xt.hydrate=function(t,e,n){if(!xl(e))throw Error(I(200));return kl(null,t,e,!0,n)};xt.hydrateRoot=function(t,e,n){if(!Ad(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Dw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_w(e,null,t,1,n??null,i,!1,s,o),t[yn]=e.current,$s(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cl(e)};xt.render=function(t,e,n){if(!xl(e))throw Error(I(200));return kl(null,t,e,!1,n)};xt.unmountComponentAtNode=function(t){if(!xl(t))throw Error(I(40));return t._reactRootContainer?(kr(function(){kl(null,null,t,!1,function(){t._reactRootContainer=null,t[yn]=null})}),!0):!1};xt.unstable_batchedUpdates=Cd;xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xl(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return kl(t,e,n,!1,r)};xt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=xt})(_S);var Pw,gm=ac;Pw=oc.createRoot=gm.createRoot,oc.hydrateRoot=gm.hydrateRoot;/**
 * @remix-run/router v1.3.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vs(){return Vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vs.apply(this,arguments)}var Ln;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ln||(Ln={}));const ym="popstate";function Lx(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return th("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Va(i)}return Ox(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rx(){return Math.random().toString(36).substr(2,8)}function wm(t,e){return{usr:t.state,key:t.key,idx:e}}function th(t,e,n,r){return n===void 0&&(n=null),Vs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Li(e):e,{state:n,key:e&&e.key||r||Rx()})}function Va(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Li(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ox(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ln.Pop,c=null,h=f();h==null&&(h=0,o.replaceState(Vs({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){a=Ln.Pop;let D=f(),w=D==null?null:D-h;h=D,c&&c({action:a,location:S.location,delta:w})}function g(D,w){a=Ln.Push;let y=th(S.location,D,w);n&&n(y,D),h=f()+1;let v=wm(y,h),T=S.createHref(y);try{o.pushState(v,"",T)}catch{i.location.assign(T)}s&&c&&c({action:a,location:S.location,delta:1})}function E(D,w){a=Ln.Replace;let y=th(S.location,D,w);n&&n(y,D),h=f();let v=wm(y,h),T=S.createHref(y);o.replaceState(v,"",T),s&&c&&c({action:a,location:S.location,delta:0})}function C(D){let w=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof D=="string"?D:Va(D);return Ne(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let S={get action(){return a},get location(){return t(i,o)},listen(D){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ym,p),c=D,()=>{i.removeEventListener(ym,p),c=null}},createHref(D){return e(i,D)},createURL:C,encodeLocation(D){let w=C(D);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:E,go(D){return o.go(D)}};return S}var vm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vm||(vm={}));function Mx(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Li(e):e,i=_d(r.pathname||"/",n);if(i==null)return null;let s=$w(t);Fx(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Wx(s[a],Yx(i));return o}function $w(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Ne(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=zn([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(Ne(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),$w(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:Kx(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of Lw(s.path))i(s,o,c)}),e}function Lw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Lw(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Fx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Bx=/^:\w+$/,jx=3,Ux=2,Vx=1,zx=10,Hx=-2,Em=t=>t==="*";function Kx(t,e){let n=t.split("/"),r=n.length;return n.some(Em)&&(r+=Hx),e&&(r+=Ux),n.filter(i=>!Em(i)).reduce((i,s)=>i+(Bx.test(s)?jx:s===""?Vx:zx),r)}function qx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Wx(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],c=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Qx({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},h);if(!f)return null;Object.assign(r,f.params);let p=a.route;s.push({params:r,pathname:zn([i,f.pathname]),pathnameBase:ek(zn([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=zn([i,f.pathnameBase]))}return s}function Qx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Gx(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,f,p)=>{if(f==="*"){let g=a[p]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return h[f]=Xx(a[p]||"",f),h},{}),pathname:s,pathnameBase:o,pattern:t}}function Gx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Dd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Yx(t){try{return decodeURI(t)}catch(e){return Dd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xx(t,e){try{return decodeURIComponent(t)}catch(n){return Dd(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function _d(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Dd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Li(t):t;return{pathname:n?n.startsWith("/")?n:Zx(n,e):e,search:tk(r),hash:nk(i)}}function Zx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ju(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ow(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Li(t):(i=Vs({},t),Ne(!i.pathname||!i.pathname.includes("?"),ju("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),ju("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),ju("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let p=e.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?e[p]:"/"}let c=Jx(i,a),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}const zn=t=>t.join("/").replace(/\/\/+/g,"/"),ek=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ik=["post","put","patch","delete"];[...ik];/**
 * React Router v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}function sk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const ok=typeof Object.is=="function"?Object.is:sk,{useState:ak,useEffect:lk,useLayoutEffect:uk,useDebugValue:ck}=sc;function hk(t,e,n){const r=e(),[{inst:i},s]=ak({inst:{value:r,getSnapshot:e}});return uk(()=>{i.value=r,i.getSnapshot=e,Uu(i)&&s({inst:i})},[t,r,e]),lk(()=>(Uu(i)&&s({inst:i}),t(()=>{Uu(i)&&s({inst:i})})),[t]),ck(r),r}function Uu(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!ok(n,r)}catch{return!0}}function dk(t,e,n){return e()}const fk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pk=!fk,mk=pk?dk:hk;"useSyncExternalStore"in sc&&(t=>t.useSyncExternalStore)(sc);const Mw=P.createContext(null),Fw=P.createContext(null),lo=P.createContext(null),Tl=P.createContext(null),_r=P.createContext({outlet:null,matches:[]}),Bw=P.createContext(null);function gk(t,e){let{relative:n}=e===void 0?{}:e;uo()||Ne(!1);let{basename:r,navigator:i}=P.useContext(lo),{hash:s,pathname:o,search:a}=Vw(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:zn([r,o])),i.createHref({pathname:c,search:a,hash:s})}function uo(){return P.useContext(Tl)!=null}function bl(){return uo()||Ne(!1),P.useContext(Tl).location}function jw(){uo()||Ne(!1);let{basename:t,navigator:e}=P.useContext(lo),{matches:n}=P.useContext(_r),{pathname:r}=bl(),i=JSON.stringify(Rw(n).map(a=>a.pathnameBase)),s=P.useRef(!1);return P.useEffect(()=>{s.current=!0}),P.useCallback(function(a,c){if(c===void 0&&(c={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let h=Ow(a,JSON.parse(i),r,c.relative==="path");t!=="/"&&(h.pathname=h.pathname==="/"?t:zn([t,h.pathname])),(c.replace?e.replace:e.push)(h,c.state,c)},[t,e,i,r])}function Uw(){let{matches:t}=P.useContext(_r),e=t[t.length-1];return e?e.params:{}}function Vw(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=P.useContext(_r),{pathname:i}=bl(),s=JSON.stringify(Rw(r).map(o=>o.pathnameBase));return P.useMemo(()=>Ow(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function yk(t,e){uo()||Ne(!1);let{navigator:n}=P.useContext(lo),r=P.useContext(Fw),{matches:i}=P.useContext(_r),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let c=bl(),h;if(e){var f;let S=typeof e=="string"?Li(e):e;a==="/"||(f=S.pathname)!=null&&f.startsWith(a)||Ne(!1),h=S}else h=c;let p=h.pathname||"/",g=a==="/"?p:p.slice(a.length)||"/",E=Mx(t,{pathname:g}),C=Sk(E&&E.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:zn([a,n.encodeLocation?n.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?a:zn([a,n.encodeLocation?n.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,r||void 0);return e&&C?P.createElement(Tl.Provider,{value:{location:nh({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ln.Pop}},C):C}function wk(){let t=Tk(),e=rk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,s)}class vk extends P.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?P.createElement(_r.Provider,{value:this.props.routeContext},P.createElement(Bw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ek(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(Mw);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(_r.Provider,{value:e},r)}function Sk(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Ne(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let c=o.route.id?i==null?void 0:i[o.route.id]:null,h=n?o.route.errorElement||P.createElement(wk,null):null,f=e.concat(r.slice(0,a+1)),p=()=>P.createElement(Ek,{match:o,routeContext:{outlet:s,matches:f}},c?h:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?P.createElement(vk,{location:n.location,component:h,error:c,children:p(),routeContext:{outlet:null,matches:f}}):p()},null)}var Sm;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(Sm||(Sm={}));var za;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(za||(za={}));function Ck(t){let e=P.useContext(Fw);return e||Ne(!1),e}function xk(t){let e=P.useContext(_r);return e||Ne(!1),e}function kk(t){let e=xk(),n=e.matches[e.matches.length-1];return n.route.id||Ne(!1),n.route.id}function Tk(){var t;let e=P.useContext(Bw),n=Ck(za.UseRouteError),r=kk(za.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function lr(t){Ne(!1)}function bk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ln.Pop,navigator:s,static:o=!1}=t;uo()&&Ne(!1);let a=e.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Li(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:E="default"}=r,C=P.useMemo(()=>{let S=_d(h,a);return S==null?null:{pathname:S,search:f,hash:p,state:g,key:E}},[a,h,f,p,g,E]);return C==null?null:P.createElement(lo.Provider,{value:c},P.createElement(Tl.Provider,{children:n,value:{location:C,navigationType:i}}))}function Ik(t){let{children:e,location:n}=t,r=P.useContext(Mw),i=r&&!e?r.router.routes:rh(e);return yk(i,n)}var Cm;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Cm||(Cm={}));new Promise(()=>{});function rh(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;if(r.type===P.Fragment){n.push.apply(n,rh(r.props.children,e));return}r.type!==lr&&Ne(!1),!r.props.index||!r.props.children||Ne(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=rh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ih.apply(this,arguments)}function Nk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ak(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _k(t,e){return t.button===0&&(!e||e==="_self")&&!Ak(t)}const Dk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Pk(t){let{basename:e,children:n,window:r}=t,i=P.useRef();i.current==null&&(i.current=Lx({window:r,v5Compat:!0}));let s=i.current,[o,a]=P.useState({action:s.action,location:s.location});return P.useLayoutEffect(()=>s.listen(a),[s]),P.createElement(bk,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const $k=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:h,preventScrollReset:f}=e,p=Nk(e,Dk),{basename:g}=P.useContext(lo),E,C=!1;if(typeof h=="string"&&Lk.test(h)&&(E=h,$k)){let y=new URL(window.location.href),v=h.startsWith("//")?new URL(y.protocol+h):new URL(h),T=_d(v.pathname,g);v.origin===y.origin&&T!=null?h=T+v.search+v.hash:C=!0}let S=gk(h,{relative:i}),D=Rk(h,{replace:o,state:a,target:c,preventScrollReset:f,relative:i});function w(y){r&&r(y),y.defaultPrevented||D(y)}return P.createElement("a",ih({},p,{href:E||S,onClick:C||s?r:w,ref:n,target:c}))});var xm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(xm||(xm={}));var km;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(km||(km={}));function Rk(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=jw(),c=bl(),h=Vw(t,{relative:o});return P.useCallback(f=>{if(_k(f,n)){f.preventDefault();let p=r!==void 0?r:Va(c)===Va(h);a(t,{replace:p,state:i,preventScrollReset:s,relative:o})}},[c,a,h,r,i,n,t,s,o])}function Ok(t,e){const[n,r]=P.useState(()=>{try{const s=localStorage.getItem(t);return s?JSON.parse(s):e}catch{return e}});return[n,s=>{try{r(s),localStorage.setItem(t,JSON.stringify(s))}catch(o){console.error(o)}}]}const Dr=P.createContext(null),Mk=({children:t})=>{const[e,n]=Ok("cart",[]),[r,i]=P.useState(0);P.useEffect(()=>{const f=e.reduce((p,g)=>p+=g.cantidad,0);i(f)},[e]);const s=({cantidad:f,product:p})=>{if(e.some(E=>E.id===p.id)){const E=e.find(C=>C.id===p.id);E.cantidad+=f,n([...e])}else{const E={...p,cantidad:f};n([...e,E])}},o=f=>{const p=e.find(E=>E.id===f.id),g=e.indexOf(p);e.splice(g,1),n([...e])},a=f=>{const p=e.find(g=>g.id===f.id);p.cantidad<p.stock&&(p.cantidad++,n([...e]))},c=f=>{const p=e.find(g=>g.id===f.id);p.cantidad===1?o(f):(p.cantidad--,n([...e]))},h=(f,p)=>{p==="+"?a(f):c(f)};return k(Dr.Provider,{value:{cart:e,setCart:n,handleClick:s,cantidadTotal:r,modificarCantidad:h,eliminarProducto:o},children:t})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Fk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Hw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4;let g=(a&15)<<2|h>>6,E=h&63;c||(E=64,o||(g=64)),r.push(n[f],n[p],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Fk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||h==null||p==null)throw new Bk;const g=s<<2|a>>4;if(r.push(g),h!==64){const E=a<<4&240|h>>2;if(r.push(E),p!==64){const C=h<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jk=function(t){const e=zw(t);return Hw.encodeByteArray(e,!0)},Ha=function(t){return jk(t).replace(/\./g,"")},Uk=function(t){try{return Hw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=()=>Vk().__FIREBASE_DEFAULTS__,Hk=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Kk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Uk(t[1]);return e&&JSON.parse(e)},Kw=()=>{try{return zk()||Hk()||Kk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qk=t=>{var e,n;return(n=(e=Kw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Wk=t=>{const e=qk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qk=()=>{var t;return(t=Kw())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ha(JSON.stringify(n)),Ha(JSON.stringify(o)),a].join(".")}function Xk(){try{return typeof indexedDB=="object"}catch{return!1}}function Jk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="FirebaseError";class Ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Zk,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qw.prototype.create)}}class qw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?eT(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ri(i,a,r)}}function eT(t,e){return t.replace(tT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tT=/\{\$([^}]+)}/g;function sh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Tm(s)&&Tm(o)){if(!sh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Tm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t){return t&&t._delegate?t._delegate:t}class Hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iT(e))try{this.getOrInitializeService({instanceIdentifier:ur})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ur){return this.instances.has(e)}getOptions(e=ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ur){return this.component?this.component.multipleInstances?e:ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rT(t){return t===ur?void 0:t}function iT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const oT={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},aT=ne.INFO,lT={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},uT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ww{constructor(e){this.name=e,this._logLevel=aT,this._logHandler=uT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const cT=(t,e)=>e.some(n=>t instanceof n);let bm,Im;function hT(){return bm||(bm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dT(){return Im||(Im=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qw=new WeakMap,oh=new WeakMap,Gw=new WeakMap,Vu=new WeakMap,Pd=new WeakMap;function fT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Qw.set(n,t)}).catch(()=>{}),Pd.set(e,t),e}function pT(t){if(oh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});oh.set(t,e)}let ah={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return oh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mT(t){ah=t(ah)}function gT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zu(this),e,...n);return Gw.set(r,e.sort?e.sort():[e]),Hn(r)}:dT().includes(t)?function(...e){return t.apply(zu(this),e),Hn(Qw.get(this))}:function(...e){return Hn(t.apply(zu(this),e))}}function yT(t){return typeof t=="function"?gT(t):(t instanceof IDBTransaction&&pT(t),cT(t,hT())?new Proxy(t,ah):t)}function Hn(t){if(t instanceof IDBRequest)return fT(t);if(Vu.has(t))return Vu.get(t);const e=yT(t);return e!==t&&(Vu.set(t,e),Pd.set(e,t)),e}const zu=t=>Pd.get(t);function wT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Hn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Hn(o.result),c.oldVersion,c.newVersion,Hn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const vT=["get","getKey","getAll","getAllKeys","count"],ET=["put","add","delete","clear"],Hu=new Map;function Nm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hu.get(e))return Hu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ET.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vT.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&c.done]))[0]};return Hu.set(e,s),s}mT(t=>({...t,get:(e,n,r)=>Nm(e,n)||t.get(e,n,r),has:(e,n)=>!!Nm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lh="@firebase/app",Am="0.9.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new Ww("@firebase/app"),xT="@firebase/app-compat",kT="@firebase/analytics-compat",TT="@firebase/analytics",bT="@firebase/app-check-compat",IT="@firebase/app-check",NT="@firebase/auth",AT="@firebase/auth-compat",_T="@firebase/database",DT="@firebase/database-compat",PT="@firebase/functions",$T="@firebase/functions-compat",LT="@firebase/installations",RT="@firebase/installations-compat",OT="@firebase/messaging",MT="@firebase/messaging-compat",FT="@firebase/performance",BT="@firebase/performance-compat",jT="@firebase/remote-config",UT="@firebase/remote-config-compat",VT="@firebase/storage",zT="@firebase/storage-compat",HT="@firebase/firestore",KT="@firebase/firestore-compat",qT="firebase",WT="9.18.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="[DEFAULT]",QT={[lh]:"fire-core",[xT]:"fire-core-compat",[TT]:"fire-analytics",[kT]:"fire-analytics-compat",[IT]:"fire-app-check",[bT]:"fire-app-check-compat",[NT]:"fire-auth",[AT]:"fire-auth-compat",[_T]:"fire-rtdb",[DT]:"fire-rtdb-compat",[PT]:"fire-fn",[$T]:"fire-fn-compat",[LT]:"fire-iid",[RT]:"fire-iid-compat",[OT]:"fire-fcm",[MT]:"fire-fcm-compat",[FT]:"fire-perf",[BT]:"fire-perf-compat",[jT]:"fire-rc",[UT]:"fire-rc-compat",[VT]:"fire-gcs",[zT]:"fire-gcs-compat",[HT]:"fire-fst",[KT]:"fire-fst-compat","fire-js":"fire-js",[qT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new Map,ch=new Map;function GT(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qa(t){const e=t.name;if(ch.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;ch.set(e,t);for(const n of Ka.values())GT(n,t);return!0}function YT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Kn=new qw("app","Firebase",XT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=WT;function Yw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:uh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Kn.create("bad-app-name",{appName:String(i)});if(n||(n=Qk()),!n)throw Kn.create("no-options");const s=Ka.get(i);if(s){if(sh(n,s.options)&&sh(r,s.config))return s;throw Kn.create("duplicate-app",{appName:i})}const o=new sT(i);for(const c of ch.values())o.addComponent(c);const a=new JT(n,r,o);return Ka.set(i,a),a}function eb(t=uh){const e=Ka.get(t);if(!e&&t===uh)return Yw();if(!e)throw Kn.create("no-app",{appName:t});return e}function di(t,e,n){var r;let i=(r=QT[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(a.join(" "));return}qa(new Hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="firebase-heartbeat-database",nb=1,Ks="firebase-heartbeat-store";let Ku=null;function Xw(){return Ku||(Ku=wT(tb,nb,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ks)}}}).catch(t=>{throw Kn.create("idb-open",{originalErrorMessage:t.message})})),Ku}async function rb(t){try{return(await Xw()).transaction(Ks).objectStore(Ks).get(Jw(t))}catch(e){if(e instanceof Ri)Tr.warn(e.message);else{const n=Kn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(n.message)}}}async function _m(t,e){try{const r=(await Xw()).transaction(Ks,"readwrite");return await r.objectStore(Ks).put(e,Jw(t)),r.done}catch(n){if(n instanceof Ri)Tr.warn(n.message);else{const r=Kn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(r.message)}}}function Jw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=1024,sb=30*24*60*60*1e3;class ob{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=sb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dm(),{heartbeatsToSend:n,unsentEntries:r}=ab(this._heartbeatsCache.heartbeats),i=Ha(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Dm(){return new Date().toISOString().substring(0,10)}function ab(t,e=ib){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Pm(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xk()?Jk().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await rb(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Pm(t){return Ha(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t){qa(new Hs("platform-logger",e=>new ST(e),"PRIVATE")),qa(new Hs("heartbeat",e=>new ob(e),"PRIVATE")),di(lh,Am,t),di(lh,Am,"esm2017"),di("fire-js","")}ub("");var cb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,$d=$d||{},K=cb||self;function Wa(){}function Il(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function co(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function hb(t){return Object.prototype.hasOwnProperty.call(t,qu)&&t[qu]||(t[qu]=++db)}var qu="closure_uid_"+(1e9*Math.random()>>>0),db=0;function fb(t,e,n){return t.call.apply(t.bind,arguments)}function pb(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Xe(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xe=fb:Xe=pb,Xe.apply(null,arguments)}function Qo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ve(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function tr(){this.s=this.s,this.o=this.o}var mb=0;tr.prototype.s=!1;tr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),mb!=0)&&hb(this)};tr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zw=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ld(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function $m(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Il(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Je(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var gb=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{K.addEventListener("test",Wa,e),K.removeEventListener("test",Wa,e)}catch{}return t}();function Qa(t){return/^[\s\xa0]*$/.test(t)}var Lm=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Wu(t,e){return t<e?-1:t>e?1:0}function Nl(){var t=K.navigator;return t&&(t=t.userAgent)?t:""}function Jt(t){return Nl().indexOf(t)!=-1}function Rd(t){return Rd[" "](t),t}Rd[" "]=Wa;function yb(t){var e=Eb;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var wb=Jt("Opera"),Ci=Jt("Trident")||Jt("MSIE"),ev=Jt("Edge"),hh=ev||Ci,tv=Jt("Gecko")&&!(Nl().toLowerCase().indexOf("webkit")!=-1&&!Jt("Edge"))&&!(Jt("Trident")||Jt("MSIE"))&&!Jt("Edge"),vb=Nl().toLowerCase().indexOf("webkit")!=-1&&!Jt("Edge");function nv(){var t=K.document;return t?t.documentMode:void 0}var Ga;e:{var Qu="",Gu=function(){var t=Nl();if(tv)return/rv:([^\);]+)(\)|;)/.exec(t);if(ev)return/Edge\/([\d\.]+)/.exec(t);if(Ci)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(vb)return/WebKit\/(\S+)/.exec(t);if(wb)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Gu&&(Qu=Gu?Gu[1]:""),Ci){var Yu=nv();if(Yu!=null&&Yu>parseFloat(Qu)){Ga=String(Yu);break e}}Ga=Qu}var Eb={};function Sb(){return yb(function(){let t=0;const e=Lm(String(Ga)).split("."),n=Lm("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Wu(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Wu(i[2].length==0,s[2].length==0)||Wu(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var dh;if(K.document&&Ci){var Rm=nv();dh=Rm||parseInt(Ga,10)||void 0}else dh=void 0;var Cb=dh;function qs(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(tv){e:{try{Rd(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:xb[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qs.X.h.call(this)}}Ve(qs,Je);var xb={2:"touch",3:"pen",4:"mouse"};qs.prototype.h=function(){qs.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ho="closure_listenable_"+(1e6*Math.random()|0),kb=0;function Tb(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++kb,this.ba=this.ea=!1}function Al(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Od(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function rv(t){const e={};for(const n in t)e[n]=t[n];return e}const Om="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iv(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Om.length;s++)n=Om[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _l(t){this.src=t,this.g={},this.h=0}_l.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ph(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new Tb(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function fh(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Zw(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Al(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ph(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Md="closure_lm_"+(1e6*Math.random()|0),Xu={};function sv(t,e,n,r,i){if(r&&r.once)return av(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)sv(t,e[s],n,r,i);return null}return n=jd(n),t&&t[ho]?t.N(e,n,co(r)?!!r.capture:!!r,i):ov(t,e,n,!1,r,i)}function ov(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=co(i)?!!i.capture:!!i,a=Bd(t);if(a||(t[Md]=a=new _l(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=bb(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gb||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(uv(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function bb(){function t(n){return e.call(t.src,t.listener,n)}const e=Ib;return t}function av(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)av(t,e[s],n,r,i);return null}return n=jd(n),t&&t[ho]?t.O(e,n,co(r)?!!r.capture:!!r,i):ov(t,e,n,!0,r,i)}function lv(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)lv(t,e[s],n,r,i);else r=co(r)?!!r.capture:!!r,n=jd(n),t&&t[ho]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ph(s,n,r,i),-1<n&&(Al(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Bd(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ph(e,n,r,i)),(n=-1<t?e[t]:null)&&Fd(n))}function Fd(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[ho])fh(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(uv(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bd(e))?(fh(n,t),n.h==0&&(n.src=null,e[Md]=null)):Al(t)}}}function uv(t){return t in Xu?Xu[t]:Xu[t]="on"+t}function Ib(t,e){if(t.ba)t=!0;else{e=new qs(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Fd(t),t=n.call(r,e)}return t}function Bd(t){return t=t[Md],t instanceof _l?t:null}var Ju="__closure_events_fn_"+(1e9*Math.random()>>>0);function jd(t){return typeof t=="function"?t:(t[Ju]||(t[Ju]=function(e){return t.handleEvent(e)}),t[Ju])}function Re(){tr.call(this),this.i=new _l(this),this.P=this,this.I=null}Ve(Re,tr);Re.prototype[ho]=!0;Re.prototype.removeEventListener=function(t,e,n,r){lv(this,t,e,n,r)};function je(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Je(e,t);else if(e instanceof Je)e.target=e.target||t;else{var i=e;e=new Je(r,t),iv(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Go(o,r,!0,e)&&i}if(o=e.g=t,i=Go(o,r,!0,e)&&i,i=Go(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Go(o,r,!1,e)&&i}Re.prototype.M=function(){if(Re.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Al(n[r]);delete t.g[e],t.h--}}this.I=null};Re.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Re.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Go(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.ea&&fh(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ud=K.JSON.stringify;function Nb(){var t=dv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Ab{constructor(){this.h=this.g=null}add(e,n){const r=cv.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var cv=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new _b,t=>t.reset());class _b{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Db(t){K.setTimeout(()=>{throw t},0)}function hv(t,e){mh||Pb(),gh||(mh(),gh=!0),dv.add(t,e)}var mh;function Pb(){var t=K.Promise.resolve(void 0);mh=function(){t.then($b)}}var gh=!1,dv=new Ab;function $b(){for(var t;t=Nb();){try{t.h.call(t.g)}catch(n){Db(n)}var e=cv;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}gh=!1}function Dl(t,e){Re.call(this),this.h=t||1,this.g=e||K,this.j=Xe(this.lb,this),this.l=Date.now()}Ve(Dl,Re);O=Dl.prototype;O.ca=!1;O.R=null;O.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),je(this,"tick"),this.ca&&(Vd(this),this.start()))}};O.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vd(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}O.M=function(){Dl.X.M.call(this),Vd(this),delete this.g};function zd(t,e,n){if(typeof t=="function")n&&(t=Xe(t,n));else if(t&&typeof t.handleEvent=="function")t=Xe(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function fv(t){t.g=zd(()=>{t.g=null,t.i&&(t.i=!1,fv(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Lb extends tr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fv(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(t){tr.call(this),this.h=t,this.g={}}Ve(Ws,tr);var Mm=[];function pv(t,e,n,r){Array.isArray(n)||(n&&(Mm[0]=n.toString()),n=Mm);for(var i=0;i<n.length;i++){var s=sv(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function mv(t){Od(t.g,function(e,n){this.g.hasOwnProperty(n)&&Fd(e)},t),t.g={}}Ws.prototype.M=function(){Ws.X.M.call(this),mv(this)};Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Pl(){this.g=!0}Pl.prototype.Aa=function(){this.g=!1};function Rb(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var h=a[c].split("=");if(1<h.length){var f=h[0];h=h[1];var p=f.split("_");o=2<=p.length&&p[1]=="type"?o+(f+"="+h+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Ob(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function si(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Fb(t,n)+(r?" "+r:"")})}function Mb(t,e){t.info(function(){return"TIMEOUT: "+e})}Pl.prototype.info=function(){};function Fb(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ud(n)}catch{return e}}var Pr={},Fm=null;function $l(){return Fm=Fm||new Re}Pr.Pa="serverreachability";function gv(t){Je.call(this,Pr.Pa,t)}Ve(gv,Je);function Qs(t){const e=$l();je(e,new gv(e))}Pr.STAT_EVENT="statevent";function yv(t,e){Je.call(this,Pr.STAT_EVENT,t),this.stat=e}Ve(yv,Je);function rt(t){const e=$l();je(e,new yv(e,t))}Pr.Qa="timingevent";function wv(t,e){Je.call(this,Pr.Qa,t),this.size=e}Ve(wv,Je);function fo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}var Ll={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},vv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Hd(){}Hd.prototype.h=null;function Bm(t){return t.h||(t.h=t.i())}function Ev(){}var po={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Kd(){Je.call(this,"d")}Ve(Kd,Je);function qd(){Je.call(this,"c")}Ve(qd,Je);var yh;function Rl(){}Ve(Rl,Hd);Rl.prototype.g=function(){return new XMLHttpRequest};Rl.prototype.i=function(){return{}};yh=new Rl;function mo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Ws(this),this.O=Bb,t=hh?125:void 0,this.T=new Dl(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Sv}function Sv(){this.i=null,this.g="",this.h=!1}var Bb=45e3,wh={},Ya={};O=mo.prototype;O.setTimeout=function(t){this.O=t};function vh(t,e,n){t.K=1,t.v=Ml(En(e)),t.s=n,t.P=!0,Cv(t,null)}function Cv(t,e){t.F=Date.now(),go(t),t.A=En(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),_v(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Sv,t.g=Xv(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Lb(Xe(t.La,t,t.g),t.N)),pv(t.S,t.g,"readystatechange",t.ib),e=t.H?rv(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Qs(),Rb(t.j,t.u,t.A,t.m,t.U,t.s)}O.ib=function(t){t=t.target;const e=this.L;e&&dn(t)==3?e.l():this.La(t)};O.La=function(t){try{if(t==this.g)e:{const f=dn(this.g);var e=this.g.Ea();const p=this.g.aa();if(!(3>f)&&(f!=3||hh||this.g&&(this.h.h||this.g.fa()||zm(this.g)))){this.I||f!=4||e==7||(e==8||0>=p?Qs(3):Qs(2)),Ol(this);var n=this.g.aa();this.Y=n;t:if(xv(this)){var r=zm(this.g);t="";var i=r.length,s=dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fr(this),vs(this);var o="";break t}this.h.i=new K.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,Ob(this.j,this.u,this.A,this.m,this.U,f,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qa(a)){var h=a;break t}}h=null}if(n=h)si(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Eh(this,n);else{this.i=!1,this.o=3,rt(12),fr(this),vs(this);break e}}this.P?(kv(this,f,o),hh&&this.i&&f==3&&(pv(this.S,this.T,"tick",this.hb),this.T.start())):(si(this.j,this.m,o,null),Eh(this,o)),f==4&&fr(this),this.i&&!this.I&&(f==4?Wv(this.l,this):(this.i=!1,go(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,rt(12)):(this.o=0,rt(13)),fr(this),vs(this)}}}catch{}finally{}};function xv(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function kv(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=jb(t,n),i==Ya){e==4&&(t.o=4,rt(14),r=!1),si(t.j,t.m,null,"[Incomplete Response]");break}else if(i==wh){t.o=4,rt(15),si(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else si(t.j,t.m,i,null),Eh(t,i);xv(t)&&i!=Ya&&i!=wh&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,rt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zd(e),e.K=!0,rt(11))):(si(t.j,t.m,n,"[Invalid Chunked Response]"),fr(t),vs(t))}O.hb=function(){if(this.g){var t=dn(this.g),e=this.g.fa();this.C<e.length&&(Ol(this),kv(this,t,e),this.i&&t!=4&&go(this))}};function jb(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ya:(n=Number(e.substring(n,r)),isNaN(n)?wh:(r+=1,r+n>e.length?Ya:(e=e.substr(r,n),t.C=r+n,e)))}O.cancel=function(){this.I=!0,fr(this)};function go(t){t.V=Date.now()+t.O,Tv(t,t.O)}function Tv(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=fo(Xe(t.gb,t),e)}function Ol(t){t.B&&(K.clearTimeout(t.B),t.B=null)}O.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(Mb(this.j,this.A),this.K!=2&&(Qs(),rt(17)),fr(this),this.o=2,vs(this)):Tv(this,this.V-t)};function vs(t){t.l.G==0||t.I||Wv(t.l,t)}function fr(t){Ol(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Vd(t.T),mv(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Eh(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Sh(n.h,t))){if(!t.J&&Sh(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Za(n),jl(n);else break e;Jd(n),rt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=fo(Xe(n.cb,n),6e3));if(1>=$v(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else pr(n,11)}else if((t.J||n.g==t)&&Za(n),!Qa(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.T=h[0],h=h[1],n.G==2)if(h[0]=="c"){n.I=h[1],n.ka=h[2];const f=h[3];f!=null&&(n.ma=f,n.j.info("VER="+n.ma));const p=h[4];p!=null&&(n.Ca=p,n.j.info("SVER="+n.Ca));const g=h[5];g!=null&&typeof g=="number"&&0<g&&(r=1.5*g,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const E=t.g;if(E){const C=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var s=r.h;s.g||C.indexOf("spdy")==-1&&C.indexOf("quic")==-1&&C.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Wd(s,s.h),s.h=null))}if(r.D){const S=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(r.za=S,fe(r.F,r.D,S))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=Yv(r,r.H?r.ka:null,r.V),o.J){Lv(r.h,o);var a=o,c=r.J;c&&a.setTimeout(c),a.B&&(Ol(a),go(a)),r.g=o}else Kv(r);0<n.i.length&&Ul(n)}else h[0]!="stop"&&h[0]!="close"||pr(n,7);else n.G==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?pr(n,7):Xd(n):h[0]!="noop"&&n.l&&n.l.wa(h),n.A=0)}}Qs(4)}catch{}}function Ub(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Il(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Vb(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Il(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function bv(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Il(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Vb(t),r=Ub(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Iv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zb(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function wr(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof wr){this.h=e!==void 0?e:t.h,Xa(this,t.j),this.s=t.s,this.g=t.g,Ja(this,t.m),this.l=t.l,e=t.i;var n=new Gs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),jm(this,n),this.o=t.o}else t&&(n=String(t).match(Iv))?(this.h=!!e,Xa(this,n[1]||"",!0),this.s=os(n[2]||""),this.g=os(n[3]||"",!0),Ja(this,n[4]),this.l=os(n[5]||"",!0),jm(this,n[6]||"",!0),this.o=os(n[7]||"")):(this.h=!!e,this.i=new Gs(null,this.h))}wr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(as(e,Um,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(as(e,Um,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(as(n,n.charAt(0)=="/"?qb:Kb,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",as(n,Qb)),t.join("")};function En(t){return new wr(t)}function Xa(t,e,n){t.j=n?os(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ja(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function jm(t,e,n){e instanceof Gs?(t.i=e,Gb(t.i,t.h)):(n||(e=as(e,Wb)),t.i=new Gs(e,t.h))}function fe(t,e,n){t.i.set(e,n)}function Ml(t){return fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function os(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function as(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Hb),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hb(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Um=/[#\/\?@]/g,Kb=/[#\?:]/g,qb=/[#\?]/g,Wb=/[#\?@]/g,Qb=/#/g;function Gs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function nr(t){t.g||(t.g=new Map,t.h=0,t.i&&zb(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}O=Gs.prototype;O.add=function(t,e){nr(this),this.i=null,t=Oi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Nv(t,e){nr(t),e=Oi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Av(t,e){return nr(t),e=Oi(t,e),t.g.has(e)}O.forEach=function(t,e){nr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};O.oa=function(){nr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};O.W=function(t){nr(this);let e=[];if(typeof t=="string")Av(this,t)&&(e=e.concat(this.g.get(Oi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};O.set=function(t,e){return nr(this),this.i=null,t=Oi(this,t),Av(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};O.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function _v(t,e,n){Nv(t,e),0<n.length&&(t.i=null,t.g.set(Oi(t,e),Ld(n)),t.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Oi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Gb(t,e){e&&!t.j&&(nr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Nv(this,r),_v(this,i,n))},t)),t.j=e}var Yb=class{constructor(e,n){this.h=e,this.g=n}};function Dv(t){this.l=t||Xb,K.PerformanceNavigationTiming?(t=K.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(K.g&&K.g.Ga&&K.g.Ga()&&K.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xb=10;function Pv(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function $v(t){return t.h?1:t.g?t.g.size:0}function Sh(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Wd(t,e){t.g?t.g.add(e):t.h=e}function Lv(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Dv.prototype.cancel=function(){if(this.i=Rv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Rv(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Ld(t.i)}function Qd(){}Qd.prototype.stringify=function(t){return K.JSON.stringify(t,void 0)};Qd.prototype.parse=function(t){return K.JSON.parse(t,void 0)};function Jb(){this.g=new Qd}function Zb(t,e,n){const r=n||"";try{bv(t,function(i,s){let o=i;co(i)&&(o=Ud(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function eI(t,e){const n=new Pl;if(K.Image){const r=new Image;r.onload=Qo(Yo,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Qo(Yo,n,r,"TestLoadImage: error",!1,e),r.onabort=Qo(Yo,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Qo(Yo,n,r,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Yo(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function yo(t){this.l=t.ac||null,this.j=t.jb||!1}Ve(yo,Hd);yo.prototype.g=function(){return new Fl(this.l,this.j)};yo.prototype.i=function(t){return function(){return t}}({});function Fl(t,e){Re.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Gd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ve(Fl,Re);var Gd=0;O=Fl.prototype;O.open=function(t,e){if(this.readyState!=Gd)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ys(this)};O.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||K).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wo(this)),this.readyState=Gd};O.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ov(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function Ov(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}O.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?wo(this):Ys(this),this.readyState==3&&Ov(this)}};O.Va=function(t){this.g&&(this.response=this.responseText=t,wo(this))};O.Ua=function(t){this.g&&(this.response=t,wo(this))};O.ga=function(){this.g&&wo(this)};function wo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ys(t)}O.setRequestHeader=function(t,e){this.v.append(t,e)};O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ys(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Fl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var tI=K.JSON.parse;function Ee(t){Re.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mv,this.K=this.L=!1}Ve(Ee,Re);var Mv="",nI=/^https?$/i,rI=["POST","PUT"];O=Ee.prototype;O.Ka=function(t){this.L=t};O.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yh.g(),this.C=this.u?Bm(this.u):Bm(yh),this.g.onreadystatechange=Xe(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Vm(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=K.FormData&&t instanceof K.FormData,!(0<=Zw(rI,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jv(this),0<this.B&&((this.K=iI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xe(this.qa,this)):this.A=zd(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Vm(this,s)}};function iI(t){return Ci&&Sb()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}O.qa=function(){typeof $d<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))};function Vm(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Fv(t),Bl(t)}function Fv(t){t.D||(t.D=!0,je(t,"complete"),je(t,"error"))}O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,je(this,"complete"),je(this,"abort"),Bl(this))};O.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bl(this,!0)),Ee.X.M.call(this)};O.Ha=function(){this.s||(this.F||this.v||this.l?Bv(this):this.fb())};O.fb=function(){Bv(this)};function Bv(t){if(t.h&&typeof $d<"u"&&(!t.C[1]||dn(t)!=4||t.aa()!=2)){if(t.v&&dn(t)==4)zd(t.Ha,0,t);else if(je(t,"readystatechange"),dn(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(Iv)[1]||null;if(!i&&K.self&&K.self.location){var s=K.self.location.protocol;i=s.substr(0,s.length-1)}r=!nI.test(i?i.toLowerCase():"")}n=r}if(n)je(t,"complete"),je(t,"success");else{t.m=6;try{var o=2<dn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",Fv(t)}}finally{Bl(t)}}}}function Bl(t,e){if(t.g){jv(t);const n=t.g,r=t.C[0]?Wa:null;t.g=null,t.C=null,e||je(t,"ready");try{n.onreadystatechange=r}catch{}}}function jv(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}function dn(t){return t.g?t.g.readyState:0}O.aa=function(){try{return 2<dn(this)?this.g.status:-1}catch{return-1}};O.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),tI(e)}};function zm(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Mv:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}O.Ea=function(){return this.m};O.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Uv(t){let e="";return Od(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Yd(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Uv(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):fe(t,e,n))}function ts(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Vv(t){this.Ca=0,this.i=[],this.j=new Pl,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ts("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ts("baseRetryDelayMs",5e3,t),this.bb=ts("retryDelaySeedMs",1e4,t),this.$a=ts("forwardChannelMaxRetries",2,t),this.ta=ts("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Dv(t&&t.concurrentRequestLimit),this.Fa=new Jb,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}O=Vv.prototype;O.ma=8;O.G=1;function Xd(t){if(zv(t),t.G==3){var e=t.U++,n=En(t.F);fe(n,"SID",t.I),fe(n,"RID",e),fe(n,"TYPE","terminate"),vo(t,n),e=new mo(t,t.j,e,void 0),e.K=2,e.v=Ml(En(n)),n=!1,K.navigator&&K.navigator.sendBeacon&&(n=K.navigator.sendBeacon(e.v.toString(),"")),!n&&K.Image&&(new Image().src=e.v,n=!0),n||(e.g=Xv(e.l,null),e.g.da(e.v)),e.F=Date.now(),go(e)}Gv(t)}function jl(t){t.g&&(Zd(t),t.g.cancel(),t.g=null)}function zv(t){jl(t),t.u&&(K.clearTimeout(t.u),t.u=null),Za(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&K.clearTimeout(t.m),t.m=null)}function Ul(t){Pv(t.h)||t.m||(t.m=!0,hv(t.Ja,t),t.C=0)}function sI(t,e){return $v(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=fo(Xe(t.Ja,t,e),Qv(t,t.C)),t.C++,!0)}O.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new mo(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=rv(s),iv(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Hv(this,i,e),n=En(this.F),fe(n,"RID",t),fe(n,"CVER",22),this.D&&fe(n,"X-HTTP-Session-Id",this.D),vo(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Uv(s)))+"&"+e:this.o&&Yd(n,this.o,s)),Wd(this.h,i),this.Ya&&fe(n,"TYPE","init"),this.O?(fe(n,"$req",e),fe(n,"SID","null"),i.Z=!0,vh(i,n,null)):vh(i,n,e),this.G=2}}else this.G==3&&(t?Hm(this,t):this.i.length==0||Pv(this.h)||Hm(this))};function Hm(t,e){var n;e?n=e.m:n=t.U++;const r=En(t.F);fe(r,"SID",t.I),fe(r,"RID",n),fe(r,"AID",t.T),vo(t,r),t.o&&t.s&&Yd(r,t.o,t.s),n=new mo(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Hv(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Wd(t.h,n),vh(n,r,e)}function vo(t,e){t.ia&&Od(t.ia,function(n,r){fe(e,r,n)}),t.l&&bv({},function(n,r){fe(e,r,n)})}function Hv(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Xe(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let h=i[c].h;const f=i[c].g;if(h-=s,0>h)s=Math.max(0,i[c].h-100),a=!1;else try{Zb(f,o,"req"+h+"_")}catch{r&&r(f)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function Kv(t){t.g||t.u||(t.Z=1,hv(t.Ia,t),t.A=0)}function Jd(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=fo(Xe(t.Ia,t),Qv(t,t.A)),t.A++,!0)}O.Ia=function(){if(this.u=null,qv(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=fo(Xe(this.eb,this),t)}};O.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,rt(10),jl(this),qv(this))};function Zd(t){t.B!=null&&(K.clearTimeout(t.B),t.B=null)}function qv(t){t.g=new mo(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=En(t.sa);fe(e,"RID","rpc"),fe(e,"SID",t.I),fe(e,"CI",t.L?"0":"1"),fe(e,"AID",t.T),fe(e,"TYPE","xmlhttp"),vo(t,e),t.o&&t.s&&Yd(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ml(En(e)),n.s=null,n.P=!0,Cv(n,t)}O.cb=function(){this.v!=null&&(this.v=null,jl(this),Jd(this),rt(19))};function Za(t){t.v!=null&&(K.clearTimeout(t.v),t.v=null)}function Wv(t,e){var n=null;if(t.g==e){Za(t),Zd(t),t.g=null;var r=2}else if(Sh(t.h,e))n=e.D,Lv(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=$l(),je(r,new wv(r,n)),Ul(t)}else Kv(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&sI(t,e)||r==2&&Jd(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:pr(t,5);break;case 4:pr(t,10);break;case 3:pr(t,6);break;default:pr(t,2)}}}function Qv(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function pr(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Xe(t.kb,t);n||(n=new wr("//www.google.com/images/cleardot.gif"),K.location&&K.location.protocol=="http"||Xa(n,"https"),Ml(n)),eI(n.toString(),r)}else rt(2);t.G=0,t.l&&t.l.va(e),Gv(t),zv(t)}O.kb=function(t){t?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Gv(t){if(t.G=0,t.la=[],t.l){const e=Rv(t.h);(e.length!=0||t.i.length!=0)&&($m(t.la,e),$m(t.la,t.i),t.h.i.length=0,Ld(t.i),t.i.length=0),t.l.ua()}}function Yv(t,e,n){var r=n instanceof wr?En(n):new wr(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Ja(r,r.m);else{var i=K.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new wr(null,void 0);r&&Xa(s,r),e&&(s.g=e),i&&Ja(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&fe(r,n,e),fe(r,"VER",t.ma),vo(t,r),r}function Xv(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ee(new yo({jb:!0})):new Ee(t.ra),e.Ka(t.H),e}function Jv(){}O=Jv.prototype;O.xa=function(){};O.wa=function(){};O.va=function(){};O.ua=function(){};O.Ra=function(){};function el(){if(Ci&&!(10<=Number(Cb)))throw Error("Environmental error: no available transport.")}el.prototype.g=function(t,e){return new Ct(t,e)};function Ct(t,e){Re.call(this),this.g=new Vv(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Qa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qa(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Mi(this)}Ve(Ct,Re);Ct.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;rt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Yv(t,null,t.V),Ul(t)};Ct.prototype.close=function(){Xd(this.g)};Ct.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ud(t),t=n);e.i.push(new Yb(e.ab++,t)),e.G==3&&Ul(e)};Ct.prototype.M=function(){this.g.l=null,delete this.j,Xd(this.g),delete this.g,Ct.X.M.call(this)};function Zv(t){Kd.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ve(Zv,Kd);function e0(){qd.call(this),this.status=1}Ve(e0,qd);function Mi(t){this.g=t}Ve(Mi,Jv);Mi.prototype.xa=function(){je(this.g,"a")};Mi.prototype.wa=function(t){je(this.g,new Zv(t))};Mi.prototype.va=function(t){je(this.g,new e0)};Mi.prototype.ua=function(){je(this.g,"b")};el.prototype.createWebChannel=el.prototype.g;Ct.prototype.send=Ct.prototype.u;Ct.prototype.open=Ct.prototype.m;Ct.prototype.close=Ct.prototype.close;Ll.NO_ERROR=0;Ll.TIMEOUT=8;Ll.HTTP_ERROR=6;vv.COMPLETE="complete";Ev.EventType=po;po.OPEN="a";po.CLOSE="b";po.ERROR="c";po.MESSAGE="d";Re.prototype.listen=Re.prototype.N;Ee.prototype.listenOnce=Ee.prototype.O;Ee.prototype.getLastError=Ee.prototype.Oa;Ee.prototype.getLastErrorCode=Ee.prototype.Ea;Ee.prototype.getStatus=Ee.prototype.aa;Ee.prototype.getResponseJson=Ee.prototype.Sa;Ee.prototype.getResponseText=Ee.prototype.fa;Ee.prototype.send=Ee.prototype.da;Ee.prototype.setWithCredentials=Ee.prototype.Ka;var oI=function(){return new el},aI=function(){return $l()},Zu=Ll,lI=vv,uI=Pr,Km={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},cI=yo,Xo=Ev,hI=Ee;const qm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fi="9.18.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new Ww("@firebase/firestore");function Wm(){return br.logLevel}function B(t,...e){if(br.logLevel<=ne.DEBUG){const n=e.map(ef);br.debug(`Firestore (${Fi}): ${t}`,...n)}}function Sn(t,...e){if(br.logLevel<=ne.ERROR){const n=e.map(ef);br.error(`Firestore (${Fi}): ${t}`,...n)}}function Ch(t,...e){if(br.logLevel<=ne.WARN){const n=e.map(ef);br.warn(`Firestore (${Fi}): ${t}`,...n)}}function ef(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(t="Unexpected state"){const e=`FIRESTORE (${Fi}) INTERNAL ASSERTION FAILED: `+t;throw Sn(e),new Error(e)}function le(t,e){t||H()}function W(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}}class fI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pI{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string"),new t0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string"),new We(e)}}class mI{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=We.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(le(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class gI{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new mI(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wI{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(le(typeof n.token=="string"),this.A=n.token,new yI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=vI(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function xi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ae(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new Ae(0,0))}static max(){return new q(new Ae(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(),r===void 0?r=e.length-n:r>e.length-n&&H(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pe extends Xs{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const EI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Xs{construct(e,n,r){return new Ye(e,n,r)}static isValidIdentifier(e){return EI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ye(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new U(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new U(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new U(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(n)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.path=e}static fromPath(e){return new V(pe.fromString(e))}static fromName(e){return new V(pe.fromString(e).popFirst(5))}static empty(){return new V(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new pe(e.slice()))}}function SI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(r===1e9?new Ae(n+1,0):new Ae(n,r));return new Gn(i,V.empty(),e)}function CI(t){return new Gn(t.readTime,t.key,-1)}class Gn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gn(q.min(),V.empty(),-1)}static max(){return new Gn(q.max(),V.empty(),-1)}}function xI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=V.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==kI)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,r)=>{n(e)})}static reject(e){return new A((n,r)=>{r(e)})}static waitFor(e){return new A((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=A.resolve(!1);for(const r of e)n=n.next(i=>i?A.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new A((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(f=>{o[h]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new A((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function So(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}tf.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r,i,s,o,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class Js{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Js("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Js&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function r0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){return t==null}function tl(t){return t===0&&1/t==-1/0}function II(t){return typeof t=="number"&&Number.isInteger(t)&&!tl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new NI("Invalid base64 string: "+i):i}}(e);return new et(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}et.EMPTY_BYTE_STRING=new et("");const AI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yn(t){if(le(!!t),typeof t=="string"){let e=0;const n=AI.exec(t);if(le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(t.seconds),nanos:xe(t.nanos)}}function xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ki(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function s0(t){const e=t.mapValue.fields.__previous_value__;return i0(e)?s0(e):e}function Zs(t){const e=Yn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ir(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i0(t)?4:_I(t)?9007199254740991:10:H()}function nn(t,e){if(t===e)return!0;const n=Ir(t);if(n!==Ir(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zs(t).isEqual(Zs(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Yn(r.timestampValue),o=Yn(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ki(r.bytesValue).isEqual(ki(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return xe(r.geoPointValue.latitude)===xe(i.geoPointValue.latitude)&&xe(r.geoPointValue.longitude)===xe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return xe(r.integerValue)===xe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=xe(r.doubleValue),o=xe(i.doubleValue);return s===o?tl(s)===tl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return xi(t.arrayValue.values||[],e.arrayValue.values||[],nn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Qm(s)!==Qm(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!nn(s[a],o[a])))return!1;return!0}(t,e);default:return H()}}function eo(t,e){return(t.values||[]).find(n=>nn(n,e))!==void 0}function Ti(t,e){if(t===e)return 0;const n=Ir(t),r=Ir(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=xe(i.integerValue||i.doubleValue),a=xe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Gm(t.timestampValue,e.timestampValue);case 4:return Gm(Zs(t),Zs(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ki(i),a=ki(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const h=re(o[c],a[c]);if(h!==0)return h}return re(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=re(xe(i.latitude),xe(s.latitude));return o!==0?o:re(xe(i.longitude),xe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const h=Ti(o[c],a[c]);if(h)return h}return re(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Jo.mapValue&&s===Jo.mapValue)return 0;if(i===Jo.mapValue)return 1;if(s===Jo.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},h=Object.keys(c);a.sort(),h.sort();for(let f=0;f<a.length&&f<h.length;++f){const p=re(a[f],h[f]);if(p!==0)return p;const g=Ti(o[a[f]],c[h[f]]);if(g!==0)return g}return re(a.length,h.length)}(t.mapValue,e.mapValue);default:throw H()}}function Gm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=Yn(t),r=Yn(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function bi(t){return xh(t)}function xh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Yn(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ki(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,V.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=xh(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${xh(r.fields[a])}`;return s+"}"}(t.mapValue):H();var e,n}function kh(t){return!!t&&"integerValue"in t}function nf(t){return!!t&&"arrayValue"in t}function Ym(t){return!!t&&"nullValue"in t}function Xm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pa(t){return!!t&&"mapValue"in t}function Es(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Es(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Es(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _I(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.position=e,this.inclusive=n}}function Jm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=V.comparator(V.fromName(o.referenceValue),n.key):r=Ti(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{}class be extends o0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PI(e,n,r):n==="array-contains"?new RI(e,r):n==="in"?new OI(e,r):n==="not-in"?new MI(e,r):n==="array-contains-any"?new FI(e,r):new be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $I(e,r):new LI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ti(n,this.value)):n!==null&&Ir(this.value)===Ir(n)&&this.matchesComparison(Ti(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rn extends o0{constructor(e,n){super(),this.filters=e,this.op=n,this.ft=null}static create(e,n){return new rn(e,n)}matches(e){return a0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(n=>n.isInequality());return e!==null?e.field:null}dt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function a0(t){return t.op==="and"}function l0(t){return DI(t)&&a0(t)}function DI(t){for(const e of t.filters)if(e instanceof rn)return!1;return!0}function Th(t){if(t instanceof be)return t.field.canonicalString()+t.op.toString()+bi(t.value);if(l0(t))return t.filters.map(e=>Th(e)).join(",");{const e=t.filters.map(n=>Th(n)).join(",");return`${t.op}(${e})`}}function u0(t,e){return t instanceof be?function(n,r){return r instanceof be&&n.op===r.op&&n.field.isEqual(r.field)&&nn(n.value,r.value)}(t,e):t instanceof rn?function(n,r){return r instanceof rn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&u0(s,r.filters[o]),!0):!1}(t,e):void H()}function c0(t){return t instanceof be?function(e){return`${e.field.canonicalString()} ${e.op} ${bi(e.value)}`}(t):t instanceof rn?function(e){return e.op.toString()+" {"+e.getFilters().map(c0).join(" ,")+"}"}(t):"Filter"}class PI extends be{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){const n=V.comparator(e.key,this.key);return this.matchesComparison(n)}}class $I extends be{constructor(e,n){super(e,"in",n),this.keys=h0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LI extends be{constructor(e,n){super(e,"not-in",n),this.keys=h0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function h0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}class RI extends be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nf(n)&&eo(n.arrayValue,this.value)}}class OI extends be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eo(this.value.arrayValue,n)}}class MI extends be{constructor(e,n){super(e,"not-in",n)}matches(e){if(eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!eo(this.value.arrayValue,n)}}class FI extends be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n="asc"){this.field=e,this.dir=n}}function BI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||Fe.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zo(this.root,e,this.comparator,!0)}}class Zo{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Fe.RED,this.left=i??Fe.EMPTY,this.right=s??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Fe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Fe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Fe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eg(this.data.getIterator())}getIteratorFrom(e){return new eg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _e(this.comparator);return n.data=e,n}}class eg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new Ut([])}unionWith(e){let n=new _e(Ye.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ut(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.value=e}static empty(){return new _t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Es(n)}setAll(e){let n=Ye.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Es(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _t(Es(this.value))}}function d0(t){const e=[];return Bi(t.fields,(n,r)=>{const i=new Ye([n]);if(pa(r)){const s=d0(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ut(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ge(e,0,q.min(),q.min(),q.min(),_t.empty(),0)}static newFoundDocument(e,n,r,i){return new Ge(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new Ge(e,2,n,q.min(),q.min(),_t.empty(),0)}static newUnknownDocument(e,n){return new Ge(e,3,n,q.min(),q.min(),_t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this._t=null}}function tg(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jI(t,e,n,r,i,s,o)}function rf(t){const e=W(t);if(e._t===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Th(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Vl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bi(r)).join(",")),e._t=n}return e._t}function sf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!u0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zm(t.startAt,e.startAt)&&Zm(t.endAt,e.endAt)}function bh(t){return V.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this.gt=null,this.startAt,this.endAt}}function UI(t,e,n,r,i,s,o,a){return new zl(t,e,n,r,i,s,o,a)}function of(t){return new zl(t)}function ng(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function zI(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function HI(t){return t.collectionGroup!==null}function fi(t){const e=W(t);if(e.wt===null){e.wt=[];const n=zI(e),r=VI(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Ss(n)),e.wt.push(new Ss(Ye.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ss(Ye.keyField(),s))}}}return e.wt}function Cn(t){const e=W(t);if(!e.gt)if(e.limitType==="F")e.gt=tg(e.path,e.collectionGroup,fi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of fi(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ss(s.field,o))}const r=e.endAt?new nl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new nl(e.startAt.position,e.startAt.inclusive):null;e.gt=tg(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.gt}function Ih(t,e,n){return new zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hl(t,e){return sf(Cn(t),Cn(e))&&t.limitType===e.limitType}function f0(t){return`${rf(Cn(t))}|lt:${t.limitType}`}function Nh(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>c0(r)).join(", ")}]`),Vl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bi(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bi(r)).join(",")),`Target(${n})`}(Cn(t))}; limitType=${t.limitType})`}function Kl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):V.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of fi(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Jm(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,fi(n),r)||n.endAt&&!function(i,s,o){const a=Jm(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,fi(n),r))}(t,e)}function KI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function p0(t){return(e,n)=>{let r=!1;for(const i of fi(t)){const s=qI(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qI(t,e,n){const r=t.field.isKeyField()?V.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return a!==null&&c!==null?Ti(a,c):H()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t,e){if(t.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tl(e)?"-0":e}}function g0(t){return{integerValue:""+t}}function WI(t,e){return II(e)?g0(e):m0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this._=void 0}}function QI(t,e,n){return t instanceof rl?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof to?w0(t,e):t instanceof no?v0(t,e):function(r,i){const s=y0(r,i),o=rg(s)+rg(r.It);return kh(s)&&kh(r.It)?g0(o):m0(r.Tt,o)}(t,e)}function GI(t,e,n){return t instanceof to?w0(t,e):t instanceof no?v0(t,e):n}function y0(t,e){return t instanceof il?kh(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class rl extends ql{}class to extends ql{constructor(e){super(),this.elements=e}}function w0(t,e){const n=E0(e);for(const r of t.elements)n.some(i=>nn(i,r))||n.push(r);return{arrayValue:{values:n}}}class no extends ql{constructor(e){super(),this.elements=e}}function v0(t,e){let n=E0(e);for(const r of t.elements)n=n.filter(i=>!nn(i,r));return{arrayValue:{values:n}}}class il extends ql{constructor(e,n){super(),this.Tt=e,this.It=n}}function rg(t){return xe(t.integerValue||t.doubleValue)}function E0(t){return nf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function YI(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof to&&r instanceof to||n instanceof no&&r instanceof no?xi(n.elements,r.elements,nn):n instanceof il&&r instanceof il?nn(n.It,r.It):n instanceof rl&&r instanceof rl}(t.transform,e.transform)}class XI{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ma(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wl{}function S0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new x0(t.key,mn.none()):new Co(t.key,t.data,mn.none());{const n=t.data,r=_t.empty();let i=new _e(Ye.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $r(t.key,r,new Ut(i.toArray()),mn.none())}}function JI(t,e,n){t instanceof Co?function(r,i,s){const o=r.value.clone(),a=sg(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof $r?function(r,i,s){if(!ma(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=sg(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(C0(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Cs(t,e,n,r){return t instanceof Co?function(i,s,o,a){if(!ma(i.precondition,s))return o;const c=i.value.clone(),h=og(i.fieldTransforms,a,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof $r?function(i,s,o,a){if(!ma(i.precondition,s))return o;const c=og(i.fieldTransforms,a,s),h=s.data;return h.setAll(C0(i)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,s,o){return ma(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function ZI(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=y0(r.transform,i||null);s!=null&&(n===null&&(n=_t.empty()),n.set(r.field,s))}return n||null}function ig(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&xi(n,r,(i,s)=>YI(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Co extends Wl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $r extends Wl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function C0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sg(t,e,n){const r=new Map;le(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,GI(o,a,n[i]))}return r}function og(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,QI(s,o,e))}return r}class x0 extends Wl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eN extends Wl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,ee;function nN(t){switch(t){default:return H();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function k0(t){if(t===void 0)return Sn("GRPC error has no .code"),b.UNKNOWN;switch(t){case Ce.OK:return b.OK;case Ce.CANCELLED:return b.CANCELLED;case Ce.UNKNOWN:return b.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return b.INTERNAL;case Ce.UNAVAILABLE:return b.UNAVAILABLE;case Ce.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Ce.NOT_FOUND:return b.NOT_FOUND;case Ce.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Ce.ABORTED:return b.ABORTED;case Ce.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Ce.DATA_LOSS:return b.DATA_LOSS;default:return H()}}(ee=Ce||(Ce={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return r0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new De(V.comparator);function xn(){return rN}const T0=new De(V.comparator);function ls(...t){let e=T0;for(const n of t)e=e.insert(n.key,n);return e}function b0(t){let e=T0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mr(){return xs()}function I0(){return xs()}function xs(){return new ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const iN=new De(V.comparator),sN=new _e(V.comparator);function X(...t){let e=sN;for(const n of t)e=e.add(n);return e}const oN=new _e(re);function N0(){return oN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ql(q.min(),i,N0(),xn(),X())}}class xo{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xo(r,n,X(),X(),X())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r,i){this.Et=e,this.removedTargetIds=n,this.key=r,this.At=i}}class A0{constructor(e,n){this.targetId=e,this.Rt=n}}class _0{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ag{constructor(){this.Pt=0,this.vt=ug(),this.bt=et.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return this.Pt!==0}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=X(),n=X(),r=X();return this.vt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new xo(this.bt,this.Vt,e,n,r)}kt(){this.St=!1,this.vt=ug()}$t(e,n){this.St=!0,this.vt=this.vt.insert(e,n)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class aN{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=xn(),this.Kt=lg(),this.Gt=new _e(re)}Qt(e){for(const n of e.Et)e.At&&e.At.isFoundDocument()?this.jt(n,e.At):this.zt(n,e.key,e.At);for(const n of e.removedTargetIds)this.zt(n,e.key,e.At)}Wt(e){this.forEachTarget(e,n=>{const r=this.Ht(n);switch(e.state){case 0:this.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),r.xt(e.resumeToken));break;default:H()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qt.forEach((r,i)=>{this.Jt(i)&&n(i)})}Zt(e){const n=e.targetId,r=e.Rt.count,i=this.Xt(n);if(i){const s=i.target;if(bh(s))if(r===0){const o=new V(s.path);this.zt(n,o,Ge.newNoDocument(o,q.min()))}else le(r===1);else this.te(n)!==r&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(e){const n=new Map;this.qt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&bh(a.target)){const c=new V(a.target.path);this.Ut.get(c)!==null||this.ne(o,c)||this.zt(o,c,Ge.newNoDocument(c,e))}s.Ct&&(n.set(o,s.Nt()),s.kt())}});let r=X();this.Kt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const h=this.Xt(c);return!h||h.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new Ql(e,n,this.Gt,this.Ut,r);return this.Ut=xn(),this.Kt=lg(),this.Gt=new _e(re),i}jt(e,n){if(!this.Jt(e))return;const r=this.ne(e,n.key)?2:0;this.Ht(e).$t(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(e))}zt(e,n,r){if(!this.Jt(e))return;const i=this.Ht(e);this.ne(e,n)?i.$t(n,1):i.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.qt.delete(e)}te(e){const n=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let n=this.qt.get(e);return n||(n=new ag,this.qt.set(e,n)),n}se(e){let n=this.Kt.get(e);return n||(n=new _e(re),this.Kt=this.Kt.insert(e,n)),n}Jt(e){const n=this.Xt(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.qt.get(e);return n&&n.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new ag),this.Lt.getRemoteKeysForTarget(e).forEach(n=>{this.zt(e,n,null)})}ne(e,n){return this.Lt.getRemoteKeysForTarget(e).has(n)}}function lg(){return new De(V.comparator)}function ug(){return new De(V.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),uN=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),cN=(()=>({and:"AND",or:"OR"}))();class hN{constructor(e,n){this.databaseId=e,this.yt=n}}function sl(t,e){return t.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D0(t,e){return t.yt?e.toBase64():e.toUint8Array()}function dN(t,e){return sl(t,e.toTimestamp())}function tn(t){return le(!!t),q.fromTimestamp(function(e){const n=Yn(e);return new Ae(n.seconds,n.nanos)}(t))}function af(t,e){return function(n){return new pe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function P0(t){const e=pe.fromString(t);return le(O0(e)),e}function Ah(t,e){return af(t.databaseId,e.path)}function ec(t,e){const n=P0(e);if(n.get(1)!==t.databaseId.projectId)throw new U(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V($0(n))}function _h(t,e){return af(t.databaseId,e)}function fN(t){const e=P0(t);return e.length===4?pe.emptyPath():$0(e)}function Dh(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $0(t){return le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cg(t,e,n){return{name:Ah(t,e),fields:n.value.mapValue.fields}}function pN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:H()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.yt?(le(h===void 0||typeof h=="string"),et.fromBase64String(h||"")):(le(h===void 0||h instanceof Uint8Array),et.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?b.UNKNOWN:k0(c.code);return new U(h,c.message||"")}(o);n=new _0(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ec(t,r.document.name),s=tn(r.document.updateTime),o=r.document.createTime?tn(r.document.createTime):q.min(),a=new _t({mapValue:{fields:r.document.fields}}),c=Ge.newFoundDocument(i,s,o,a),h=r.targetIds||[],f=r.removedTargetIds||[];n=new ga(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ec(t,r.document),s=r.readTime?tn(r.readTime):q.min(),o=Ge.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ga([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ec(t,r.document),s=r.removedTargetIds||[];n=new ga([],s,i,null)}else{if(!("filter"in e))return H();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new tN(i),o=r.targetId;n=new A0(o,s)}}return n}function mN(t,e){let n;if(e instanceof Co)n={update:cg(t,e.key,e.value)};else if(e instanceof x0)n={delete:Ah(t,e.key)};else if(e instanceof $r)n={update:cg(t,e.key,e.data),updateMask:kN(e.fieldMask)};else{if(!(e instanceof eN))return H();n={verify:Ah(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof rl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof to)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof no)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof il)return{fieldPath:s.field.canonicalString(),increment:o.It};throw H()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:dN(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:H()}(t,e.precondition)),n}function gN(t,e){return t&&t.length>0?(le(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?tn(r.updateTime):tn(i);return s.isEqual(q.min())&&(s=tn(i)),new XI(s,r.transformResults||[])}(n,e))):[]}function yN(t,e){return{documents:[_h(t,e.path)]}}function wN(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=_h(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_h(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(c.length!==0)return R0(rn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:Kr(f.field),direction:SN(f.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(c,h){return c.yt||Vl(h)?h:{value:h}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function vN(t){let e=fN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){le(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(f){const p=L0(f);return p instanceof rn&&l0(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>function(p){return new Ss(qr(p.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f)));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Vl(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,g=f.values||[];return new nl(g,p)}(n.startAt));let h=null;return n.endAt&&(h=function(f){const p=!f.before,g=f.values||[];return new nl(g,p)}(n.endAt)),UI(e,i,o,s,a,"F",c,h)}function EN(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return H()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function L0(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=qr(e.unaryFilter.field);return be.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=qr(e.unaryFilter.field);return be.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=qr(e.unaryFilter.field);return be.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qr(e.unaryFilter.field);return be.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):t.fieldFilter!==void 0?function(e){return be.create(qr(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return rn.create(e.compositeFilter.filters.map(n=>L0(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return H()}}(e.compositeFilter.op))}(t):H()}function SN(t){return lN[t]}function CN(t){return uN[t]}function xN(t){return cN[t]}function Kr(t){return{fieldPath:t.canonicalString()}}function qr(t){return Ye.fromServerFormat(t.fieldPath)}function R0(t){return t instanceof be?function(e){if(e.op==="=="){if(Xm(e.value))return{unaryFilter:{field:Kr(e.field),op:"IS_NAN"}};if(Ym(e.value))return{unaryFilter:{field:Kr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Xm(e.value))return{unaryFilter:{field:Kr(e.field),op:"IS_NOT_NAN"}};if(Ym(e.value))return{unaryFilter:{field:Kr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kr(e.field),op:CN(e.op),value:e.value}}}(t):t instanceof rn?function(e){const n=e.getFilters().map(r=>R0(r));return n.length===1?n[0]:{compositeFilter:{op:xN(e.op),filters:n}}}(t):H()}function kN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function O0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&JI(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=I0();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=S0(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),X())}isEqual(e){return this.batchId===e.batchId&&xi(this.mutations,e.mutations,(n,r)=>ig(n,r))&&xi(this.baseMutations,e.baseMutations,(n,r)=>ig(n,r))}}class lf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){le(e.mutations.length===r.length);let i=iN;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new lf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r,i,s=q.min(),o=q.min(),a=et.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.oe=e}}function NN(t){const e=vN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.Ze=new _N}addToCollectionParentIndex(e,n){return this.Ze.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.Ze.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Gn.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Gn.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class _N{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _e(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _e(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new Ii(0)}static Sn(){return new Ii(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.changes=new ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Cs(r.mutation,i,Ut.empty(),Ae.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,X()).next(()=>r))}getLocalViewOfDocuments(e,n,r=X()){const i=mr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ls();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=mr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,X()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xn();const o=xs(),a=xs();return n.forEach((c,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof $r)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Cs(f.mutation,h,f.mutation.getFieldMask(),Ae.now())):o.set(h.key,Ut.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var p;return a.set(h,new PN(f,(p=o.get(h))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xs();let i=new De((o,a)=>o-a),s=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let f=r.get(c)||Ut.empty();f=a.applyToLocalView(h,f),r.set(c,f);const p=(i.get(a.batchId)||X()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),h=c.key,f=c.value,p=I0();f.forEach(g=>{if(!s.has(g)){const E=S0(n.get(g),r.get(g));E!==null&&p.set(g,E),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return A.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return V.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):A.resolve(mr());let a=-1,c=s;return o.next(h=>A.forEach(h,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(f)?A.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,X())).next(f=>({batchId:a,changes:b0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new V(n)).next(r=>{let i=ls();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ls();return this.indexManager.getCollectionParents(e,i).next(o=>A.forEach(o,a=>{const c=function(h,f){return new zl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r).next(h=>{h.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const h=c.getKey();s.get(h)===null&&(s=s.insert(h,Ge.newInvalidDocument(h)))});let o=ls();return s.forEach((a,c)=>{const h=i.get(a);h!==void 0&&Cs(h.mutation,c,Ut.empty(),Ae.now()),Kl(n,c)&&(o=o.insert(a,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,n){return A.resolve(this.es.get(n))}saveBundleMetadata(e,n){var r;return this.es.set(n.id,{id:(r=n).id,version:r.version,createTime:tn(r.createTime)}),A.resolve()}getNamedQuery(e,n){return A.resolve(this.ns.get(n))}saveNamedQuery(e,n){return this.ns.set(n.name,function(r){return{name:r.name,query:NN(r.bundledQuery),readTime:tn(r.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.overlays=new De(V.comparator),this.ss=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mr();return A.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ce(e,n,s)}),A.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ss.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){const i=mr(),s=n.length+1,o=new V(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return A.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new De((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=mr(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const a=mr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>a.set(h,f)),!(a.size()>=i)););return A.resolve(a)}ce(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bN(n,r));let s=this.ss.get(n);s===void 0&&(s=X(),this.ss.set(n,s)),this.ss.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this.rs=new _e(Pe.os),this.us=new _e(Pe.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,n){const r=new Pe(e,n);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ls(new Pe(e,n))}fs(e,n){e.forEach(r=>this.removeReference(r,n))}ds(e){const n=new V(new pe([])),r=new Pe(n,e),i=new Pe(n,e+1),s=[];return this.us.forEachInRange([r,i],o=>{this.ls(o),s.push(o.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const n=new V(new pe([])),r=new Pe(n,e),i=new Pe(n,e+1);let s=X();return this.us.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Pe(e,0),r=this.rs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pe{constructor(e,n){this.key=e,this.gs=n}static os(e,n){return V.comparator(e.key,n.key)||re(e.gs,n.gs)}static cs(e,n){return re(e.gs,n.gs)||V.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new _e(Pe.os)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new TN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ps=this.ps.add(new Pe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ts(r),s=i<0?0:i;return A.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pe(n,0),i=new Pe(n,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],o=>{const a=this.Is(o.gs);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _e(re);return n.forEach(i=>{const s=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,o],a=>{r=r.add(a.gs)})}),A.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;V.isDocumentKey(s)||(s=s.child(""));const o=new Pe(new V(s),0);let a=new _e(re);return this.ps.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(c.gs)),!0)},o),A.resolve(this.Es(a))}Es(e){const n=[];return e.forEach(r=>{const i=this.Is(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){le(this.As(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ps;return A.forEach(n.mutations,i=>{const s=new Pe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,n){const r=new Pe(n,0),i=this.ps.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}As(e,n){return this.Ts(e)}Ts(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Is(e){const n=this.Ts(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.Rs=e,this.docs=new De(V.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Rs(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():Ge.newInvalidDocument(n))}getEntries(e,n){let r=xn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ge.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xn();const o=n.path,a=new V(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||xI(CI(f),r)<=0||(i.has(f.key)||Kl(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return A.resolve(s)}getAllFromCollectionGroup(e,n,r,i){H()}Ps(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FN(this)}getSize(e){return A.resolve(this.size)}}class FN extends DN{constructor(e){super(),this.Xn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this.Xn.getEntry(e,n)}getAllFromCache(e,n){return this.Xn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.persistence=e,this.vs=new ji(n=>rf(n),sf),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.bs=0,this.Vs=new uf,this.targetCount=0,this.Ss=Ii.Vn()}forEachTarget(e,n){return this.vs.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),A.resolve()}xn(e){this.vs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ss=new Ii(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.xn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.xn(n),A.resolve()}removeTargetData(e,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.vs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.vs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(s).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const r=this.vs.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.Vs.hs(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.Vs.fs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Vs.ds(n),A.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Vs.ws(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.Vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.Ds={},this.overlays={},this.Cs=new tf(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new BN(this),this.indexManager=new AN,this.remoteDocumentCache=function(r){return new MN(r)}(r=>this.referenceDelegate.ks(r)),this.Tt=new IN(n),this.$s=new LN(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ds[e.toKey()];return r||(r=new ON(n,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new UN(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Fs(e,n){return A.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,n)))}}class UN extends TI{constructor(e){super(),this.currentSequenceNumber=e}}class cf{constructor(e){this.persistence=e,this.Bs=new uf,this.Ls=null}static qs(e){return new cf(e)}get Us(){if(this.Ls)return this.Ls;throw H()}addReference(e,n,r){return this.Bs.addReference(r,n),this.Us.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.Bs.removeReference(r,n),this.Us.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Us.add(n.toString()),A.resolve()}removeTarget(e,n){this.Bs.ds(n.targetId).forEach(i=>this.Us.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ms(){this.Ls=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Us,r=>{const i=V.fromPath(r);return this.Ks(e,i).next(s=>{s||n.removeEntry(i,q.min())})}).next(()=>(this.Ls=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ks(e,n).next(r=>{r?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(e){return 0}Ks(e,n){return A.or([()=>A.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Fs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ci=r,this.xi=i}static Ni(e,n){let r=X(),i=X();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Mi(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Fi(e,n))}Mi(e,n){if(ng(n))return A.resolve(null);let r=Cn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ih(n,null,"F"),r=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=X(...s);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Bi(n,a);return this.Li(n,h,o,c.readTime)?this.Mi(e,Ih(n,null,"F")):this.qi(e,h,n,c)}))})))}Oi(e,n,r,i){return ng(n)||i.isEqual(q.min())?this.Fi(e,n):this.$i.getDocuments(e,r).next(s=>{const o=this.Bi(n,s);return this.Li(n,o,r,i)?this.Fi(e,n):(Wm()<=ne.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nh(n)),this.qi(e,o,n,SI(i,-1)))})}Bi(e,n){let r=new _e(p0(e));return n.forEach((i,s)=>{Kl(e,s)&&(r=r.add(s))}),r}Li(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fi(e,n){return Wm()<=ne.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Nh(n)),this.$i.getDocumentsMatchingQuery(e,n,Gn.min())}qi(e,n,r,i){return this.$i.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,r,i){this.persistence=e,this.Ui=n,this.Tt=i,this.Ki=new De(re),this.Gi=new ji(s=>rf(s),sf),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $N(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ki))}}function HN(t,e,n,r){return new zN(t,e,n,r)}async function M0(t,e){const n=W(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=X();for(const h of i){o.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of s){a.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(h=>({Wi:h,removedBatchIds:o,addedBatchIds:a}))})})}function KN(t,e){const n=W(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ji.newChangeBuffer({trackRemovals:!0});return function(o,a,c,h){const f=c.batch,p=f.keys();let g=A.resolve();return p.forEach(E=>{g=g.next(()=>h.getEntry(a,E)).next(C=>{const S=c.docVersions.get(E);le(S!==null),C.version.compareTo(S)<0&&(f.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),h.addEntry(C)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(a,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=X();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function F0(t){const e=W(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ns.getLastRemoteSnapshotVersion(n))}function qN(t,e){const n=W(t),r=e.snapshotVersion;let i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;const a=[];e.targetChanges.forEach((f,p)=>{const g=i.get(p);if(!g)return;a.push(n.Ns.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Ns.addMatchingKeys(s,f.addedDocuments,p)));let E=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(p)?E=E.withResumeToken(et.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),i=i.insert(p,E),function(C,S,D){return C.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(g,E,f)&&a.push(n.Ns.updateTargetData(s,E))});let c=xn(),h=X();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(WN(s,o,e.documentUpdates).next(f=>{c=f.Hi,h=f.Ji})),!r.isEqual(q.min())){const f=n.Ns.getLastRemoteSnapshotVersion(s).next(p=>n.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.Ki=i,s))}function WN(t,e,n){let r=X(),i=X();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xn();return n.forEach((a,c)=>{const h=s.get(a);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(q.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",c.version)}),{Hi:o,Ji:i}})}function QN(t,e){const n=W(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GN(t,e){const n=W(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ns.getTargetData(r,e).next(s=>s?(i=s,A.resolve(i)):n.Ns.allocateTargetId(r).next(o=>(i=new vr(e,o,0,r.currentSequenceNumber),n.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ki.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(r.targetId,r),n.Gi.set(e,r.targetId)),r})}async function Ph(t,e,n){const r=W(t),i=r.Ki.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!So(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}function hg(t,e,n){const r=W(t);let i=q.min(),s=X();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,h){const f=W(a),p=f.Gi.get(h);return p!==void 0?A.resolve(f.Ki.get(p)):f.Ns.getTargetData(c,h)}(r,o,Cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Ui.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:X())).next(a=>(YN(r,KI(e),a),{documents:a,Yi:s})))}function YN(t,e,n){let r=t.Qi.get(e)||q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Qi.set(e,r)}class dg{constructor(){this.activeTargetIds=N0()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XN{constructor(){this.Ur=new dg,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,n,r){this.Kr[e]=n}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new dg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{Gr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea=null;function tc(){return ea===null?ea=268435456+Math.round(2147483648*Math.random()):ea++,"0x"+ea.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qe="WebChannelConnection";class tA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.co=n+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,n,r,i,s){const o=tc(),a=this.fo(e,n);B("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this._o(c,i,s),this.wo(e,a,c,r).then(h=>(B("RestConnection",`Received RPC '${e}' ${o}: `,h),h),h=>{throw Ch("RestConnection",`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}mo(e,n,r,i,s,o){return this.lo(e,n,r,i,s)}_o(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}fo(e,n){const r=ZN[e];return`${this.co}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,n,r,i){const s=tc();return new Promise((o,a)=>{const c=new hI;c.setWithCredentials(!0),c.listenOnce(lI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Zu.NO_ERROR:const f=c.getResponseJson();B(qe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Zu.TIMEOUT:B(qe,`RPC '${e}' ${s} timed out`),a(new U(b.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const p=c.getStatus();if(B(qe,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const C=function(S){const D=S.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(D)>=0?D:b.UNKNOWN}(E.status);a(new U(C,E.message))}else a(new U(b.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new U(b.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{B(qe,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);B(qe,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}yo(e,n,r){const i=tc(),s=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oI(),a=aI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new cI({})),this._o(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=s.join("");B(qe,`Creating RPC '${e}' stream ${i}: ${h}`,c);const f=o.createWebChannel(h,c);let p=!1,g=!1;const E=new eA({Yr:S=>{g?B(qe,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(B(qe,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),B(qe,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},Zr:()=>f.close()}),C=(S,D,w)=>{S.listen(D,y=>{try{w(y)}catch(v){setTimeout(()=>{throw v},0)}})};return C(f,Xo.EventType.OPEN,()=>{g||B(qe,`RPC '${e}' stream ${i} transport opened.`)}),C(f,Xo.EventType.CLOSE,()=>{g||(g=!0,B(qe,`RPC '${e}' stream ${i} transport closed`),E.oo())}),C(f,Xo.EventType.ERROR,S=>{g||(g=!0,Ch(qe,`RPC '${e}' stream ${i} transport errored:`,S),E.oo(new U(b.UNAVAILABLE,"The operation could not be completed")))}),C(f,Xo.EventType.MESSAGE,S=>{var D;if(!g){const w=S.data[0];le(!!w);const y=w,v=y.error||((D=y[0])===null||D===void 0?void 0:D.error);if(v){B(qe,`RPC '${e}' stream ${i} received error:`,v);const T=v.status;let _=function(R){const F=Ce[R];if(F!==void 0)return k0(F)}(T),N=v.message;_===void 0&&(_=b.INTERNAL,N="Unknown error status: "+T+" with message "+v.message),g=!0,E.oo(new U(_,N)),f.close()}else B(qe,`RPC '${e}' stream ${i} received:`,w),E.uo(w)}}),C(a,uI.STAT_EVENT,S=>{S.stat===Km.PROXY?B(qe,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Km.NOPROXY&&B(qe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.ro()},0),E}}function nc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){return new hN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ys=e,this.timerId=n,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const n=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,r,i,s,o,a,c){this.Ys=e,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new B0(e,n)}$o(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.$o()&&await this.close(0)}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(e,n){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,e!==4?this.ko.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(Sn(n.toString()),Sn("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=e,await this.listener.no(n)}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===n&&this.jo(r,i)},r=>{e(()=>{const i=new U(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,n){const r=this.Qo(this.Co);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return n=>{this.Ys.enqueueAndForget(()=>this.Co===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nA extends j0{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s}Wo(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.ko.reset();const n=pN(this.Tt,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?tn(s.readTime):q.min()}(e);return this.listener.Ho(n,r)}Jo(e){const n={};n.database=Dh(this.Tt),n.addTarget=function(i,s){let o;const a=s.target;return o=bh(a)?{documents:yN(i,a)}:{query:wN(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=D0(i,s.resumeToken):s.snapshotVersion.compareTo(q.min())>0&&(o.readTime=sl(i,s.snapshotVersion.toTimestamp())),o}(this.Tt,e);const r=EN(this.Tt,e);r&&(n.labels=r),this.qo(n)}Yo(e){const n={};n.database=Dh(this.Tt),n.removeTarget=e,this.qo(n)}}class rA extends j0{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const n=gN(e.writeResults,e.commitTime),r=tn(e.commitTime);return this.listener.eu(r,n)}return le(!e.writeResults||e.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Dh(this.Tt),this.qo(e)}tu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mN(this.Tt,r))};this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new U(b.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,n,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new U(b.UNKNOWN,i.toString())})}mo(e,n,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.mo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(b.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class sA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,e==="Online"&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Sn(n),this.cu=!1):B("OnlineStateTracker",n)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(o=>{r.enqueueAndForget(async()=>{Lr(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=W(a);c.mu.add(4),await ko(c),c.pu.set("Unknown"),c.mu.delete(4),await Yl(c)}(this))})}),this.pu=new sA(r,i)}}async function Yl(t){if(Lr(t))for(const e of t.gu)await e(!0)}async function ko(t){for(const e of t.gu)await e(!1)}function U0(t,e){const n=W(t);n.wu.has(e.targetId)||(n.wu.set(e.targetId,e),pf(n)?ff(n):Ui(n).Mo()&&df(n,e))}function V0(t,e){const n=W(t),r=Ui(n);n.wu.delete(e),r.Mo()&&z0(n,e),n.wu.size===0&&(r.Mo()?r.Bo():Lr(n)&&n.pu.set("Unknown"))}function df(t,e){t.Iu.Ot(e.targetId),Ui(t).Jo(e)}function z0(t,e){t.Iu.Ot(e),Ui(t).Yo(e)}function ff(t){t.Iu=new aN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>t.wu.get(e)||null}),Ui(t).start(),t.pu.au()}function pf(t){return Lr(t)&&!Ui(t).$o()&&t.wu.size>0}function Lr(t){return W(t).mu.size===0}function H0(t){t.Iu=void 0}async function aA(t){t.wu.forEach((e,n)=>{df(t,e)})}async function lA(t,e){H0(t),pf(t)?(t.pu.fu(e),ff(t)):t.pu.set("Unknown")}async function uA(t,e,n){if(t.pu.set("Online"),e instanceof _0&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.wu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.wu.delete(o),r.Iu.removeTarget(o))}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ol(t,r)}else if(e instanceof ga?t.Iu.Qt(e):e instanceof A0?t.Iu.Zt(e):t.Iu.Wt(e),!n.isEqual(q.min()))try{const r=await F0(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Iu.ee(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const h=i.wu.get(c);h&&i.wu.set(c,h.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const c=i.wu.get(a);if(!c)return;i.wu.set(a,c.withResumeToken(et.EMPTY_BYTE_STRING,c.snapshotVersion)),z0(i,a);const h=new vr(c.target,a,1,c.sequenceNumber);df(i,h)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await ol(t,r)}}async function ol(t,e,n){if(!So(e))throw e;t.mu.add(1),await ko(t),t.pu.set("Offline"),n||(n=()=>F0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),t.mu.delete(1),await Yl(t)})}function K0(t,e){return e().catch(n=>ol(t,n,e))}async function Xl(t){const e=W(t),n=Xn(e);let r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;cA(e);)try{const i=await QN(e.localStore,r);if(i===null){e._u.length===0&&n.Bo();break}r=i.batchId,hA(e,i)}catch(i){await ol(e,i)}q0(e)&&W0(e)}function cA(t){return Lr(t)&&t._u.length<10}function hA(t,e){t._u.push(e);const n=Xn(t);n.Mo()&&n.Xo&&n.tu(e.mutations)}function q0(t){return Lr(t)&&!Xn(t).$o()&&t._u.length>0}function W0(t){Xn(t).start()}async function dA(t){Xn(t).su()}async function fA(t){const e=Xn(t);for(const n of t._u)e.tu(n.mutations)}async function pA(t,e,n){const r=t._u.shift(),i=lf.from(r,e,n);await K0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xl(t)}async function mA(t,e){e&&Xn(t).Xo&&await async function(n,r){if(i=r.code,nN(i)&&i!==b.ABORTED){const s=n._u.shift();Xn(n).Fo(),await K0(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Xl(n)}var i}(t,e),q0(t)&&W0(t)}async function pg(t,e){const n=W(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=Lr(n);n.mu.add(3),await ko(n),r&&n.pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.mu.delete(3),await Yl(n)}async function gA(t,e){const n=W(t);e?(n.mu.delete(2),await Yl(n)):e||(n.mu.add(2),await ko(n),n.pu.set("Unknown"))}function Ui(t){return t.Tu||(t.Tu=function(e,n,r){const i=W(e);return i.ru(),new nA(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:aA.bind(null,t),no:lA.bind(null,t),Ho:uA.bind(null,t)}),t.gu.push(async e=>{e?(t.Tu.Fo(),pf(t)?ff(t):t.pu.set("Unknown")):(await t.Tu.stop(),H0(t))})),t.Tu}function Xn(t){return t.Eu||(t.Eu=function(e,n,r){const i=W(e);return i.ru(),new rA(n,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(t.datastore,t.asyncQueue,{Xr:dA.bind(null,t),no:mA.bind(null,t),nu:fA.bind(null,t),eu:pA.bind(null,t)}),t.gu.push(async e=>{e?(t.Eu.Fo(),await Xl(t)):(await t.Eu.stop(),t._u.length>0&&(B("RemoteStore",`Stopping write stream with ${t._u.length} pending writes`),t._u=[]))})),t.Eu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new mf(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gf(t,e){if(Sn("AsyncQueue",`${e}: ${t}`),So(t))return new U(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||V.comparator(n.key,r.key):(n,r)=>V.comparator(n.key,r.key),this.keyedMap=ls(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new pi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.Au=new De(V.comparator)}track(e){const n=e.doc.key,r=this.Au.get(n);r?e.type!==0&&r.type===3?this.Au=this.Au.insert(n,e):e.type===3&&r.type!==1?this.Au=this.Au.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Au=this.Au.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Au=this.Au.remove(n):e.type===1&&r.type===2?this.Au=this.Au.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):H():this.Au=this.Au.insert(n,e)}Ru(){const e=[];return this.Au.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ni{constructor(e,n,r,i,s,o,a,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ni(e,n,pi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.Pu=void 0,this.listeners=[]}}class wA{constructor(){this.queries=new ji(e=>f0(e),Hl),this.onlineState="Unknown",this.vu=new Set}}async function Q0(t,e){const n=W(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new yA),i)try{s.Pu=await n.onListen(r)}catch(o){const a=gf(o,`Initialization of query '${Nh(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Pu&&e.Vu(s.Pu)&&yf(n)}async function G0(t,e){const n=W(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function vA(t,e){const n=W(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Pu=i}}r&&yf(n)}function EA(t,e,n){const r=W(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function yf(t){t.vu.forEach(e=>{e.next()})}class Y0{constructor(e,n,r){this.query=e,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ni(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Du?this.xu(e)&&(this.Su.next(e),n=!0):this.Nu(e,this.onlineState)&&(this.ku(e),n=!0),this.Cu=e,n}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),n=!0),n}Nu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.$u||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}xu(e){if(e.docChanges.length>0)return!0;const n=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ku(e){e=Ni.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this.key=e}}class J0{constructor(e){this.key=e}}class SA{constructor(e,n){this.query=e,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=X(),this.mutatedKeys=X(),this.ju=p0(e),this.zu=new pi(this.ju)}get Wu(){return this.Ku}Hu(e,n){const r=n?n.Ju:new mg,i=n?n.zu:this.zu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const g=i.get(f),E=Kl(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),S=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;g&&E?g.data.isEqual(E.data)?C!==S&&(r.track({type:3,doc:E}),D=!0):this.Yu(g,E)||(r.track({type:2,doc:E}),D=!0,(c&&this.ju(E,c)>0||h&&this.ju(E,h)<0)&&(a=!0)):!g&&E?(r.track({type:0,doc:E}),D=!0):g&&!E&&(r.track({type:1,doc:g}),D=!0,(c||h)&&(a=!0)),D&&(E?(o=o.add(E),s=S?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{zu:o,Ju:r,Li:a,mutatedKeys:s}}Yu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const s=e.Ju.Ru();s.sort((h,f)=>function(p,g){const E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return E(p)-E(g)}(h.type,f.type)||this.ju(h.doc,f.doc)),this.Zu(r);const o=n?this.Xu():[],a=this.Qu.size===0&&this.current?1:0,c=a!==this.Gu;return this.Gu=a,s.length!==0||c?{snapshot:new Ni(this.query,e.zu,i,s,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new mg,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=X(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});const n=[];return e.forEach(r=>{this.Qu.has(r)||n.push(new J0(r))}),this.Qu.forEach(r=>{e.has(r)||n.push(new X0(r))}),n}nc(e){this.Ku=e.Yi,this.Qu=X();const n=this.Hu(e.documents);return this.applyChanges(n,!0)}sc(){return Ni.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class CA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xA{constructor(e){this.key=e,this.ic=!1}}class kA{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new ji(a=>f0(a),Hl),this.uc=new Map,this.cc=new Set,this.ac=new De(V.comparator),this.hc=new Map,this.lc=new uf,this.fc={},this.dc=new Map,this._c=Ii.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function TA(t,e){const n=RA(t);let r,i;const s=n.oc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{const o=await GN(n.localStore,Cn(e));n.isPrimaryClient&&U0(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await bA(n,e,r,a==="current",o.resumeToken)}return i}async function bA(t,e,n,r,i){t.mc=(p,g,E)=>async function(C,S,D,w){let y=S.view.Hu(D);y.Li&&(y=await hg(C.localStore,S.query,!1).then(({documents:_})=>S.view.Hu(_,y)));const v=w&&w.targetChanges.get(S.targetId),T=S.view.applyChanges(y,C.isPrimaryClient,v);return yg(C,S.targetId,T.tc),T.snapshot}(t,p,g,E);const s=await hg(t.localStore,e,!0),o=new SA(e,s.Yi),a=o.Hu(s.documents),c=xo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(a,t.isPrimaryClient,c);yg(t,n,h.tc);const f=new CA(e,n,o);return t.oc.set(e,f),t.uc.has(n)?t.uc.get(n).push(e):t.uc.set(n,[e]),h.snapshot}async function IA(t,e){const n=W(t),r=n.oc.get(e),i=n.uc.get(r.targetId);if(i.length>1)return n.uc.set(r.targetId,i.filter(s=>!Hl(s,e))),void n.oc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ph(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),V0(n.remoteStore,r.targetId),$h(n,r.targetId)}).catch(Eo)):($h(n,r.targetId),await Ph(n.localStore,r.targetId,!0))}async function NA(t,e,n){const r=OA(t);try{const i=await function(s,o){const a=W(s),c=Ae.now(),h=o.reduce((g,E)=>g.add(E.key),X());let f,p;return a.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=xn(),C=X();return a.ji.getEntries(g,h).next(S=>{E=S,E.forEach((D,w)=>{w.isValidDocument()||(C=C.add(D))})}).next(()=>a.localDocuments.getOverlayedDocuments(g,E)).next(S=>{f=S;const D=[];for(const w of o){const y=ZI(w,f.get(w.key).overlayedDocument);y!=null&&D.push(new $r(w.key,y,d0(y.value.mapValue),mn.exists(!0)))}return a.mutationQueue.addMutationBatch(g,c,D,o)}).next(S=>{p=S;const D=S.applyToLocalDocumentSet(f,C);return a.documentOverlayCache.saveOverlays(g,S.batchId,D)})}).then(()=>({batchId:p.batchId,changes:b0(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.fc[s.currentUser.toKey()];c||(c=new De(re)),c=c.insert(o,a),s.fc[s.currentUser.toKey()]=c}(r,i.batchId,n),await To(r,i.changes),await Xl(r.remoteStore)}catch(i){const s=gf(i,"Failed to persist write");n.reject(s)}}async function Z0(t,e){const n=W(t);try{const r=await qN(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.hc.get(s);o&&(le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ic=!0:i.modifiedDocuments.size>0?le(o.ic):i.removedDocuments.size>0&&(le(o.ic),o.ic=!1))}),await To(n,r,e)}catch(r){await Eo(r)}}function gg(t,e,n){const r=W(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.oc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=W(s);a.onlineState=o;let c=!1;a.queries.forEach((h,f)=>{for(const p of f.listeners)p.bu(o)&&(c=!0)}),c&&yf(a)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AA(t,e,n){const r=W(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.hc.get(e),s=i&&i.key;if(s){let o=new De(V.comparator);o=o.insert(s,Ge.newNoDocument(s,q.min()));const a=X().add(s),c=new Ql(q.min(),new Map,new _e(re),o,a);await Z0(r,c),r.ac=r.ac.remove(s),r.hc.delete(e),wf(r)}else await Ph(r.localStore,e,!1).then(()=>$h(r,e,n)).catch(Eo)}async function _A(t,e){const n=W(t),r=e.batch.batchId;try{const i=await KN(n.localStore,e);t1(n,r,null),e1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await To(n,i)}catch(i){await Eo(i)}}async function DA(t,e,n){const r=W(t);try{const i=await function(s,o){const a=W(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return a.mutationQueue.lookupMutationBatch(c,o).next(f=>(le(f!==null),h=f.keys(),a.mutationQueue.removeMutationBatch(c,f))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>a.localDocuments.getDocuments(c,h))})}(r.localStore,e);t1(r,e,n),e1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await To(r,i)}catch(i){await Eo(i)}}function e1(t,e){(t.dc.get(e)||[]).forEach(n=>{n.resolve()}),t.dc.delete(e)}function t1(t,e,n){const r=W(t);let i=r.fc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.fc[r.currentUser.toKey()]=i}}function $h(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.uc.get(e))t.oc.delete(r),n&&t.rc.gc(r,n);t.uc.delete(e),t.isPrimaryClient&&t.lc.ds(e).forEach(r=>{t.lc.containsKey(r)||n1(t,r)})}function n1(t,e){t.cc.delete(e.path.canonicalString());const n=t.ac.get(e);n!==null&&(V0(t.remoteStore,n),t.ac=t.ac.remove(e),t.hc.delete(n),wf(t))}function yg(t,e,n){for(const r of n)r instanceof X0?(t.lc.addReference(r.key,e),PA(t,r)):r instanceof J0?(B("SyncEngine","Document no longer in limbo: "+r.key),t.lc.removeReference(r.key,e),t.lc.containsKey(r.key)||n1(t,r.key)):H()}function PA(t,e){const n=e.key,r=n.path.canonicalString();t.ac.get(n)||t.cc.has(r)||(B("SyncEngine","New document in limbo: "+n),t.cc.add(r),wf(t))}function wf(t){for(;t.cc.size>0&&t.ac.size<t.maxConcurrentLimboResolutions;){const e=t.cc.values().next().value;t.cc.delete(e);const n=new V(pe.fromString(e)),r=t._c.next();t.hc.set(r,new xA(n)),t.ac=t.ac.insert(n,r),U0(t.remoteStore,new vr(Cn(of(n.path)),r,2,tf.at))}}async function To(t,e,n){const r=W(t),i=[],s=[],o=[];r.oc.isEmpty()||(r.oc.forEach((a,c)=>{o.push(r.mc(c,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const f=hf.Ni(c.targetId,h);s.push(f)}}))}),await Promise.all(o),r.rc.Ho(i),await async function(a,c){const h=W(a);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>A.forEach(c,p=>A.forEach(p.Ci,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>A.forEach(p.xi,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!So(f))throw f;B("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=h.Ki.get(p),E=g.snapshotVersion,C=g.withLastLimboFreeSnapshotVersion(E);h.Ki=h.Ki.insert(p,C)}}}(r.localStore,s))}async function $A(t,e){const n=W(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=await M0(n.localStore,e);n.currentUser=e,function(i,s){i.dc.forEach(o=>{o.forEach(a=>{a.reject(new U(b.CANCELLED,s))})}),i.dc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await To(n,r.Wi)}}function LA(t,e){const n=W(t),r=n.hc.get(e);if(r&&r.ic)return X().add(r.key);{let i=X();const s=n.uc.get(e);if(!s)return i;for(const o of s){const a=n.oc.get(o);i=i.unionWith(a.view.Wu)}return i}}function RA(t){const e=W(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AA.bind(null,e),e.rc.Ho=vA.bind(null,e.eventManager),e.rc.gc=EA.bind(null,e.eventManager),e}function OA(t){const e=W(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_A.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DA.bind(null,e),e}class MA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.Tt=Gl(e.databaseInfo.databaseId),this.sharedClientState=this.Ic(e),this.persistence=this.Tc(e),await this.persistence.start(),this.localStore=this.Ec(e),this.gcScheduler=this.Ac(e,this.localStore),this.indexBackfillerScheduler=this.Rc(e,this.localStore)}Ac(e,n){return null}Rc(e,n){return null}Ec(e){return HN(this.persistence,new VN,e.initialUser,this.Tt)}Tc(e){return new jN(cf.qs,this.Tt)}Ic(e){return new XN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class FA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$A.bind(null,this.syncEngine),await gA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new wA}createDatastore(e){const n=Gl(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new tA(i));var i;return function(s,o,a,c){return new iA(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>gg(this.syncEngine,a,0),o=fg.C()?new fg:new JN,new oA(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,h){const f=new kA(r,i,s,o,a,c);return h&&(f.wc=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=W(e);B("RemoteStore","RemoteStore shutting down."),n.mu.add(5),await ko(n),n.yu.shutdown(),n.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Sn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=n0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{B("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jA(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await M0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function UA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VA(t);B("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>pg(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>pg(e.remoteStore,s)),t.onlineComponents=e}async function VA(t){return t.offlineComponents||(B("FirestoreClient","Using default OfflineComponentProvider"),await jA(t,new MA)),t.offlineComponents}async function i1(t){return t.onlineComponents||(B("FirestoreClient","Using default OnlineComponentProvider"),await UA(t,new FA)),t.onlineComponents}function zA(t){return i1(t).then(e=>e.syncEngine)}async function s1(t){const e=await i1(t),n=e.eventManager;return n.onListen=TA.bind(null,e.syncEngine),n.onUnlisten=IA.bind(null,e.syncEngine),n}function HA(t,e,n={}){const r=new pn;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,c){const h=new r1({next:p=>{s.enqueueAndForget(()=>G0(i,f));const g=p.docs.has(o);!g&&p.fromCache?c.reject(new U(b.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&a&&a.source==="server"?c.reject(new U(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new Y0(of(o.path),h,{includeMetadataChanges:!0,$u:!0});return Q0(i,f)}(await s1(t),t.asyncQueue,e,n,r)),r.promise}function KA(t,e,n={}){const r=new pn;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,c){const h=new r1({next:p=>{s.enqueueAndForget(()=>G0(i,f)),p.fromCache&&a.source==="server"?c.reject(new U(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new Y0(o,h,{includeMetadataChanges:!0,$u:!0});return Q0(i,f)}(await s1(t),t.asyncQueue,e,n,r)),r.promise}const wg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t,e,n){if(!n)throw new U(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qA(t,e,n,r){if(e===!0&&r===!0)throw new U(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vg(t){if(!V.isDocumentKey(t))throw new U(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Eg(t){if(V.isDocumentKey(t))throw new U(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H()}function Ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vf(t);throw new U(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new U(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sg(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new dI;switch(n.type){case"gapi":const r=n.client;return new gI(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new U(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=wg.get(e);n&&(B("ComponentProvider","Removing Datastore"),wg.delete(e),n.terminate())}(this),Promise.resolve()}}function WA(t,e,n,r={}){var i;const s=(t=Ai(t,Jl))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Ch("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=We.MOCK_USER;else{o=Yk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new U(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new We(c)}t._authCredentials=new fI(new t0(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}}class Zl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zl(this.firestore,e,this._query)}}class qn extends Zl{constructor(e,n,r){super(e,n,of(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new V(e))}withConverter(e){return new qn(this.firestore,e,this._path)}}function a1(t,e,...n){if(t=zs(t),o1("collection","path",e),t instanceof Jl){const r=pe.fromString(e,...n);return Eg(r),new qn(t,null,r)}{if(!(t instanceof $t||t instanceof qn))throw new U(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return Eg(r),new qn(t.firestore,null,r)}}function l1(t,e,...n){if(t=zs(t),arguments.length===1&&(e=n0.R()),o1("doc","path",e),t instanceof Jl){const r=pe.fromString(e,...n);return vg(r),new $t(t,null,new V(r))}{if(!(t instanceof $t||t instanceof qn))throw new U(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return vg(r),new $t(t.firestore,t instanceof qn?t.converter:null,new V(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new B0(this,"async_queue_retry"),this.Hc=()=>{const n=nc();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const e=nc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const n=nc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new pn;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(e){if(!So(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(e){const n=this.qc.then(()=>(this.jc=!0,e().catch(r=>{this.Qc=r,this.jc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Sn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.jc=!1,r))));return this.qc=n,n}enqueueAfterDelay(e,n,r){this.Jc(),this.Wc.indexOf(e)>-1&&(n=0);const i=mf.createAndSchedule(this,e,n,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&H()}verifyOperationInProgress(){}async ta(){let e;do e=this.qc,await e;while(e!==this.qc)}ea(e){for(const n of this.Gc)if(n.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const n=this.Gc.indexOf(e);this.Gc.splice(n,1)}}class eu extends Jl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new QA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||u1(this),this._firestoreClient.terminate()}}function Ef(t,e){const n=typeof t=="object"?t:eb(),r=typeof t=="string"?t:e||"(default)",i=YT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Wk("firestore");s&&WA(i,...s)}return i}function Sf(t){return t._firestoreClient||u1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function u1(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new bI(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new BA(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _i(et.fromBase64String(e))}catch(n){throw new U(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _i(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=/^__.*__$/;class YA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new Co(e,this.data,n,this.fieldTransforms)}}function h1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class kf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new kf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.aa(e),i}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.oa({path:r,ca:!1});return i.ia(),i}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return al(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(e.length===0)throw this.fa("Document fields must not be empty");if(h1(this.ra)&&GA.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class XA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.Tt=r||Gl(e)}wa(e,n,r,i=!1){return new kf({ra:e,methodName:n,_a:r,path:Ye.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function JA(t){const e=t._freezeSettings(),n=Gl(t._databaseId);return new XA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZA(t,e,n,r,i,s={}){const o=t.wa(s.merge||s.mergeFields?2:0,e,n,i);m1("Data must be an object, but it was:",o,r);const a=f1(r,o);let c,h;if(s.merge)c=new Ut(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const g=e_(e,p,n);if(!o.contains(g))throw new U(b.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);n_(f,g)||f.push(g)}c=new Ut(f),h=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,h=o.fieldTransforms;return new YA(new _t(a),c,h)}function d1(t,e){if(p1(t=zs(t)))return m1("Unsupported field value:",e,t),f1(t,e);if(t instanceof c1)return function(n,r){if(!h1(r.ra))throw r.fa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ca&&e.ra!==4)throw e.fa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=d1(o,r.la(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=zs(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return WI(r.Tt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ae.fromDate(n);return{timestampValue:sl(r.Tt,i)}}if(n instanceof Ae){const i=new Ae(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sl(r.Tt,i)}}if(n instanceof xf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _i)return{bytesValue:D0(r.Tt,n._byteString)};if(n instanceof $t){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:af(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.fa(`Unsupported field value: ${vf(n)}`)}(t,e)}function f1(t,e){const n={};return r0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bi(t,(r,i)=>{const s=d1(i,e.ua(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function p1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ae||t instanceof xf||t instanceof _i||t instanceof $t||t instanceof c1)}function m1(t,e,n){if(!p1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=vf(n);throw r==="an object"?e.fa(t+" a custom object"):e.fa(t+" "+r)}}function e_(t,e,n){if((e=zs(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return g1(t,e);throw al("Field path arguments must be of type string or ",t,!1,void 0,n)}const t_=new RegExp("[~\\*/\\[\\]]");function g1(t,e,n){if(e.search(t_)>=0)throw al(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cf(...e.split("."))._internalPath}catch{throw al(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function al(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new U(b.INVALID_ARGUMENT,a+t+c)}function n_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(w1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r_ extends y1{data(){return super.data()}}function w1(t,e){return typeof e=="string"?g1(t,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s_{convertValue(e,n="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw H()}}convertObject(e,n){const r={};return Bi(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xf(xe(e.latitude),xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=s0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zs(e));default:return null}}convertTimestamp(e){const n=Yn(e);return new Ae(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pe.fromString(e);le(O0(r));const i=new Js(r.get(1),r.get(3)),s=new V(r.popFirst(5));return i.isEqual(n)||Sn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class v1 extends y1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ya(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(w1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ya extends v1{data(e={}){return super.data(e)}}class a_{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new us(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ya(this._firestore,this._userDataWriter,r.key,r,new us(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new ya(r._firestore,r._userDataWriter,o.doc.key,o.doc,new us(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new ya(r._firestore,r._userDataWriter,o.doc.key,o.doc,new us(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),h=s.indexOf(o.doc.key)),{type:l_(o.type),doc:a,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function l_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){t=Ai(t,$t);const e=Ai(t.firestore,eu);return HA(Sf(e),t._key).then(n=>f_(e,t,n))}class E1 extends s_{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function c_(t){t=Ai(t,Zl);const e=Ai(t.firestore,eu),n=Sf(e),r=new E1(e);return i_(t._query),KA(n,t._query).then(i=>new a_(e,r,t,i))}function h_(t,e){const n=Ai(t.firestore,eu),r=l1(t),i=o_(t.converter,e);return d_(n,[ZA(JA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,mn.exists(!1))]).then(()=>r)}function d_(t,e){return function(n,r){const i=new pn;return n.asyncQueue.enqueueAndForget(async()=>NA(await zA(n),r,i)),i.promise}(Sf(t),e)}function f_(t,e,n){const r=n.docs.get(e._key),i=new E1(t);return new v1(t,i,e._key,r,new us(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Fi=n})(ZT),qa(new Hs("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new eu(new pI(n.getProvider("auth-internal")),new wI(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new U(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Js(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),di(qm,"3.9.0",t),di(qm,"3.9.0","esm2017")})();const p_=()=>{const t=Ef(),e=a1(t,"instrumentos");return c_(e).then(n=>n.docs.map(i=>({...i.data(),id:i.id})))},Lh="/assets/cart-73e2f362.svg",m_=({producto:t})=>{const{titulo:e,precio:n,img:r,id:i}=t,{handleClick:s}=P.useContext(Dr);return M("div",{className:"hover:cursor-pointer mx-auto mt-11 w-80 transform overflow-hidden rounded-lg bg-[#E1E6E1] shadow-md duration-300 hover:scale-105 hover:shadow-lg",children:[k("img",{src:r,alt:"imagen card",className:"h-48 w-full object-cover object-center"}),M("div",{className:"p-4 flex flex-col items-center",children:[k("h3",{className:"mb-2 text-lg font-medium  text-gray-900",children:e}),M("h4",{className:"mr-2 text-lg font-semibold text-gray-900 my-2",children:[n,"$"]}),M("div",{className:"flex flex-col items-center",children:[k("button",{className:"flex text-white bg-[#7a28bc] max-w-max p-2 mb-2 rounded-md hover:bg-[#eb5e28] duration-300",children:k(Ht,{to:`/producto/${i}`,children:"Detalles"})}),M("button",{className:"flex text-white bg-[#7a28cb] max-w-max p-2 rounded-md hover:bg-[#eb5e28] duration-300",onClick:()=>{s({cantidad:1,product:t})},children:[k("img",{src:Lh,alt:"cart-icon",className:"max-w-[20px]"}),k("span",{children:"Agregar al carrito"})]})]})]})]})},g_=({productos:t,greeting:e})=>M("main",{className:"min-h-screen bg-[#eb5e28] py-4",children:[k("h2",{className:"text-center text-3xl text-bold",children:e}),k("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map(n=>k(m_,{producto:n},n.id))})]}),S1=()=>k("div",{className:"mx-auto",children:M("div",{className:"flex justify-center items-center min-h-screen",children:[k("div",{style:{borderTopColor:"transparent"},className:"w-10 h-10 border-4 border-blue-200 rounded-full animate-spin"}),k("p",{className:"ml-2 text-xl",children:"cargando..."})]})}),Cg=({greeting:t})=>{const[e,n]=P.useState([]),{categoria:r}=Uw();return P.useEffect(()=>{p_().then(i=>{n(r?i.filter(s=>s.categoria===r):i)}).catch(i=>console.log(i))},[r]),k(ul,{children:e.length===0?k(S1,{}):k(g_,{productos:e,greeting:t})})},y_="/assets/arrow-left-83a11352.svg",rc=({imgFondo:t,colorFondo:e,textoTitulo:n,link:r})=>M("section",{className:`${t} ${e} bg-cover bg-center min-h-[100vh] md:min-h-[120vh] max-w-[1600px] mx-auto p-10 flex flex-col justify-evenly md:justify-around items-start`,children:[M("div",{className:"text-white",children:[k("h2",{className:"font-semibold text-6xl my-1 max-w-md",children:n}),k("p",{className:"text-2xl",children:"Todas las marcas y modelos!"})]}),k(Ht,{to:r,children:M("button",{className:"rounded bg-[#E1E6E1] p-2 text-3xl font-semibold hover:bg-[#8f95d3] duration-500 flex justify-between",children:["Ver ms",k("img",{src:y_,alt:"arrow left icon",className:"max-h-10"})]})})]}),w_=()=>M("main",{children:[k(rc,{imgFondo:'bg-[url("../src/assets/images/guitarras.jpg")]',colorFondo:"bg-[#8f95d3]",textoTitulo:"Las mejores guitarras estn en MusiShop",link:"/categorias/guitarras"}),k(rc,{imgFondo:'bg-[url("../src/assets/images/bateria-2.jpg")]',colorFondo:"bg-[#7a28cb]",textoTitulo:"Encontra la bateria de tus sueos!",link:"/categorias/baterias"}),k(rc,{imgFondo:'bg-[url("../src/assets/images/estudio.jpg")]',colorFondo:"bg-[#1c1c1c]",textoTitulo:"Todos los instrumentos en un solo lugar",link:"/catalogo"})]}),v_="/assets/headphones-80c6bf10.svg",C1=()=>M(Ht,{className:"flex items-center",href:"index.html",to:"/",children:[k("img",{src:v_,alt:"icon headphones",className:"max-h-10"}),k("p",{className:"text-3xl font-bold bg-gradient-to-r from-red-600 to-orange-500 bg-clip-text text-transparent",children:"MusiShop"})]}),E_=()=>{const{cart:t,cantidadTotal:e}=P.useContext(Dr);return k(ul,{children:t.length>0?M(Ht,{className:"flex items-center",to:"/cart",children:[k("img",{src:Lh,alt:"cart icon",className:"max-h-10"}),k("p",{className:"text-3xl ",children:e})]}):M("div",{className:"flex items-center",children:[k("img",{src:Lh,alt:"cart icon",className:"max-h-10"}),k("p",{className:"text-3xl ",children:e})]})})},S_="/assets/arrow-down-8fb1fa2c.svg",C_=()=>{const[t,e]=P.useState(!1),n=()=>{e(!t)},r=()=>{e(!1)};return M("div",{className:"flex flex-col justify-center text-2xl relative",children:[M("span",{className:"hover:cursor-pointer z-20 hover:text-orange-600 duration-300 flex items-center",onClick:n,children:["Categorias",k("img",{src:S_,alt:"arrow down icon",className:`max-w-[38px] ${t?"rotate-180":""} duration-300`})]}),M("div",{className:`${t?"block":"hidden"} flex flex-col items-center absolute bottom-[-9rem] bg-[#e5e7eb] rounded-md z-10`,children:[k(Ht,{to:"categorias/guitarras",onClick:r,children:k("li",{className:"hover:cursor-pointer text-2xl text-semibold text-right md:mx-2 my-2 hover:text-orange-600 duration-300",children:"Guitarras"})}),k(Ht,{to:"categorias/baterias",onClick:r,children:k("li",{className:"hover:cursor-pointer text-2xl text-semibold text-right md:mx-2 my-2 hover:text-orange-600 duration-300",children:"Baterias"})}),k(Ht,{to:"categorias/bajos",onClick:r,children:k("li",{className:"hover:cursor-pointer text-2xl text-semibold text-right md:mx-2 my-2 hover:text-orange-600 duration-300",children:"Bajos"})})]})]})},x_="/assets/menu-fd7c077d.svg",k_="/assets/close-301080ff.svg",T_=()=>{const t=[{titulo:"Inicio",link:""},{titulo:"Catlogo",link:"catalogo"},{titulo:"Nosotros",link:"about"}],[e,n]=P.useState(!1);return M("nav",{className:"md:flex md:justify-between md:items-center px-6 py-4 shadow-lg",children:[M("div",{className:"flex justify-between",children:[k(C1,{}),k("button",{className:`md:hidden border-2 border-black ${e?"bg-[#7a28cb]":"bg-[#eb5e28]"}  rounded-md p-2 duration-300`,onClick:()=>{n(!e)},children:k("img",{src:e?k_:x_,alt:"hamburguer menu",className:"max-w-[30px]"})})]}),M("div",{className:`md:items-center md:flex md:flex-row ${e?"flex flex-col justify-start items-end":"hidden"}`,children:[M("ul",{className:"ml-2 flex flex-col md:flex-row",children:[t==null?void 0:t.map(({titulo:r,link:i},s)=>k(Ht,{to:`/${i}`,children:k("li",{className:"hover:cursor-pointer text-2xl text-semibold text-right md:mx-2 my-2 hover:text-orange-600 duration-300",children:r},s)},s)),k(C_,{})]}),k(E_,{})]})]})},b_="/assets/discord-aae31ecc.svg",I_="/assets/twitter-35e3934e.svg",N_="/assets/instagram-51a7e534.svg",A_=()=>M("footer",{className:"min-h-[80px] flex flex-col items-center md:flex-row sm:justify-between py-4 md:py-0 px-6 bg-[#E1E6E1]",children:[k(C1,{}),k(Ht,{to:"/about#contacto",className:"font-semibold text-xl hover:text-orange-600 duration-300 my-2 md:py-0",children:"Contacto"}),k("div",{className:"flex justify-center md:justify-end my-2 md:my-0 w-[180px]",children:[{icon:b_,alt:"discord icon",link:"https://discord.com"},{icon:N_,alt:"instagram icon",link:"https://instagram.com"},{icon:I_,alt:"twitter icon",link:"https://twitter.com"}].map(({icon:e,alt:n,link:r},i)=>k(Ht,{to:r,target:"_blank",className:"mx-2",children:k("img",{src:e,alt:n,className:"h-5"})},i))})]}),__=()=>M("div",{className:"bg-white sm:rounded-lg overflow-hidden shadow-lg p-6 flex flex-col items-center text-center border-y-2 sm:border-2 border-black mx-auto my-6 max-w-2xl",id:"contacto",children:[k("h2",{className:"text-2xl font-bold",children:"Contacto"}),k("p",{className:"mb-6",children:"Te contactaremos a la brevedad!"}),M("form",{children:[M("div",{className:"mb-4",children:[k("label",{htmlFor:"nombre",className:"block text-gray-700 font-bold mb-2",children:"Nombre"}),k("input",{type:"text",id:"nombre",name:"nombre",placeholder:"Ej: Gonzalo Moreno...",className:"form-input text-center"})]}),M("div",{className:"mb-4",children:[k("label",{htmlFor:"correo",className:"block text-gray-700 font-bold mb-2",children:"Correo electrnico"}),k("input",{type:"email",id:"correo",name:"correo",placeholder:"Ej: alguien.123@algo.com...",className:"form-input text-center"})]}),k("h3",{className:"text-2xl font-semibold",children:"Por si quieres pasar a visitar..."}),M("div",{className:"mb-4",children:[k("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"telefono",children:"Telfono"}),k("p",{className:"text-gray-700 mb-2",children:"+1 123 456 7890"})]}),M("div",{className:"mb-4",children:[k("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"direccion",children:"Direccin"}),k("p",{className:"text-gray-700 mb-2",children:"123 Calle Falsa, Springfield"})]}),k("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:e=>{e.preventDefault()},children:"Enviar"})]})]}),D_=()=>M("div",{children:[k("section",{className:'bg-[url("../src/assets/images/fondo-about2.jpg")] bg-cover bg-center h-screen flex items-center justify-start text-end text-white',children:M("div",{className:"bg-slate-700 p-8 rounded-xl bg-opacity-60 ml-8",children:[k("h1",{className:"text-6xl font-bold mb-4",children:"Quines somos"}),k("p",{className:"text-2xl font-semibold max-w-md",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce euismod arcu ac ante posuere, ut convallis nisl interdum."})]})}),k("section",{className:'bg-[url("../src/assets/images/fondo-about1.jpg")] bg-cover bg-center h-screen flex items-center justify-end text-center text-white',children:M("div",{className:"bg-slate-700 p-8 rounded-xl bg-opacity-60 mr-8",children:[k("h1",{className:"text-6xl font-bold mb-4",children:"Nuestra historia"}),k("p",{className:"text-2xl font-semibold max-w-md",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce euismod arcu ac ante posuere, ut convallis nisl interdum."})]})}),k("section",{className:'bg-[url("../src/assets/images/guitarras-2.jpg")] bg-cover bg-center min-h-[120vh] flex items-center justify-start text-center text-white',children:M("div",{className:"bg-slate-700 p-8 rounded-xl bg-opacity-60 ml-8",children:[k("h1",{className:"text-6xl font-bold mb-4",children:"Nuestro equipo"}),k("p",{className:"text-2xl font-semibold max-w-md",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce euismod arcu ac ante posuere, ut convallis nisl interdum."})]})}),k(__,{})]}),P_=({stock:t,producto:e})=>{const{handleClick:n}=P.useContext(Dr),[r,i]=P.useState(1);return M(ul,{children:[M("div",{className:"max-w-[300px] min-w-[200px] flex justify-around items-center bg-slate-800 rounded-md text-white",children:[k("button",{className:"text-6xl",onClick:()=>{r>1&&i(r-1)},children:"-"}),k("span",{className:"text-4xl",children:r}),k("button",{className:"text-4xl",onClick:()=>{r<t&&i(r+1)},children:"+"})]}),k("div",{className:"mt-2",children:k("button",{className:"font-bold text-xl p-4 rounded-xl text-white hover:text-black bg-[#7a28cb] hover:bg-[#eb5e28] duration-500 md:self-start",onClick:()=>{n({cantidad:r,product:e})},children:"Agregar al carrito"})})]})},$_=({producto:t})=>{const{descripcion:e,marca:n,precio:r,titulo:i,img:s,stock:o}=t;return M("div",{className:"bg-[#e1e6e1] rounded-lg flex flex-col md:flex-row md:pl-0 md:h-[500px] md:max-w-[1100px] ",children:[k("div",{className:"max-h-[300px] w-[100%] sm:max-h-[500px] md:w-[50%] overflow-hidden",children:k("img",{src:s,className:"object-cover h-full w-full rounded-t-lg md:rounded-l-lg md:rounded-tr-none"})}),M("div",{className:"p-8 flex flex-col justify-around",children:[M("div",{className:"text-center md:text-left",children:[M("h2",{className:"text-2xl font-bold",children:[i," - ",n]}),k("p",{className:"text-xl max-w-xl",children:e}),M("p",{className:"text-xl leading-10",children:["Stock: ",k("span",{className:"font-semibold",children:o})]})]}),M("div",{className:"flex flex-col items-center md:items-start justify-center",children:[M("h2",{className:"p-4 rounded bg-gray-300 text-2xl font-bold my-4",children:["$",r]}),k(P_,{stock:o,producto:t})]})]})]})},L_=()=>{const{id:t}=Uw(),[e,n]=P.useState({}),[r,i]=P.useState(!1);return P.useEffect(()=>{i(!0);const s=Ef(),o=l1(s,"instrumentos",t);u_(o).then(a=>{if(a.exists()){const c=a.data();i(!1),n({...c,id:t})}})},[t]),k(ul,{children:k("div",{className:"min-w-screen min-h-[90vh] bg-[#EB5E28] p-5 lg:p-10 overflow-hidden relative flex justify-center items-center",children:r?k(S1,{}):k($_,{producto:e})})})};var Rh={},R_={get exports(){return Rh},set exports(t){Rh=t}};/*!
* sweetalert2 v11.7.3
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(bn,function(){var n={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const r="swal2-",i=l=>{const u={};for(const d in l)u[l[d]]=r+l[d];return u},s=i(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),o=i(["success","warning","info","question","error"]),a="SweetAlert2:",c=l=>{const u=[];for(let d=0;d<l.length;d++)u.indexOf(l[d])===-1&&u.push(l[d]);return u},h=l=>l.charAt(0).toUpperCase()+l.slice(1),f=l=>{console.warn(`${a} ${typeof l=="object"?l.join(" "):l}`)},p=l=>{console.error(`${a} ${l}`)},g=[],E=l=>{g.includes(l)||(g.push(l),f(l))},C=(l,u)=>{E(`"${l}" is deprecated and will be removed in the next major release. Please use "${u}" instead.`)},S=l=>typeof l=="function"?l():l,D=l=>l&&typeof l.toPromise=="function",w=l=>D(l)?l.toPromise():Promise.resolve(l),y=l=>l&&Promise.resolve(l)===l,v=()=>document.body.querySelector(`.${s.container}`),T=l=>{const u=v();return u?u.querySelector(l):null},_=l=>T(`.${l}`),N=()=>_(s.popup),R=()=>_(s.icon),F=()=>_(s["icon-content"]),he=()=>_(s.title),G=()=>_(s["html-container"]),at=()=>_(s.image),sn=()=>_(s["progress-steps"]),qt=()=>_(s["validation-message"]),lt=()=>T(`.${s.actions} .${s.confirm}`),on=()=>T(`.${s.actions} .${s.cancel}`),Tt=()=>T(`.${s.actions} .${s.deny}`),Vi=()=>_(s["input-label"]),$=()=>T(`.${s.loader}`),z=()=>_(s.actions),Q=()=>_(s.footer),se=()=>_(s["timer-progress-bar"]),we=()=>_(s.close),Rr=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ot=()=>{const l=Array.from(N().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((d,m)=>{const x=parseInt(d.getAttribute("tabindex")),j=parseInt(m.getAttribute("tabindex"));return x>j?1:x<j?-1:0}),u=Array.from(N().querySelectorAll(Rr)).filter(d=>d.getAttribute("tabindex")!=="-1");return c(l.concat(u)).filter(d=>gt(d))},rr=()=>an(document.body,s.shown)&&!an(document.body,s["toast-shown"])&&!an(document.body,s["no-backdrop"]),bt=()=>N()&&an(N(),s.toast),Or=()=>N().hasAttribute("data-loading"),Mr={previousBodyPadding:null},mt=(l,u)=>{if(l.textContent="",u){const m=new DOMParser().parseFromString(u,"text/html");Array.from(m.querySelector("head").childNodes).forEach(x=>{l.appendChild(x)}),Array.from(m.querySelector("body").childNodes).forEach(x=>{x instanceof HTMLVideoElement||x instanceof HTMLAudioElement?l.appendChild(x.cloneNode(!0)):l.appendChild(x)})}},an=(l,u)=>{if(!u)return!1;const d=u.split(/\s+/);for(let m=0;m<d.length;m++)if(!l.classList.contains(d[m]))return!1;return!0},x1=(l,u)=>{Array.from(l.classList).forEach(d=>{!Object.values(s).includes(d)&&!Object.values(o).includes(d)&&!Object.values(u.showClass).includes(d)&&l.classList.remove(d)})},It=(l,u,d)=>{if(x1(l,u),u.customClass&&u.customClass[d]){if(typeof u.customClass[d]!="string"&&!u.customClass[d].forEach){f(`Invalid type of customClass.${d}! Expected string or iterable object, got "${typeof u.customClass[d]}"`);return}Z(l,u.customClass[d])}},tu=(l,u)=>{if(!u)return null;switch(u){case"select":case"textarea":case"file":return l.querySelector(`.${s.popup} > .${s[u]}`);case"checkbox":return l.querySelector(`.${s.popup} > .${s.checkbox} input`);case"radio":return l.querySelector(`.${s.popup} > .${s.radio} input:checked`)||l.querySelector(`.${s.popup} > .${s.radio} input:first-child`);case"range":return l.querySelector(`.${s.popup} > .${s.range} input`);default:return l.querySelector(`.${s.popup} > .${s.input}`)}},bf=l=>{if(l.focus(),l.type!=="file"){const u=l.value;l.value="",l.value=u}},If=(l,u,d)=>{!l||!u||(typeof u=="string"&&(u=u.split(/\s+/).filter(Boolean)),u.forEach(m=>{Array.isArray(l)?l.forEach(x=>{d?x.classList.add(m):x.classList.remove(m)}):d?l.classList.add(m):l.classList.remove(m)}))},Z=(l,u)=>{If(l,u,!0)},Wt=(l,u)=>{If(l,u,!1)},Tn=(l,u)=>{const d=Array.from(l.children);for(let m=0;m<d.length;m++){const x=d[m];if(x instanceof HTMLElement&&an(x,u))return x}},Fr=(l,u,d)=>{d===`${parseInt(d)}`&&(d=parseInt(d)),d||parseInt(d)===0?l.style[u]=typeof d=="number"?`${d}px`:d:l.style.removeProperty(u)},Oe=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l.style.display=u},ze=l=>{l.style.display="none"},Nf=(l,u,d,m)=>{const x=l.querySelector(u);x&&(x.style[d]=m)},bo=function(l,u){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";u?Oe(l,d):ze(l)},gt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),k1=()=>!gt(lt())&&!gt(Tt())&&!gt(on()),Af=l=>l.scrollHeight>l.clientHeight,_f=l=>{const u=window.getComputedStyle(l),d=parseFloat(u.getPropertyValue("animation-duration")||"0"),m=parseFloat(u.getPropertyValue("transition-duration")||"0");return d>0||m>0},nu=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const d=se();gt(d)&&(u&&(d.style.transition="none",d.style.width="100%"),setTimeout(()=>{d.style.transition=`width ${l/1e3}s linear`,d.style.width="0%"},10))},T1=()=>{const l=se(),u=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";const d=parseInt(window.getComputedStyle(l).width),m=u/d*100;l.style.width=`${m}%`},b1=100,Y={},I1=()=>{Y.previousActiveElement instanceof HTMLElement?(Y.previousActiveElement.focus(),Y.previousActiveElement=null):document.body&&document.body.focus()},N1=l=>new Promise(u=>{if(!l)return u();const d=window.scrollX,m=window.scrollY;Y.restoreFocusTimeout=setTimeout(()=>{I1(),u()},b1),window.scrollTo(d,m)}),Df=()=>typeof window>"u"||typeof document>"u",A1=`
 <div aria-labelledby="${s.title}" aria-describedby="${s["html-container"]}" class="${s.popup}" tabindex="-1">
   <button type="button" class="${s.close}"></button>
   <ul class="${s["progress-steps"]}"></ul>
   <div class="${s.icon}"></div>
   <img class="${s.image}" />
   <h2 class="${s.title}" id="${s.title}"></h2>
   <div class="${s["html-container"]}" id="${s["html-container"]}"></div>
   <input class="${s.input}" />
   <input type="file" class="${s.file}" />
   <div class="${s.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${s.select}"></select>
   <div class="${s.radio}"></div>
   <label for="${s.checkbox}" class="${s.checkbox}">
     <input type="checkbox" />
     <span class="${s.label}"></span>
   </label>
   <textarea class="${s.textarea}"></textarea>
   <div class="${s["validation-message"]}" id="${s["validation-message"]}"></div>
   <div class="${s.actions}">
     <div class="${s.loader}"></div>
     <button type="button" class="${s.confirm}"></button>
     <button type="button" class="${s.deny}"></button>
     <button type="button" class="${s.cancel}"></button>
   </div>
   <div class="${s.footer}"></div>
   <div class="${s["timer-progress-bar-container"]}">
     <div class="${s["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),_1=()=>{const l=v();return l?(l.remove(),Wt([document.documentElement,document.body],[s["no-backdrop"],s["toast-shown"],s["has-column"]]),!0):!1},ir=()=>{Y.currentInstance.resetValidationMessage()},D1=()=>{const l=N(),u=Tn(l,s.input),d=Tn(l,s.file),m=l.querySelector(`.${s.range} input`),x=l.querySelector(`.${s.range} output`),j=Tn(l,s.select),oe=l.querySelector(`.${s.checkbox} input`),yt=Tn(l,s.textarea);u.oninput=ir,d.onchange=ir,j.onchange=ir,oe.onchange=ir,yt.oninput=ir,m.oninput=()=>{ir(),x.value=m.value},m.onchange=()=>{ir(),x.value=m.value}},P1=l=>typeof l=="string"?document.querySelector(l):l,$1=l=>{const u=N();u.setAttribute("role",l.toast?"alert":"dialog"),u.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||u.setAttribute("aria-modal","true")},L1=l=>{window.getComputedStyle(l).direction==="rtl"&&Z(v(),s.rtl)},R1=l=>{const u=_1();if(Df()){p("SweetAlert2 requires document to initialize");return}const d=document.createElement("div");d.className=s.container,u&&Z(d,s["no-transition"]),mt(d,A1);const m=P1(l.target);m.appendChild(d),$1(l),L1(m),D1()},ru=(l,u)=>{l instanceof HTMLElement?u.appendChild(l):typeof l=="object"?O1(l,u):l&&mt(u,l)},O1=(l,u)=>{l.jquery?M1(u,l):mt(u,l.toString())},M1=(l,u)=>{if(l.textContent="",0 in u)for(let d=0;d in u;d++)l.appendChild(u[d].cloneNode(!0));else l.appendChild(u.cloneNode(!0))},zi=(()=>{if(Df())return!1;const l=document.createElement("div"),u={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)&&typeof l.style[d]<"u")return u[d];return!1})(),F1=()=>{const l=document.createElement("div");l.className=s["scrollbar-measure"],document.body.appendChild(l);const u=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),u},B1=(l,u)=>{const d=z(),m=$();!u.showConfirmButton&&!u.showDenyButton&&!u.showCancelButton?ze(d):Oe(d),It(d,u,"actions"),j1(d,m,u),mt(m,u.loaderHtml),It(m,u,"loader")};function j1(l,u,d){const m=lt(),x=Tt(),j=on();iu(m,"confirm",d),iu(x,"deny",d),iu(j,"cancel",d),U1(m,x,j,d),d.reverseButtons&&(d.toast?(l.insertBefore(j,m),l.insertBefore(x,m)):(l.insertBefore(j,u),l.insertBefore(x,u),l.insertBefore(m,u)))}function U1(l,u,d,m){if(!m.buttonsStyling){Wt([l,u,d],s.styled);return}Z([l,u,d],s.styled),m.confirmButtonColor&&(l.style.backgroundColor=m.confirmButtonColor,Z(l,s["default-outline"])),m.denyButtonColor&&(u.style.backgroundColor=m.denyButtonColor,Z(u,s["default-outline"])),m.cancelButtonColor&&(d.style.backgroundColor=m.cancelButtonColor,Z(d,s["default-outline"]))}function iu(l,u,d){bo(l,d[`show${h(u)}Button`],"inline-block"),mt(l,d[`${u}ButtonText`]),l.setAttribute("aria-label",d[`${u}ButtonAriaLabel`]),l.className=s[u],It(l,d,`${u}Button`),Z(l,d[`${u}ButtonClass`])}const V1=(l,u)=>{const d=we();mt(d,u.closeButtonHtml),It(d,u,"closeButton"),bo(d,u.showCloseButton),d.setAttribute("aria-label",u.closeButtonAriaLabel)},z1=(l,u)=>{const d=v();d&&(H1(d,u.backdrop),K1(d,u.position),q1(d,u.grow),It(d,u,"container"))};function H1(l,u){typeof u=="string"?l.style.background=u:u||Z([document.documentElement,document.body],s["no-backdrop"])}function K1(l,u){u in s?Z(l,s[u]):(f('The "position" parameter is not valid, defaulting to "center"'),Z(l,s.center))}function q1(l,u){if(u&&typeof u=="string"){const d=`grow-${u}`;d in s&&Z(l,s[d])}}const W1=["input","file","range","select","radio","checkbox","textarea"],Q1=(l,u)=>{const d=N(),m=n.innerParams.get(l),x=!m||u.input!==m.input;W1.forEach(j=>{const oe=Tn(d,s[j]);X1(j,u.inputAttributes),oe.className=s[j],x&&ze(oe)}),u.input&&(x&&G1(u),J1(u))},G1=l=>{if(!ut[l.input]){p(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${l.input}"`);return}const u=Pf(l.input),d=ut[l.input](u,l);Oe(u),l.inputAutoFocus&&setTimeout(()=>{bf(d)})},Y1=l=>{for(let u=0;u<l.attributes.length;u++){const d=l.attributes[u].name;["type","value","style"].includes(d)||l.removeAttribute(d)}},X1=(l,u)=>{const d=tu(N(),l);if(d){Y1(d);for(const m in u)d.setAttribute(m,u[m])}},J1=l=>{const u=Pf(l.input);typeof l.customClass=="object"&&Z(u,l.customClass.input)},su=(l,u)=>{(!l.placeholder||u.inputPlaceholder)&&(l.placeholder=u.inputPlaceholder)},Hi=(l,u,d)=>{if(d.inputLabel){l.id=s.input;const m=document.createElement("label"),x=s["input-label"];m.setAttribute("for",l.id),m.className=x,typeof d.customClass=="object"&&Z(m,d.customClass.inputLabel),m.innerText=d.inputLabel,u.insertAdjacentElement("beforebegin",m)}},Pf=l=>Tn(N(),s[l]||s.input),Io=(l,u)=>{["string","number"].includes(typeof u)?l.value=`${u}`:y(u)||f(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof u}"`)},ut={};ut.text=ut.email=ut.password=ut.number=ut.tel=ut.url=(l,u)=>(Io(l,u.inputValue),Hi(l,l,u),su(l,u),l.type=u.input,l),ut.file=(l,u)=>(Hi(l,l,u),su(l,u),l),ut.range=(l,u)=>{const d=l.querySelector("input"),m=l.querySelector("output");return Io(d,u.inputValue),d.type=u.input,Io(m,u.inputValue),Hi(d,l,u),l},ut.select=(l,u)=>{if(l.textContent="",u.inputPlaceholder){const d=document.createElement("option");mt(d,u.inputPlaceholder),d.value="",d.disabled=!0,d.selected=!0,l.appendChild(d)}return Hi(l,l,u),l},ut.radio=l=>(l.textContent="",l),ut.checkbox=(l,u)=>{const d=tu(N(),"checkbox");d.value="1",d.id=s.checkbox,d.checked=Boolean(u.inputValue);const m=l.querySelector("span");return mt(m,u.inputPlaceholder),d},ut.textarea=(l,u)=>{Io(l,u.inputValue),su(l,u),Hi(l,l,u);const d=m=>parseInt(window.getComputedStyle(m).marginLeft)+parseInt(window.getComputedStyle(m).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const m=parseInt(window.getComputedStyle(N()).width),x=()=>{const j=l.offsetWidth+d(l);j>m?N().style.width=`${j}px`:N().style.width=null};new MutationObserver(x).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};const Z1=(l,u)=>{const d=G();It(d,u,"htmlContainer"),u.html?(ru(u.html,d),Oe(d,"block")):u.text?(d.textContent=u.text,Oe(d,"block")):ze(d),Q1(l,u)},eE=(l,u)=>{const d=Q();bo(d,u.footer),u.footer&&ru(u.footer,d),It(d,u,"footer")},tE=(l,u)=>{const d=n.innerParams.get(l),m=R();if(d&&u.icon===d.icon){Lf(m,u),$f(m,u);return}if(!u.icon&&!u.iconHtml){ze(m);return}if(u.icon&&Object.keys(o).indexOf(u.icon)===-1){p(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${u.icon}"`),ze(m);return}Oe(m),Lf(m,u),$f(m,u),Z(m,u.showClass.icon)},$f=(l,u)=>{for(const d in o)u.icon!==d&&Wt(l,o[d]);Z(l,o[u.icon]),sE(l,u),nE(),It(l,u,"icon")},nE=()=>{const l=N(),u=window.getComputedStyle(l).getPropertyValue("background-color"),d=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let m=0;m<d.length;m++)d[m].style.backgroundColor=u},rE=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,iE=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Lf=(l,u)=>{let d=l.innerHTML,m;u.iconHtml?m=Rf(u.iconHtml):u.icon==="success"?(m=rE,d=d.replace(/ style=".*?"/g,"")):u.icon==="error"?m=iE:m=Rf({question:"?",warning:"!",info:"i"}[u.icon]),d.trim()!==m.trim()&&mt(l,m)},sE=(l,u)=>{if(u.iconColor){l.style.color=u.iconColor,l.style.borderColor=u.iconColor;for(const d of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Nf(l,d,"backgroundColor",u.iconColor);Nf(l,".swal2-success-ring","borderColor",u.iconColor)}},Rf=l=>`<div class="${s["icon-content"]}">${l}</div>`,oE=(l,u)=>{const d=at();if(!u.imageUrl){ze(d);return}Oe(d,""),d.setAttribute("src",u.imageUrl),d.setAttribute("alt",u.imageAlt),Fr(d,"width",u.imageWidth),Fr(d,"height",u.imageHeight),d.className=s.image,It(d,u,"image")},aE=(l,u)=>{const d=v(),m=N();u.toast?(Fr(d,"width",u.width),m.style.width="100%",m.insertBefore($(),R())):Fr(m,"width",u.width),Fr(m,"padding",u.padding),u.color&&(m.style.color=u.color),u.background&&(m.style.background=u.background),ze(qt()),lE(m,u)},lE=(l,u)=>{l.className=`${s.popup} ${gt(l)?u.showClass.popup:""}`,u.toast?(Z([document.documentElement,document.body],s["toast-shown"]),Z(l,s.toast)):Z(l,s.modal),It(l,u,"popup"),typeof u.customClass=="string"&&Z(l,u.customClass),u.icon&&Z(l,s[`icon-${u.icon}`])},uE=(l,u)=>{const d=sn();if(!u.progressSteps||u.progressSteps.length===0){ze(d);return}Oe(d),d.textContent="",u.currentProgressStep>=u.progressSteps.length&&f("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),u.progressSteps.forEach((m,x)=>{const j=cE(m);if(d.appendChild(j),x===u.currentProgressStep&&Z(j,s["active-progress-step"]),x!==u.progressSteps.length-1){const oe=hE(u);d.appendChild(oe)}})},cE=l=>{const u=document.createElement("li");return Z(u,s["progress-step"]),mt(u,l),u},hE=l=>{const u=document.createElement("li");return Z(u,s["progress-step-line"]),l.progressStepsDistance&&Fr(u,"width",l.progressStepsDistance),u},dE=(l,u)=>{const d=he();bo(d,u.title||u.titleText,"block"),u.title&&ru(u.title,d),u.titleText&&(d.innerText=u.titleText),It(d,u,"title")},Of=(l,u)=>{aE(l,u),z1(l,u),uE(l,u),tE(l,u),oE(l,u),dE(l,u),V1(l,u),Z1(l,u),B1(l,u),eE(l,u),typeof u.didRender=="function"&&u.didRender(N())};function Mf(){const l=n.innerParams.get(this);if(!l)return;const u=n.domCache.get(this);ze(u.loader),bt()?l.icon&&Oe(R()):fE(u),Wt([u.popup,u.actions],s.loading),u.popup.removeAttribute("aria-busy"),u.popup.removeAttribute("data-loading"),u.confirmButton.disabled=!1,u.denyButton.disabled=!1,u.cancelButton.disabled=!1}const fE=l=>{const u=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));u.length?Oe(u[0],"inline-block"):k1()&&ze(l.actions)};function pE(l){const u=n.innerParams.get(l||this),d=n.domCache.get(l||this);return d?tu(d.popup,u.input):null}const mE=()=>gt(N()),Ff=()=>lt()&&lt().click(),gE=()=>Tt()&&Tt().click(),yE=()=>on()&&on().click(),Br=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Bf=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},wE=(l,u,d,m)=>{Bf(u),d.toast||(u.keydownHandler=x=>EE(l,x,m),u.keydownTarget=d.keydownListenerCapture?window:N(),u.keydownListenerCapture=d.keydownListenerCapture,u.keydownTarget.addEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!0)},ou=(l,u)=>{const d=Ot();if(d.length){l=l+u,l===d.length?l=0:l===-1&&(l=d.length-1),d[l].focus();return}N().focus()},jf=["ArrowRight","ArrowDown"],vE=["ArrowLeft","ArrowUp"],EE=(l,u,d)=>{const m=n.innerParams.get(l);m&&(u.isComposing||u.keyCode===229||(m.stopKeydownPropagation&&u.stopPropagation(),u.key==="Enter"?SE(l,u,m):u.key==="Tab"?CE(u):[...jf,...vE].includes(u.key)?xE(u.key):u.key==="Escape"&&kE(u,m,d)))},SE=(l,u,d)=>{if(S(d.allowEnterKey)&&u.target&&l.getInput()&&u.target instanceof HTMLElement&&u.target.outerHTML===l.getInput().outerHTML){if(["textarea","file"].includes(d.input))return;Ff(),u.preventDefault()}},CE=l=>{const u=l.target,d=Ot();let m=-1;for(let x=0;x<d.length;x++)if(u===d[x]){m=x;break}l.shiftKey?ou(m,-1):ou(m,1),l.stopPropagation(),l.preventDefault()},xE=l=>{const u=lt(),d=Tt(),m=on(),x=[u,d,m];if(document.activeElement instanceof HTMLElement&&!x.includes(document.activeElement))return;const j=jf.includes(l)?"nextElementSibling":"previousElementSibling";let oe=document.activeElement;for(let yt=0;yt<z().children.length;yt++){if(oe=oe[j],!oe)return;if(oe instanceof HTMLButtonElement&&gt(oe))break}oe instanceof HTMLButtonElement&&oe.focus()},kE=(l,u,d)=>{S(u.allowEscapeKey)&&(l.preventDefault(),d(Br.esc))};var Ki={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const TE=()=>{Array.from(document.body.children).forEach(u=>{u===v()||u.contains(v())||(u.hasAttribute("aria-hidden")&&u.setAttribute("data-previous-aria-hidden",u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))})},Uf=()=>{Array.from(document.body.children).forEach(u=>{u.hasAttribute("data-previous-aria-hidden")?(u.setAttribute("aria-hidden",u.getAttribute("data-previous-aria-hidden")),u.removeAttribute("data-previous-aria-hidden")):u.removeAttribute("aria-hidden")})},bE=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!an(document.body,s.iosfix)){const u=document.body.scrollTop;document.body.style.top=`${u*-1}px`,Z(document.body,s.iosfix),NE(),IE()}},IE=()=>{const l=navigator.userAgent,u=!!l.match(/iPad/i)||!!l.match(/iPhone/i),d=!!l.match(/WebKit/i);u&&d&&!l.match(/CriOS/i)&&N().scrollHeight>window.innerHeight-44&&(v().style.paddingBottom=`${44}px`)},NE=()=>{const l=v();let u;l.ontouchstart=d=>{u=AE(d)},l.ontouchmove=d=>{u&&(d.preventDefault(),d.stopPropagation())}},AE=l=>{const u=l.target,d=v();return _E(l)||DE(l)?!1:u===d||!Af(d)&&u instanceof HTMLElement&&u.tagName!=="INPUT"&&u.tagName!=="TEXTAREA"&&!(Af(G())&&G().contains(u))},_E=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",DE=l=>l.touches&&l.touches.length>1,PE=()=>{if(an(document.body,s.iosfix)){const l=parseInt(document.body.style.top,10);Wt(document.body,s.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},$E=()=>{Mr.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(Mr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Mr.previousBodyPadding+F1()}px`)},LE=()=>{Mr.previousBodyPadding!==null&&(document.body.style.paddingRight=`${Mr.previousBodyPadding}px`,Mr.previousBodyPadding=null)};function Vf(l,u,d,m){bt()?zf(l,m):(N1(d).then(()=>zf(l,m)),Bf(Y)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(u.setAttribute("style","display:none !important"),u.removeAttribute("class"),u.innerHTML=""):u.remove(),rr()&&(LE(),PE(),Uf()),RE()}function RE(){Wt([document.documentElement,document.body],[s.shown,s["height-auto"],s["no-backdrop"],s["toast-shown"]])}function No(l){l=BE(l);const u=Ki.swalPromiseResolve.get(this),d=ME(this);this.isAwaitingPromise()?l.isDismissed||(qi(this),u(l)):d&&u(l)}function OE(){return!!n.awaitingPromise.get(this)}const ME=l=>{const u=N();if(!u)return!1;const d=n.innerParams.get(l);if(!d||an(u,d.hideClass.popup))return!1;Wt(u,d.showClass.popup),Z(u,d.hideClass.popup);const m=v();return Wt(m,d.showClass.backdrop),Z(m,d.hideClass.backdrop),jE(l,u,d),!0};function FE(l){const u=Ki.swalPromiseReject.get(this);qi(this),u&&u(l)}const qi=l=>{l.isAwaitingPromise()&&(n.awaitingPromise.delete(l),n.innerParams.get(l)||l._destroy())},BE=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),jE=(l,u,d)=>{const m=v(),x=zi&&_f(u);typeof d.willClose=="function"&&d.willClose(u),x?UE(l,u,m,d.returnFocus,d.didClose):Vf(l,m,d.returnFocus,d.didClose)},UE=(l,u,d,m,x)=>{Y.swalCloseEventFinishedCallback=Vf.bind(null,l,d,m,x),u.addEventListener(zi,function(j){j.target===u&&(Y.swalCloseEventFinishedCallback(),delete Y.swalCloseEventFinishedCallback)})},zf=(l,u)=>{setTimeout(()=>{typeof u=="function"&&u.bind(l.params)(),l._destroy()})};function Hf(l,u,d){const m=n.domCache.get(l);u.forEach(x=>{m[x].disabled=d})}function Kf(l,u){if(l)if(l.type==="radio"){const m=l.parentNode.parentNode.querySelectorAll("input");for(let x=0;x<m.length;x++)m[x].disabled=u}else l.disabled=u}function VE(){Hf(this,["confirmButton","denyButton","cancelButton"],!1)}function zE(){Hf(this,["confirmButton","denyButton","cancelButton"],!0)}function HE(){Kf(this.getInput(),!1)}function KE(){Kf(this.getInput(),!0)}function qE(l){const u=n.domCache.get(this),d=n.innerParams.get(this);mt(u.validationMessage,l),u.validationMessage.className=s["validation-message"],d.customClass&&d.customClass.validationMessage&&Z(u.validationMessage,d.customClass.validationMessage),Oe(u.validationMessage);const m=this.getInput();m&&(m.setAttribute("aria-invalid",!0),m.setAttribute("aria-describedby",s["validation-message"]),bf(m),Z(m,s.inputerror))}function WE(){const l=n.domCache.get(this);l.validationMessage&&ze(l.validationMessage);const u=this.getInput();u&&(u.removeAttribute("aria-invalid"),u.removeAttribute("aria-describedby"),Wt(u,s.inputerror))}const jr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},QE=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],GE={},YE=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],qf=l=>Object.prototype.hasOwnProperty.call(jr,l),Wf=l=>QE.indexOf(l)!==-1,au=l=>GE[l],XE=l=>{qf(l)||f(`Unknown parameter "${l}"`)},JE=l=>{YE.includes(l)&&f(`The parameter "${l}" is incompatible with toasts`)},ZE=l=>{au(l)&&C(l,au(l))},e2=l=>{l.backdrop===!1&&l.allowOutsideClick&&f('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const u in l)XE(u),l.toast&&JE(u),ZE(u)};function t2(l){const u=N(),d=n.innerParams.get(this);if(!u||an(u,d.hideClass.popup)){f("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const m=n2(l),x=Object.assign({},d,m);Of(this,x),n.innerParams.set(this,x),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}const n2=l=>{const u={};return Object.keys(l).forEach(d=>{Wf(d)?u[d]=l[d]:f(`Invalid parameter to update: ${d}`)}),u};function r2(){const l=n.domCache.get(this),u=n.innerParams.get(this);if(!u){Qf(this);return}l.popup&&Y.swalCloseEventFinishedCallback&&(Y.swalCloseEventFinishedCallback(),delete Y.swalCloseEventFinishedCallback),typeof u.didDestroy=="function"&&u.didDestroy(),i2(this)}const i2=l=>{Qf(l),delete l.params,delete Y.keydownHandler,delete Y.keydownTarget,delete Y.currentInstance},Qf=l=>{l.isAwaitingPromise()?(lu(n,l),n.awaitingPromise.set(l,!0)):(lu(Ki,l),lu(n,l))},lu=(l,u)=>{for(const d in l)l[d].delete(u)};var Gf=Object.freeze({__proto__:null,_destroy:r2,close:No,closeModal:No,closePopup:No,closeToast:No,disableButtons:zE,disableInput:KE,disableLoading:Mf,enableButtons:VE,enableInput:HE,getInput:pE,handleAwaitingPromise:qi,hideLoading:Mf,isAwaitingPromise:OE,rejectPromise:FE,resetValidationMessage:WE,showValidationMessage:qE,update:t2});const Ur=l=>{let u=N();u||new _o,u=N();const d=$();bt()?ze(R()):s2(u,l),Oe(d),u.setAttribute("data-loading","true"),u.setAttribute("aria-busy","true"),u.focus()},s2=(l,u)=>{const d=z(),m=$();!u&&gt(lt())&&(u=lt()),Oe(d),u&&(ze(u),m.setAttribute("data-button-to-replace",u.className)),m.parentNode.insertBefore(m,u),Z([l,d],s.loading)},o2=(l,u)=>{u.input==="select"||u.input==="radio"?h2(l,u):["text","email","number","tel","textarea"].includes(u.input)&&(D(u.inputValue)||y(u.inputValue))&&(Ur(lt()),d2(l,u))},a2=(l,u)=>{const d=l.getInput();if(!d)return null;switch(u.input){case"checkbox":return l2(d);case"radio":return u2(d);case"file":return c2(d);default:return u.inputAutoTrim?d.value.trim():d.value}},l2=l=>l.checked?1:0,u2=l=>l.checked?l.value:null,c2=l=>l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,h2=(l,u)=>{const d=N(),m=x=>{f2[u.input](d,uu(x),u)};D(u.inputOptions)||y(u.inputOptions)?(Ur(lt()),w(u.inputOptions).then(x=>{l.hideLoading(),m(x)})):typeof u.inputOptions=="object"?m(u.inputOptions):p(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof u.inputOptions}`)},d2=(l,u)=>{const d=l.getInput();ze(d),w(u.inputValue).then(m=>{d.value=u.input==="number"?`${parseFloat(m)||0}`:`${m}`,Oe(d),d.focus(),l.hideLoading()}).catch(m=>{p(`Error in inputValue promise: ${m}`),d.value="",Oe(d),d.focus(),l.hideLoading()})},f2={select:(l,u,d)=>{const m=Tn(l,s.select),x=(j,oe,yt)=>{const tt=document.createElement("option");tt.value=yt,mt(tt,oe),tt.selected=Yf(yt,d.inputValue),j.appendChild(tt)};u.forEach(j=>{const oe=j[0],yt=j[1];if(Array.isArray(yt)){const tt=document.createElement("optgroup");tt.label=oe,tt.disabled=!1,m.appendChild(tt),yt.forEach(zr=>x(tt,zr[1],zr[0]))}else x(m,yt,oe)}),m.focus()},radio:(l,u,d)=>{const m=Tn(l,s.radio);u.forEach(j=>{const oe=j[0],yt=j[1],tt=document.createElement("input"),zr=document.createElement("label");tt.type="radio",tt.name=s.radio,tt.value=oe,Yf(oe,d.inputValue)&&(tt.checked=!0);const fu=document.createElement("span");mt(fu,yt),fu.className=s.label,zr.appendChild(tt),zr.appendChild(fu),m.appendChild(zr)});const x=m.querySelectorAll("input");x.length&&x[0].focus()}},uu=l=>{const u=[];return typeof Map<"u"&&l instanceof Map?l.forEach((d,m)=>{let x=d;typeof x=="object"&&(x=uu(x)),u.push([m,x])}):Object.keys(l).forEach(d=>{let m=l[d];typeof m=="object"&&(m=uu(m)),u.push([d,m])}),u},Yf=(l,u)=>u&&u.toString()===l.toString(),p2=l=>{const u=n.innerParams.get(l);l.disableButtons(),u.input?Xf(l,"confirm"):hu(l,!0)},m2=l=>{const u=n.innerParams.get(l);l.disableButtons(),u.returnInputValueOnDeny?Xf(l,"deny"):cu(l,!1)},g2=(l,u)=>{l.disableButtons(),u(Br.cancel)},Xf=(l,u)=>{const d=n.innerParams.get(l);if(!d.input){p(`The "input" parameter is needed to be set when using returnInputValueOn${h(u)}`);return}const m=a2(l,d);d.inputValidator?y2(l,m,u):l.getInput().checkValidity()?u==="deny"?cu(l,m):hu(l,m):(l.enableButtons(),l.showValidationMessage(d.validationMessage))},y2=(l,u,d)=>{const m=n.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>w(m.inputValidator(u,m.validationMessage))).then(j=>{l.enableButtons(),l.enableInput(),j?l.showValidationMessage(j):d==="deny"?cu(l,u):hu(l,u)})},cu=(l,u)=>{const d=n.innerParams.get(l||void 0);d.showLoaderOnDeny&&Ur(Tt()),d.preDeny?(n.awaitingPromise.set(l||void 0,!0),Promise.resolve().then(()=>w(d.preDeny(u,d.validationMessage))).then(x=>{x===!1?(l.hideLoading(),qi(l)):l.close({isDenied:!0,value:typeof x>"u"?u:x})}).catch(x=>Zf(l||void 0,x))):l.close({isDenied:!0,value:u})},Jf=(l,u)=>{l.close({isConfirmed:!0,value:u})},Zf=(l,u)=>{l.rejectPromise(u)},hu=(l,u)=>{const d=n.innerParams.get(l||void 0);d.showLoaderOnConfirm&&Ur(),d.preConfirm?(l.resetValidationMessage(),n.awaitingPromise.set(l||void 0,!0),Promise.resolve().then(()=>w(d.preConfirm(u,d.validationMessage))).then(x=>{gt(qt())||x===!1?(l.hideLoading(),qi(l)):Jf(l,typeof x>"u"?u:x)}).catch(x=>Zf(l||void 0,x))):Jf(l,u)},w2=(l,u,d)=>{n.innerParams.get(l).toast?v2(l,u,d):(S2(u),C2(u),x2(l,u,d))},v2=(l,u,d)=>{u.popup.onclick=()=>{const m=n.innerParams.get(l);m&&(E2(m)||m.timer||m.input)||d(Br.close)}},E2=l=>l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton;let Ao=!1;const S2=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(u){l.container.onmouseup=void 0,u.target===l.container&&(Ao=!0)}}},C2=l=>{l.container.onmousedown=()=>{l.popup.onmouseup=function(u){l.popup.onmouseup=void 0,(u.target===l.popup||l.popup.contains(u.target))&&(Ao=!0)}}},x2=(l,u,d)=>{u.container.onclick=m=>{const x=n.innerParams.get(l);if(Ao){Ao=!1;return}m.target===u.container&&S(x.allowOutsideClick)&&d(Br.backdrop)}},k2=l=>typeof l=="object"&&l.jquery,ep=l=>l instanceof Element||k2(l),T2=l=>{const u={};return typeof l[0]=="object"&&!ep(l[0])?Object.assign(u,l[0]):["title","html","icon"].forEach((d,m)=>{const x=l[m];typeof x=="string"||ep(x)?u[d]=x:x!==void 0&&p(`Unexpected type of ${d}! Expected "string" or "Element", got ${typeof x}`)}),u};function b2(){const l=this;for(var u=arguments.length,d=new Array(u),m=0;m<u;m++)d[m]=arguments[m];return new l(...d)}function I2(l){class u extends this{_main(m,x){return super._main(m,Object.assign({},l,x))}}return u}const N2=()=>Y.timeout&&Y.timeout.getTimerLeft(),tp=()=>{if(Y.timeout)return T1(),Y.timeout.stop()},np=()=>{if(Y.timeout){const l=Y.timeout.start();return nu(l),l}},A2=()=>{const l=Y.timeout;return l&&(l.running?tp():np())},_2=l=>{if(Y.timeout){const u=Y.timeout.increase(l);return nu(u,!0),u}},D2=()=>Y.timeout&&Y.timeout.isRunning();let rp=!1;const du={};function P2(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";du[l]=this,rp||(document.body.addEventListener("click",$2),rp=!0)}const $2=l=>{for(let u=l.target;u&&u!==document;u=u.parentNode)for(const d in du){const m=u.getAttribute(d);if(m){du[d].fire({template:m});return}}};var L2=Object.freeze({__proto__:null,argsToParams:T2,bindClickHandler:P2,clickCancel:yE,clickConfirm:Ff,clickDeny:gE,enableLoading:Ur,fire:b2,getActions:z,getCancelButton:on,getCloseButton:we,getConfirmButton:lt,getContainer:v,getDenyButton:Tt,getFocusableElements:Ot,getFooter:Q,getHtmlContainer:G,getIcon:R,getIconContent:F,getImage:at,getInputLabel:Vi,getLoader:$,getPopup:N,getProgressSteps:sn,getTimerLeft:N2,getTimerProgressBar:se,getTitle:he,getValidationMessage:qt,increaseTimer:_2,isDeprecatedParameter:au,isLoading:Or,isTimerRunning:D2,isUpdatableParameter:Wf,isValidParameter:qf,isVisible:mE,mixin:I2,resumeTimer:np,showLoading:Ur,stopTimer:tp,toggleTimer:A2});class R2{constructor(u,d){this.callback=u,this.remaining=d,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(u){const d=this.running;return d&&this.stop(),this.remaining+=u,d&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ip=["swal-title","swal-html","swal-footer"],O2=l=>{const u=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!u)return{};const d=u.content;return H2(d),Object.assign(M2(d),F2(d),B2(d),j2(d),U2(d),V2(d),z2(d,ip))},M2=l=>{const u={};return Array.from(l.querySelectorAll("swal-param")).forEach(m=>{sr(m,["name","value"]);const x=m.getAttribute("name"),j=m.getAttribute("value");typeof jr[x]=="boolean"?u[x]=j!=="false":typeof jr[x]=="object"?u[x]=JSON.parse(j):u[x]=j}),u},F2=l=>{const u={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(m=>{const x=m.getAttribute("name"),j=m.getAttribute("value");u[x]=new Function(`return ${j}`)()}),u},B2=l=>{const u={};return Array.from(l.querySelectorAll("swal-button")).forEach(m=>{sr(m,["type","color","aria-label"]);const x=m.getAttribute("type");u[`${x}ButtonText`]=m.innerHTML,u[`show${h(x)}Button`]=!0,m.hasAttribute("color")&&(u[`${x}ButtonColor`]=m.getAttribute("color")),m.hasAttribute("aria-label")&&(u[`${x}ButtonAriaLabel`]=m.getAttribute("aria-label"))}),u},j2=l=>{const u={},d=l.querySelector("swal-image");return d&&(sr(d,["src","width","height","alt"]),d.hasAttribute("src")&&(u.imageUrl=d.getAttribute("src")),d.hasAttribute("width")&&(u.imageWidth=d.getAttribute("width")),d.hasAttribute("height")&&(u.imageHeight=d.getAttribute("height")),d.hasAttribute("alt")&&(u.imageAlt=d.getAttribute("alt"))),u},U2=l=>{const u={},d=l.querySelector("swal-icon");return d&&(sr(d,["type","color"]),d.hasAttribute("type")&&(u.icon=d.getAttribute("type")),d.hasAttribute("color")&&(u.iconColor=d.getAttribute("color")),u.iconHtml=d.innerHTML),u},V2=l=>{const u={},d=l.querySelector("swal-input");d&&(sr(d,["type","label","placeholder","value"]),u.input=d.getAttribute("type")||"text",d.hasAttribute("label")&&(u.inputLabel=d.getAttribute("label")),d.hasAttribute("placeholder")&&(u.inputPlaceholder=d.getAttribute("placeholder")),d.hasAttribute("value")&&(u.inputValue=d.getAttribute("value")));const m=Array.from(l.querySelectorAll("swal-input-option"));return m.length&&(u.inputOptions={},m.forEach(x=>{sr(x,["value"]);const j=x.getAttribute("value"),oe=x.innerHTML;u.inputOptions[j]=oe})),u},z2=(l,u)=>{const d={};for(const m in u){const x=u[m],j=l.querySelector(x);j&&(sr(j,[]),d[x.replace(/^swal-/,"")]=j.innerHTML.trim())}return d},H2=l=>{const u=ip.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(d=>{const m=d.tagName.toLowerCase();u.includes(m)||f(`Unrecognized element <${m}>`)})},sr=(l,u)=>{Array.from(l.attributes).forEach(d=>{u.indexOf(d.name)===-1&&f([`Unrecognized attribute "${d.name}" on <${l.tagName.toLowerCase()}>.`,`${u.length?`Allowed attributes are: ${u.join(", ")}`:"To set the value, use HTML within the element."}`])})},sp=10,K2=l=>{const u=v(),d=N();typeof l.willOpen=="function"&&l.willOpen(d);const x=window.getComputedStyle(document.body).overflowY;Q2(u,d,l),setTimeout(()=>{q2(u,d)},sp),rr()&&(W2(u,l.scrollbarPadding,x),TE()),!bt()&&!Y.previousActiveElement&&(Y.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(d)),Wt(u,s["no-transition"])},op=l=>{const u=N();if(l.target!==u)return;const d=v();u.removeEventListener(zi,op),d.style.overflowY="auto"},q2=(l,u)=>{zi&&_f(u)?(l.style.overflowY="hidden",u.addEventListener(zi,op)):l.style.overflowY="auto"},W2=(l,u,d)=>{bE(),u&&d!=="hidden"&&$E(),setTimeout(()=>{l.scrollTop=0})},Q2=(l,u,d)=>{Z(l,d.showClass.backdrop),u.style.setProperty("opacity","0","important"),Oe(u,"grid"),setTimeout(()=>{Z(u,d.showClass.popup),u.style.removeProperty("opacity")},sp),Z([document.documentElement,document.body],s.shown),d.heightAuto&&d.backdrop&&!d.toast&&Z([document.documentElement,document.body],s["height-auto"])};var ap={email:(l,u)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(l)?Promise.resolve():Promise.resolve(u||"Invalid email address"),url:(l,u)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(u||"Invalid URL")};function G2(l){l.inputValidator||Object.keys(ap).forEach(u=>{l.input===u&&(l.inputValidator=ap[u])})}function Y2(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(f('Target parameter is not valid, defaulting to "body"'),l.target="body")}function X2(l){G2(l),l.showLoaderOnConfirm&&!l.preConfirm&&f(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Y2(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),R1(l)}let Qt;class Vr{constructor(){if(typeof window>"u")return;Qt=this;for(var u=arguments.length,d=new Array(u),m=0;m<u;m++)d[m]=arguments[m];const x=Object.freeze(this.constructor.argsToParams(d));Object.defineProperties(this,{params:{value:x,writable:!1,enumerable:!0,configurable:!0}});const j=Qt._main(Qt.params);n.promise.set(this,j)}_main(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e2(Object.assign({},d,u)),Y.currentInstance&&(Y.currentInstance._destroy(),rr()&&Uf()),Y.currentInstance=Qt;const m=Z2(u,d);X2(m),Object.freeze(m),Y.timeout&&(Y.timeout.stop(),delete Y.timeout),clearTimeout(Y.restoreFocusTimeout);const x=eS(Qt);return Of(Qt,m),n.innerParams.set(Qt,m),J2(Qt,x,m)}then(u){return n.promise.get(this).then(u)}finally(u){return n.promise.get(this).finally(u)}}const J2=(l,u,d)=>new Promise((m,x)=>{const j=oe=>{l.close({isDismissed:!0,dismiss:oe})};Ki.swalPromiseResolve.set(l,m),Ki.swalPromiseReject.set(l,x),u.confirmButton.onclick=()=>{p2(l)},u.denyButton.onclick=()=>{m2(l)},u.cancelButton.onclick=()=>{g2(l,j)},u.closeButton.onclick=()=>{j(Br.close)},w2(l,u,j),wE(l,Y,d,j),o2(l,d),K2(d),tS(Y,d,j),nS(u,d),setTimeout(()=>{u.container.scrollTop=0})}),Z2=(l,u)=>{const d=O2(l),m=Object.assign({},jr,u,d,l);return m.showClass=Object.assign({},jr.showClass,m.showClass),m.hideClass=Object.assign({},jr.hideClass,m.hideClass),m},eS=l=>{const u={popup:N(),container:v(),actions:z(),confirmButton:lt(),denyButton:Tt(),cancelButton:on(),loader:$(),closeButton:we(),validationMessage:qt(),progressSteps:sn()};return n.domCache.set(l,u),u},tS=(l,u,d)=>{const m=se();ze(m),u.timer&&(l.timeout=new R2(()=>{d("timer"),delete l.timeout},u.timer),u.timerProgressBar&&(Oe(m),It(m,u,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&nu(u.timer)})))},nS=(l,u)=>{if(!u.toast){if(!S(u.allowEnterKey)){iS();return}rS(l,u)||ou(-1,1)}},rS=(l,u)=>u.focusDeny&&gt(l.denyButton)?(l.denyButton.focus(),!0):u.focusCancel&&gt(l.cancelButton)?(l.cancelButton.focus(),!0):u.focusConfirm&&gt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,iS=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const l=new Date,u=localStorage.getItem("swal-initiation");u?(l.getTime()-Date.parse(u))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const d=document.createElement("audio");d.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",d.loop=!0,document.body.appendChild(d),setTimeout(()=>{d.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}Object.assign(Vr.prototype,Gf),Object.assign(Vr,L2),Object.keys(Gf).forEach(l=>{Vr[l]=function(){if(Qt)return Qt[l](...arguments)}}),Vr.DismissReason=Br,Vr.version="11.7.3";const _o=Vr;return _o.default=_o,_o}),typeof bn<"u"&&bn.Sweetalert2&&(bn.swal=bn.sweetAlert=bn.Swal=bn.SweetAlert=bn.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')})(R_);const Tf=Rh,O_="/assets/delete-49766517.svg",M_=({producto:t})=>{const{eliminarProducto:e,modificarCantidad:n}=P.useContext(Dr),{titulo:r,precio:i,id:s,cantidad:o,img:a,marca:c,stock:h}=t,[f,p]=P.useState(o),g=E=>{Tf.fire({title:"Deseas eliminar el producto?",text:"Puedes volver a agregarlo desde el catlogo!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Estoy seguro!"}).then(C=>{C.isConfirmed&&E()})};return M("div",{className:"mx-0 sm:mx-8 my-4 p-4 md:px-4 bg-[#e1e6e1] flex flex-col md:flex-row justify-between shadow-2xl",children:[M("div",{className:"flex flex-col md:flex-row justify-center items-center",children:[k("img",{src:a,alt:"product image",className:"max-w-[360px] sm:max-h-[180px] rounded-lg"}),M("h2",{className:"text-xl font-semibold sm:mx-4 md:self-start",children:[r," - ",c]})]}),M("div",{className:"text-lg font-semibold flex flex-col items-center justify-center",children:[M("div",{className:"text-center sm:my-2 md:my-0 mx-4 flex flex-col justify-center",children:[M("span",{className:"my-2",children:["$",i," X ",f]}),M("h3",{children:["Subtotal: $",i*f]})]}),M("div",{className:"flex flex-col justify-center",children:[M("div",{children:[k("button",{className:"text-4xl leading-none text-bold p-2 px-4 bg-[#7a28cb] hover:bg-[#eb5e28] rounded-l-xl border-r-2 border-black duration-300",onClick:()=>{n(t,"+"),o<h&&p(f+1)},children:"+"}),k("button",{className:"text-4xl leading-none text-bold p-2 px-4 bg-[#7a28cb] hover:bg-[#eb5e28] rounded-r-xl duration-300",onClick:()=>{o>1?(n(t,"-"),p(f-1)):g(()=>{n(t,"-"),p(f-1)})},children:"-"})]}),M("button",{onClick:()=>g(()=>{e(t)}),className:"my-2 flex p-2 hover:bg-red-700 duration-300 rounded-xl",children:[k("img",{src:O_,alt:"delete icon",className:"max-w-[20px]"}),"Eliminar"]})]})]})]},s)},xg=[{key:"title",getter:t=>t.getTitle()},{key:"html",getter:t=>t.getHtmlContainer()},{key:"confirmButtonText",getter:t=>t.getConfirmButton()},{key:"denyButtonText",getter:t=>t.getDenyButton()},{key:"cancelButtonText",getter:t=>t.getCancelButton()},{key:"footer",getter:t=>t.getFooter()},{key:"closeButtonHtml",getter:t=>t.getCloseButton()},{key:"iconHtml",getter:t=>t.getIconContent()},{key:"loaderHtml",getter:t=>t.getLoader()}],ic=()=>{};function F_(t){function e(i){const s={},o={},a=xg.map(c=>c.key);return Object.entries(i).forEach(c=>{let[h,f]=c;a.includes(h)&&ra.isValidElement(f)?(s[h]=f,o[h]=" "):o[h]=f}),[s,o]}function n(i,s){Object.entries(s).forEach(o=>{let[a,c]=o;const f=xg.find(g=>g.key===a).getter(t),p=Pw(f);p.render(c),i.__roots.push(p)})}function r(i){i.__roots.forEach(s=>{s.unmount()}),i.__roots=[]}return class extends t{static argsToParams(i){if(ra.isValidElement(i[0])||ra.isValidElement(i[1])){const s={};return["title","html","icon"].forEach((o,a)=>{i[a]!==void 0&&(s[o]=i[a])}),s}else return t.argsToParams(i)}_main(i,s){this.__roots=[],this.__params=Object.assign({},s,i);const[o,a]=e(this.__params),c=a.willOpen||ic,h=a.didOpen||ic,f=a.didDestroy||ic;return super._main(Object.assign({},a,{willOpen:p=>{n(this,o),c(p)},didOpen:p=>{setTimeout(()=>{h(p)})},didDestroy:p=>{f(p),r(this)}}))}update(i){Object.assign(this.__params,i),r(this);const[s,o]=e(this.__params);super.update(o),n(this,s)}}}const B_=()=>{const[t,e]=P.useState(""),[n,r]=P.useState(""),{cart:i,setCart:s}=P.useContext(Dr),o=Ef(),a={nombre:t,correo:n,items:i.map(f=>({id:f.id,titulo:f.titulo,precio:f.precio,cantidad:f.cantidad})),total:i.reduce((f,p)=>f+=p.precio*p.cantidad,0)},c=a1(o,"orden");return M("form",{className:"flex flex-col items-center justify-center text-xl p-4 min-h-[350px]",onSubmit:f=>{f.preventDefault(),h_(c,a).then(({id:p})=>{F_(Tf).fire({icon:"success",title:k("h2",{className:"font-semibold",children:"Gracias por confiar en MusiShop"}),text:`Su orden de compra es ${p}`,footer:k("button",{className:"p-2 text-black bg-blue-700 text-xl font-semibold hover:bg-blue-500 duration-300 rounded-xl static",onClick:E=>navigator.clipboard.writeText(p),children:"Copiar orden de compra"}),willClose:()=>{s([])}})})},children:[k("h2",{className:"font-semibold",children:"Datos del comprador"}),k("label",{htmlFor:"nombre",className:"my-4",children:k("input",{type:"text",id:"nombre",placeholder:"Nombre completo...",required:!0,className:"p-2 rounded-xl focus:outline-none",onChange:f=>{e(f.target.value)}})}),k("label",{htmlFor:"correo",className:"my-4",children:k("input",{type:"email",id:"correo",placeholder:"Correo...",required:!0,className:"p-2 rounded-xl focus:outline-none",onChange:f=>r(f.target.value)})}),k("button",{type:"submit",className:"rounded-xl bg-green-600 p-4 hover:bg-green-500 duration-300",children:"Finalizar compra"})]})},j_=()=>k("section",{className:"flex justify-center items-center",id:"checkout",children:k(B_,{})}),U_=()=>{const{cart:t,setCart:e}=P.useContext(Dr),n=jw();return P.useEffect(()=>{t.length===0&&n("/catalogo")},[t]),M("div",{className:"min-h-screen bg-[#8f95d3] py-4",children:[t.map(r=>k(M_,{producto:r},r.id)),M("section",{className:"my-4 flex justify-evenly text-xl font-semibold border-y-2 border-black mx-8 p-2 bg-[#1C1C1C] text-white",children:[k(Ht,{to:"/catalogo",className:"rounded-xl hover:bg-green-700 duration-300 p-2",children:"Seguir comprando"}),k("button",{className:"rounded-xl hover:bg-red-700 duration-300 p-2",onClick:()=>{Tf.fire({title:"Desea limpiar el carrito?",text:"Puedes volver a agregar los productos!",icon:"warning",showCancelButton:!0,confirmButtonText:"Estoy seguro",confirmButtonColor:"#3085d6"}).then(r=>{r.isConfirmed&&e([])})},children:"Limpiar carrito"})]}),M("section",{className:"flex justify-evenly text-2xl font-semibold border-y-2 border-black mx-8 p-4 bg-[#E1E6E1]",children:[k("h2",{className:"",children:"Total:"}),M("span",{className:"",children:["$",t.reduce((r,i)=>r+=i.precio*i.cantidad,0)]})]}),k(j_,{})]})};function V_(){return M("div",{className:"App bg-gray-200 no-scrollbar",children:[M(Mk,{children:[k(T_,{}),M(Ik,{children:[k(lr,{exact:!0,path:"/",element:k(w_,{})}),k(lr,{exact:!0,path:"/catalogo",element:k(Cg,{greeting:"Todas las marcas en un solo lugar"})}),k(lr,{exact:!0,path:"/categorias/:categoria",element:k(Cg,{greeting:"Todas las marcas en un solo lugar"})}),k(lr,{exact:!0,path:"/producto/:id",element:k(L_,{})}),k(lr,{exact:!0,path:"/cart",element:k(U_,{})}),k(lr,{exact:!0,path:"/about",element:k(D_,{})})]})]}),k(A_,{})]})}var z_="firebase",H_="9.18.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di(z_,H_,"app");const K_={apiKey:"AIzaSyAeY1BSpCywlaH9XlmHs6yWke73hY_drfE",authDomain:"e-commerce-react-2d274.firebaseapp.com",projectId:"e-commerce-react-2d274",storageBucket:"e-commerce-react-2d274.appspot.com",messagingSenderId:"659051309050",appId:"1:659051309050:web:083e43f9bf041b6053e643"};Yw(K_);oc.createRoot(document.getElementById("root")).render(k(Pk,{children:k(V_,{})}));
